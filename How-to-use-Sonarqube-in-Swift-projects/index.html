<!DOCTYPE html>
<html lang=en>
<head><meta name="generator" content="Hexo 3.9.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Issue #216 Install Sonarqubehttps://docs.sonarqube.org/latest/setup/get-started-2-minutes/  Download Sonarqube for macOS https://www.sonarqube.org/downloads/ Put it in ~/sonarqube Run localhost server">
<meta name="keywords" content="swift">
<meta property="og:type" content="article">
<meta property="og:title" content="How to use Sonarqube in Swift projects">
<meta property="og:url" content="https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/index.html">
<meta property="og:site_name" content="onmyway133">
<meta property="og:description" content="Issue #216 Install Sonarqubehttps://docs.sonarqube.org/latest/setup/get-started-2-minutes/  Download Sonarqube for macOS https://www.sonarqube.org/downloads/ Put it in ~/sonarqube Run localhost server">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://user-images.githubusercontent.com/2284279/56885533-ed320000-6a6c-11e9-8550-7b24487a0a45.png">
<meta property="og:updated_time" content="2019-08-22T04:20:02.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to use Sonarqube in Swift projects">
<meta name="twitter:description" content="Issue #216 Install Sonarqubehttps://docs.sonarqube.org/latest/setup/get-started-2-minutes/  Download Sonarqube for macOS https://www.sonarqube.org/downloads/ Put it in ~/sonarqube Run localhost server">
<meta name="twitter:image" content="https://user-images.githubusercontent.com/2284279/56885533-ed320000-6a6c-11e9-8550-7b24487a0a45.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/icon96.jpeg">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/icon96.jpeg" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/icon96.jpeg">
          
        
    
    <!-- title -->
    <title>How to use Sonarqube in Swift projects</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/speaking/">Speaking</a></li>
         
          <li><a href="/opensource/">Open Source</a></li>
         
          <li><a href="/gumroad/">Gumroad</a></li>
         
          <li><a href="/jobs/">Jobs</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/How-to-use-Stripe-and-Apple-Pay-in-iOS/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/How-to-overload-functions-in-Swift/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&text=How to use Sonarqube in Swift projects"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&is_video=false&description=How to use Sonarqube in Swift projects"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=How to use Sonarqube in Swift projects&body=Check out this article: https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&name=How to use Sonarqube in Swift projects&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Sonarqube"><span class="toc-number">1.</span> <span class="toc-text">Install Sonarqube</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Sonar-scanner"><span class="toc-number">2.</span> <span class="toc-text">Install Sonar scanner</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-swift-plugin"><span class="toc-number">3.</span> <span class="toc-text">Install swift plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Skip-some-tools"><span class="toc-number">4.</span> <span class="toc-text">Skip some tools</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-ignore"><span class="toc-number">5.</span> <span class="toc-text">Git ignore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#run-sonar-swift-sh"><span class="toc-number">6.</span> <span class="toc-text">run-sonar-swift.sh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Troubleshooting"><span class="toc-number">7.</span> <span class="toc-text">Troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#failed-with-error-code-64-https-github-com-Backelite-sonar-swift-issues-222"><span class="toc-number">7.1.</span> <span class="toc-text">failed with error code: 64 https://github.com/Backelite/sonar-swift/issues/222</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-code-65"><span class="toc-number">7.2.</span> <span class="toc-text">Error code 65</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#destination"><span class="toc-number">7.3.</span> <span class="toc-text">destination</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Metric-‘files’-should-not-be-computed-by-a-Sensor"><span class="toc-number">7.4.</span> <span class="toc-text">Metric ‘files’ should not be computed by a Sensor</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        How to use Sonarqube in Swift projects
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">onmyway133</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-04-29T06:20:52.000Z" itemprop="datePublished">2019-04-29</time>
        
        (Updated: <time datetime="2019-08-22T04:20:02.000Z" itemprop="dateModified">2019-08-22</time>)
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/swift/">swift</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/216" target="_blank" rel="noopener">#216</a></strong></p>
<h2 id="Install-Sonarqube"><a href="#Install-Sonarqube" class="headerlink" title="Install Sonarqube"></a>Install Sonarqube</h2><p><a href="https://docs.sonarqube.org/latest/setup/get-started-2-minutes/" target="_blank" rel="noopener">https://docs.sonarqube.org/latest/setup/get-started-2-minutes/</a></p>
<ul>
<li>Download Sonarqube for macOS <a href="https://www.sonarqube.org/downloads/" target="_blank" rel="noopener">https://www.sonarqube.org/downloads/</a></li>
<li>Put it in <code>~/sonarqube</code></li>
<li>Run localhost server <code>~/sonarqube/bin/macosx-universal-64/sonar.sh console</code></li>
<li>Login <code>http://localhost:9000</code> with <code>admin/admin</code></li>
<li>Create new project</li>
</ul>
<h2 id="Install-Sonar-scanner"><a href="#Install-Sonar-scanner" class="headerlink" title="Install Sonar scanner"></a>Install Sonar scanner</h2><p><a href="https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner" target="_blank" rel="noopener">https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner</a></p>
<ul>
<li>Download for macOS 64 bit</li>
<li>Put it in <code>~/sonarscanner</code></li>
<li>export <code>PATH=$PATH:/Users/khoa/sonarscanner/bin</code></li>
<li>Go to project, create <code>sonar-project.properties</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># must be unique in a given SonarQube instance</span><br><span class="line">sonar.projectKey=my-app</span><br><span class="line"># this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1.</span><br><span class="line">sonar.projectName=My App</span><br><span class="line">sonar.projectVersion=1.0</span><br><span class="line"> </span><br><span class="line"># Path is relative to the sonar-project.properties file. Replace &quot;\&quot; by &quot;/&quot; on Windows.</span><br><span class="line"># This property is optional if sonar.modules is set. </span><br><span class="line">sonar.sources=.</span><br><span class="line"> </span><br><span class="line"># Encoding of the source code. Default is default system encoding</span><br><span class="line">#sonar.sourceEncoding=UTF-8</span><br></pre></td></tr></table></figure>

<ul>
<li>Run <code>sonar-scanner</code></li>
</ul>
<h2 id="Install-swift-plugin"><a href="#Install-swift-plugin" class="headerlink" title="Install swift plugin"></a>Install swift plugin</h2><p><a href="https://github.com/Backelite/sonar-swift" target="_blank" rel="noopener">https://github.com/Backelite/sonar-swift</a></p>
<ul>
<li>Download jar file <a href="https://github.com/Backelite/sonar-swift/releases" target="_blank" rel="noopener">https://github.com/Backelite/sonar-swift/releases</a></li>
<li>Follow <a href="https://docs.sonarqube.org/latest/setup/install-plugin/" target="_blank" rel="noopener">https://docs.sonarqube.org/latest/setup/install-plugin/</a></li>
<li>Put jar file into <code>~/sonarqube/extensions/plugins</code></li>
<li>Restart server</li>
<li>Copy run-sonar-swift.sh <a href="https://github.com/Backelite/sonar-swift/blob/develop/sonar-swift-plugin/src/main/shell/run-sonar-swift.sh" target="_blank" rel="noopener">https://github.com/Backelite/sonar-swift/blob/develop/sonar-swift-plugin/src/main/shell/run-sonar-swift.sh</a> to project folder</li>
<li>Go to Quality Profile <a href="http://localhost:9000/profiles?language=swift" target="_blank" rel="noopener">http://localhost:9000/profiles?language=swift</a></li>
</ul>
<img width="979" alt="a" src="https://user-images.githubusercontent.com/2284279/56885533-ed320000-6a6c-11e9-8550-7b24487a0a45.png">

<h2 id="Skip-some-tools"><a href="#Skip-some-tools" class="headerlink" title="Skip some tools"></a>Skip some tools</h2><p>Modify <code>run-sonar-swift.sh</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vflag=&quot;&quot;</span><br><span class="line">nflag=&quot;&quot;</span><br><span class="line">unittests=&quot;on&quot;</span><br><span class="line">swiftlint=&quot;on&quot;</span><br><span class="line">tailor=&quot;off&quot;</span><br><span class="line">lizard=&quot;on&quot;</span><br><span class="line">oclint=&quot;off&quot;</span><br><span class="line">fauxpas=&quot;off&quot;</span><br><span class="line">sonarscanner=&quot;&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Git-ignore"><a href="#Git-ignore" class="headerlink" title="Git ignore"></a>Git ignore</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.scannerwork/</span><br><span class="line">sonar-reports/</span><br><span class="line">compile_commands.json</span><br></pre></td></tr></table></figure>

<h2 id="run-sonar-swift-sh"><a href="#run-sonar-swift-sh" class="headerlink" title="run-sonar-swift.sh"></a>run-sonar-swift.sh</h2><ul>
<li>Update sonar-project.properties</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sonar.swift.appScheme=MyApp Staging</span><br><span class="line">sonar.swift.project=MyApp.xcodeproj</span><br><span class="line">sonar.swift.workspace=MyApp.xcworkspace</span><br><span class="line">sonar.swift.simulator=platform=iOS Simulator,name=iPhone Xʀ</span><br></pre></td></tr></table></figure>

<ul>
<li>Run <code>chmod +x run-sonar-swift.sh</code></li>
<li>Run <code>./run-sonar-swift.sh</code></li>
</ul>
<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="failed-with-error-code-64-https-github-com-Backelite-sonar-swift-issues-222"><a href="#failed-with-error-code-64-https-github-com-Backelite-sonar-swift-issues-222" class="headerlink" title="failed with error code: 64 https://github.com/Backelite/sonar-swift/issues/222"></a>failed with error code: 64 <a href="https://github.com/Backelite/sonar-swift/issues/222" target="_blank" rel="noopener">https://github.com/Backelite/sonar-swift/issues/222</a></h3><p>When run <code>./run-sonar-swift.sh</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xcodebuild: error: &apos;&apos;MyApp.xcodeproj&apos;&apos; does not exist.</span><br><span class="line">2019-04-29 12:10:17.486 defaults[4134:569992]</span><br><span class="line">Domain CFBundleShortVersionString does not exist</span><br><span class="line">.Extracting Xcode project informationxcodebuild: error: option &apos;Destination&apos; requires at least one parameter of the form &apos;key=value&apos;</span><br></pre></td></tr></table></figure>

<p>👉 Remove quotes in <code>sonar-project.properties</code><br>👉 Modify run-sonar-swift.sh, add these before <code>Check for mandatory parameters</code> section</p>
<p>Surround by double quotes</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">projectFile=&quot;\&quot;$projectFile\&quot;&quot;</span><br><span class="line">workspaceFile=&quot;\&quot;$workspaceFile\&quot;&quot;</span><br><span class="line">appScheme=&quot;\&quot;$appScheme\&quot;&quot;</span><br><span class="line">destinationSimulator=&quot;\&quot;$destinationSimulator\&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>😢 Does not work<br>👉 Need to create a scheme name without space</p>
<h3 id="Error-code-65"><a href="#Error-code-65" class="headerlink" title="Error code 65"></a>Error code 65</h3><p>👉Specify team in Xcode project</p>
<h3 id="destination"><a href="#destination" class="headerlink" title="destination"></a>destination</h3><p>Need double quotes</p>
<p><code>destinationSimulator=&quot;\&quot;$destinationSimulator\&quot;&quot;</code></p>
<p>Use equal sign <code>=</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-destination=&quot;$destinationSimulator&quot;</span><br></pre></td></tr></table></figure>

<p>instead of space ‘ ‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-destination &quot;$destinationSimulator&quot;</span><br></pre></td></tr></table></figure>

<h3 id="Metric-‘files’-should-not-be-computed-by-a-Sensor"><a href="#Metric-‘files’-should-not-be-computed-by-a-Sensor" class="headerlink" title="Metric ‘files’ should not be computed by a Sensor"></a>Metric ‘files’ should not be computed by a Sensor</h3><p>When run <code>sonar-scanner</code> <a href="https://github.com/Backelite/sonar-swift/issues/212" target="_blank" rel="noopener">https://github.com/Backelite/sonar-swift/issues/212</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">11:01:14.406 INFO: Sensor JaCoCo XML Report Importer [jacoco]</span><br><span class="line">11:01:14.409 DEBUG: No reports found</span><br><span class="line">11:01:14.409 INFO: Sensor JaCoCo XML Report Importer [jacoco] (done) | time=3ms</span><br><span class="line">11:01:14.409 INFO: Sensor SwiftLint [backelitesonarswiftplugin]</span><br><span class="line">11:01:14.417 INFO: Sensor SwiftLint [backelitesonarswiftplugin] (done) | time=8ms</span><br><span class="line">11:01:14.417 INFO: Sensor Tailor [backelitesonarswiftplugin]</span><br><span class="line">11:01:14.418 INFO: Sensor Tailor [backelitesonarswiftplugin] (done) | time=1ms</span><br><span class="line">11:01:14.418 INFO: Sensor OCLint [backelitesonarswiftplugin]</span><br><span class="line">11:01:14.419 INFO: Sensor OCLint [backelitesonarswiftplugin] (done) | time=1ms</span><br><span class="line">11:01:14.419 INFO: Sensor FauxPas [backelitesonarswiftplugin]</span><br><span class="line">11:01:14.419 INFO: Sensor FauxPas [backelitesonarswiftplugin] (done) | time=0ms</span><br><span class="line">11:01:14.419 INFO: Sensor Swift Squid [backelitesonarswiftplugin]</span><br><span class="line">11:01:14.526 INFO: ------------------------------------------------------------------------</span><br><span class="line">11:01:14.526 INFO: EXECUTION FAILURE</span><br><span class="line">11:01:14.526 INFO: ------------------------------------------------------------------------</span><br><span class="line">11:01:14.527 INFO: Total time: 6.180s</span><br><span class="line">11:01:14.603 INFO: Final Memory: 25M/566M</span><br><span class="line">11:01:14.603 INFO: ------------------------------------------------------------------------</span><br><span class="line">11:01:14.603 ERROR: Error during SonarQube Scanner execution</span><br><span class="line">java.lang.UnsupportedOperationException: Metric &apos;files&apos; should not be computed by a Sensor</span><br><span class="line">	at org.sonar.scanner.sensor.DefaultSensorStorage.saveMeasure(DefaultSensorStorage.java:168)</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">👉Install maven https://maven.apache.org/download.cgi</span><br><span class="line">Edit `ObjectiveCSquidSensor.java` and `SwiftSquidSensor`, remove line with `CoreMetrics.FILES`</span><br><span class="line">Run `export PATH=$PATH:/Users/khoa/apache-maven/bin`</span><br><span class="line">Run `./build-and-deploy.sh`</span><br><span class="line">Or `~/apache-maven/bin/mvn clean install`</span><br><span class="line"></span><br><span class="line">🎉 Built jar is in `sonar-swift-plugin/target/backelite-sonar-swift-plugin-0.4.4.jar`, copy back to `extensions/plugins`</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### How to enable SwiftLint as default profile 🤔</span><br><span class="line"></span><br><span class="line">👉 Need to close current Sonar tab and restart server</span><br><span class="line"></span><br><span class="line">### Testing failed: unable to attach DB</span><br><span class="line"></span><br><span class="line">Modify `run-sonar-swift.sh` to add `-UseModernBuildSystem=NO` to `buildCmd+=(-destination`</span><br><span class="line"></span><br><span class="line">### slather No coverage directory found</span><br><span class="line"></span><br><span class="line">Try running</span><br></pre></td></tr></table></figure>

<p>slather coverage –input-format profdata –cobertura-xml –output-directory sonar-reports –workspace MyApp.xcworkspace –scheme MyAppStaging MyApp.xcodeproj</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">👉 Enable coverage option in scheme -&gt; Test</span><br><span class="line"></span><br><span class="line">![](https://github.com/SlatherOrg/slather/raw/master/README_Images/test_scheme.png)</span><br><span class="line"></span><br><span class="line">Optional: declare `.slather.yml` file https://github.com/SlatherOrg/slather</span><br><span class="line"></span><br><span class="line">### Unable to execute SonarQube</span><br></pre></td></tr></table></figure>

<p>14:53:23.251 ERROR: Error during SonarQube Scanner execution<br>org.sonarsource.scanner.api.internal.ScannerException: Unable to execute SonarQube<br>    at org.sonarsource.scanner.api.internal.IsolatedLauncherFactory.lambda$createLauncher$0(IsolatedLauncherFactory.java:85)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">👉Start sonar server</span><br><span class="line"></span><br><span class="line">### LizardReportParser$SwiftFunction cannot be cast</span><br></pre></td></tr></table></figure>

<p>Error during SonarQube Scanner execution<br>java.lang.ClassCastException: com.backelite.sonarqube.swift.complexity.LizardReportParser$SwiftFunction cannot be cast to org.sonar.api.batch.fs.internal.DefaultInputComponent</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">👉 Run [lizard](https://github.com/terryyin/lizard) manually</span><br></pre></td></tr></table></figure>

<p>lizard –xml sonar-reports/lizard-report.xml<br>```</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/speaking/">Speaking</a></li>
         
          <li><a href="/opensource/">Open Source</a></li>
         
          <li><a href="/gumroad/">Gumroad</a></li>
         
          <li><a href="/jobs/">Jobs</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Sonarqube"><span class="toc-number">1.</span> <span class="toc-text">Install Sonarqube</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Sonar-scanner"><span class="toc-number">2.</span> <span class="toc-text">Install Sonar scanner</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-swift-plugin"><span class="toc-number">3.</span> <span class="toc-text">Install swift plugin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Skip-some-tools"><span class="toc-number">4.</span> <span class="toc-text">Skip some tools</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-ignore"><span class="toc-number">5.</span> <span class="toc-text">Git ignore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#run-sonar-swift-sh"><span class="toc-number">6.</span> <span class="toc-text">run-sonar-swift.sh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Troubleshooting"><span class="toc-number">7.</span> <span class="toc-text">Troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#failed-with-error-code-64-https-github-com-Backelite-sonar-swift-issues-222"><span class="toc-number">7.1.</span> <span class="toc-text">failed with error code: 64 https://github.com/Backelite/sonar-swift/issues/222</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Error-code-65"><span class="toc-number">7.2.</span> <span class="toc-text">Error code 65</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#destination"><span class="toc-number">7.3.</span> <span class="toc-text">destination</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Metric-‘files’-should-not-be-computed-by-a-Sensor"><span class="toc-number">7.4.</span> <span class="toc-text">Metric ‘files’ should not be computed by a Sensor</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&text=How to use Sonarqube in Swift projects"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&is_video=false&description=How to use Sonarqube in Swift projects"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=How to use Sonarqube in Swift projects&body=Check out this article: https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&title=How to use Sonarqube in Swift projects"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://onmyway133.github.io/How-to-use-Sonarqube-in-Swift-projects/&name=How to use Sonarqube in Swift projects&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Khoa Pham
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/speaking/">Speaking</a></li>
         
          <li><a href="/opensource/">Open Source</a></li>
         
          <li><a href="/gumroad/">Gumroad</a></li>
         
          <li><a href="/jobs/">Jobs</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<!-- clipboard -->

  <script src="/lib/clipboard/clipboard.min.js"></script>
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>

<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-40119591-5', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


</body>
</html>
