<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: javascript - onmyway133</title><meta description="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:type" content="blog"><meta property="og:title" content="onmyway133"><meta property="og:url" content="https://onmyway133.github.io/"><meta property="og:site_name" content="onmyway133"><meta property="og:description" content="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://onmyway133.github.io/img/og_image.png"><meta property="article:author" content="Khoa Pham"><meta property="article:tag" content="ios"><meta property="article:tag" content=" android"><meta property="article:tag" content="javascript"><meta property="article:tag" content=" react"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><meta property="twitter:creator" content="@onmyway133"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://onmyway133.github.io"},"headline":"onmyway133","image":["https://onmyway133.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Khoa Pham"},"description":"What you don&#39;t know is what you haven&#39;t learned"}</script><link rel="alternative" href="/atom.xml" title="onmyway133" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-40119591-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-40119591-5');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script data-ad-client="ca-pub-3656459401405265" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/apps">Apps</a><a class="navbar-item" href="/producthunt">Product Hunt</a><a class="navbar-item" href="/gumroad">Gumroad</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/opensource">Open Source</a><a class="navbar-item" href="/writing">Writing</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/speaking">Speaking</a><a class="navbar-item" href="/news">News</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">javascript</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-06T06:36:07.000Z" title="2020-05-06T06:36:07.000Z">2020-05-06</time><span class="level-item">a few seconds read (About 38 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-scroll-to-element-in-React/">How to scroll to element in React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/648">#648</a></strong></p>
<p>In a similar fashion to plain old javascript, note that <code>href</code> needs to have valid hash tag, like <code>#features</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;a</span><br><span class="line">    href=<span class="string">'#features'</span></span><br><span class="line">    onClick=&#123;() =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> options = &#123;</span><br><span class="line">            behavior: <span class="string">'smooth'</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">'features-section'</span>).scrollIntoView(options)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">&gt;</span><br><span class="line">    Features</span><br><span class="line">&lt;<span class="regexp">/a&gt;</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-27T20:01:47.000Z" title="2020-04-27T20:01:47.000Z">2020-04-27</time><span class="level-item">a minute read (About 195 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-simple-filter-menu-in-css/">How to make simple filter menu in css</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/643">#643</a></strong></p>
<p>Use material icons</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/icon?family=Material+Icons"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-id">#filter-container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#filter-items</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-flex;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(52, 46, 173, 0.25), <span class="number">0</span> <span class="number">15px</span> <span class="number">30px</span> <span class="number">0</span> <span class="built_in">rgba</span>(52, 46, 173, 0.1);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.filter-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.filter-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(239, 240, 241);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.filter-item</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(0.9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.filter-item</span><span class="selector-class">.selected</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(239, 240, 241);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.material-icons</span> &#123;</span><br><span class="line">	<span class="attribute">font-family</span>: <span class="string">"Material Icons"</span>;</span><br><span class="line">	<span class="attribute">display</span>: block;</span><br><span class="line">	<span class="attribute">margin-bottom</span>: <span class="number">4px</span>;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">26px</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="built_in">mix</span>(#fff, #342ead, 60%);</span><br><span class="line">	<span class="attribute">transition</span>: <span class="number">0.25s</span> ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.name</span> &#123;</span><br><span class="line">	<span class="attribute">display</span>: block;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">	<span class="attribute">color</span>: <span class="built_in">mix</span>(#fff, #342ead, 70%);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.25s</span> ease;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'Open Sans'</span>, sans-serif;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">filters.forEach(<span class="function">(<span class="params">filter</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> item = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">    item.href = <span class="string">'#'</span></span><br><span class="line">    item.className = <span class="string">'filter-item'</span></span><br><span class="line">    container.appendChild(item)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> icon = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>)</span><br><span class="line">    icon.className = <span class="string">'material-icons'</span></span><br><span class="line">    icon.innerText = filter.icon</span><br><span class="line">    item.appendChild(icon)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> name = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>)</span><br><span class="line">    name.className = <span class="string">'name'</span></span><br><span class="line">    name.innerText = filter.name</span><br><span class="line">    item.appendChild(name)</span><br><span class="line"></span><br><span class="line">    item.onclick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        handleFilterClick(item, filter)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T02:57:51.000Z" title="2020-04-26T02:57:51.000Z">2020-04-26</time><span class="level-item">a few seconds read (About 58 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-add-independent-page-in-hexo/">How to add independent page in hexo</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/641">#641</a></strong></p>
<p>Create a new page</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> page mydemo</span><br></pre></td></tr></table></figure>

<p>Remove <code>index.md</code> and create <code>index.html</code>, you can reference external css and js in this <code>index.html</code>. Hexo has <code>hexo new page mydemo --slug</code> but it does not support page hierarchy</p>
<p>Specify no layout so it is independent page.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-21T07:31:27.000Z" title="2020-04-21T07:31:27.000Z">2020-04-21</time><span class="level-item">a few seconds read (About 73 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-async-function-as-parameter-in-TypeScript/">How to use async function as parameter in TypeScript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/640">#640</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">useCache</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    collectionName: string, </span></span></span><br><span class="line"><span class="function"><span class="params">    key: string, </span></span></span><br><span class="line"><span class="function"><span class="params">    response: functions.Response&lt;any&gt;, </span></span></span><br><span class="line"><span class="function"><span class="params">    fetch: (</span>) =&gt; <span class="title">Promise</span>&lt;<span class="title">any</span>&gt;</span></span><br><span class="line"><span class="function">): <span class="title">Promise</span>&lt;<span class="title">any</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> existing = <span class="keyword">await</span> db.collection(collectionName).doc(key).get() </span><br><span class="line">    <span class="keyword">if</span> (existing.exists) &#123;</span><br><span class="line">        response.send(existing.data())</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> object = <span class="keyword">await</span> fetch()</span><br><span class="line">    <span class="keyword">const</span> json = <span class="built_in">Object</span>.assign(&#123;&#125;, object)</span><br><span class="line">    <span class="keyword">await</span> db.collection(collectionName).doc(key).set(json)</span><br><span class="line">    response.send(object)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">useCache(</span><br><span class="line">     <span class="string">"books"</span>,</span><br><span class="line">     key,</span><br><span class="line">     response,</span><br><span class="line">     <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">         <span class="keyword">const</span> service = <span class="keyword">new</span> Service()</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">await</span> service.doSomething(key)</span><br><span class="line">     &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-22T22:05:47.000Z" title="2019-12-22T22:05:47.000Z">2019-12-22</time><span class="level-item">a few seconds read (About 78 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-get-ISO-string-from-date-in-Javascript/">How to get ISO string from date in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/552">#552</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">type Components = &#123;</span><br><span class="line">  day: number,</span><br><span class="line">  month: number,</span><br><span class="line">  year: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">DateFormatter</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 2018-11-11T00:00:00</span></span><br><span class="line">  <span class="keyword">static</span> ISOStringWithoutTimeZone = (date: <span class="built_in">Date</span>): <span class="function"><span class="params">string</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> components = DateFormatter.format(DateFormatter.components(date))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;components.year&#125;</span>-<span class="subst">$&#123;components.month&#125;</span>-<span class="subst">$&#123;components.day&#125;</span>T00:00:00`</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> format = <span class="function">(<span class="params">components: Components</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      day: <span class="string">`<span class="subst">$&#123;components.day&#125;</span>`</span>.padStart(<span class="number">2</span>, <span class="string">'0'</span>),</span><br><span class="line">      month: <span class="string">`<span class="subst">$&#123;components.month&#125;</span>`</span>.padStart(<span class="number">2</span>, <span class="string">'0'</span>),</span><br><span class="line">      year: components.year</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> components = (date: <span class="built_in">Date</span>): <span class="function"><span class="params">Components</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      day: date.getDate(),</span><br><span class="line">      month: date.getMonth() + <span class="number">1</span>,</span><br><span class="line">      year: date.getFullYear()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://stackoverflow.com/a/53298976/1418457">https://stackoverflow.com/a/53298976/1418457</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-05T08:35:11.000Z" title="2019-11-05T08:35:11.000Z">2019-11-05</time><span class="level-item">2 minutes read (About 225 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-apply-translations-to-Localizable.strings/">How to apply translations to Localizable.strings</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/492">#492</a></strong></p>
<p>Suppose we have a base Localizable.strings</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;open&quot; &#x3D; &quot;Open&quot;;</span><br><span class="line">&quot;closed&quot; &#x3D; &quot;Closed&quot;;</span><br></pre></td></tr></table></figure>

<p>After sending that file for translations, we get translated versions.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;open&quot; &#x3D; &quot;Åpen&quot;;</span><br><span class="line">&quot;closed&quot; &#x3D; &quot;Stengt&quot;;</span><br></pre></td></tr></table></figure>

<p>Searching and copy pasting these to our Localizable.strings is tedious and time consuming. We can write a script to apply that.</p>
<p>Remember that we need to be aware of smart and dump quotes</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>)</span><br><span class="line">.replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> originalFile = <span class="string">'MyApp/Resources/nb.lproj/Localizable.strings'</span></span><br><span class="line"><span class="keyword">const</span> translationString = <span class="string">`</span></span><br><span class="line"><span class="string">"open" = "Åpen";</span></span><br><span class="line"><span class="string">"closed" = "Stengt";</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Translation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(key, value) &#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key</span><br><span class="line">        <span class="keyword">this</span>.value = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Translation.make = <span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">line</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!line.endsWith(<span class="string">';'</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Translation(<span class="string">''</span>, <span class="string">''</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> parts = line</span><br><span class="line">        .replace(<span class="string">';'</span>)</span><br><span class="line">        .split(<span class="string">" = "</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> key = parts[<span class="number">0</span>]</span><br><span class="line">        .replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>)</span><br><span class="line">        .replace(<span class="regexp">/\”/g</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">const</span> value = parts[<span class="number">1</span>]</span><br><span class="line">        .replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>)</span><br><span class="line">        .replace(<span class="regexp">/\”/g</span>, <span class="string">''</span>)</span><br><span class="line">        .replace(<span class="string">'undefined'</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Translation(key, value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> translations = translationString</span><br><span class="line">        .split(<span class="regexp">/\r?\n/</span>)</span><br><span class="line">        .map(<span class="function">(<span class="params">line</span>) =&gt;</span> &#123; <span class="keyword">return</span> Translation.make(line) &#125;)</span><br><span class="line"></span><br><span class="line">    apply(translations, originalFile)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">apply</span>(<span class="params">translations, originalFile</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> originalData = fs.readFileSync(originalFile, <span class="string">'utf8'</span>)</span><br><span class="line">        <span class="keyword">const</span> originalLines = originalData.split(<span class="regexp">/\r?\n/</span>)</span><br><span class="line">        <span class="keyword">const</span> parsedLine = originalLines.map(<span class="function">(<span class="params">originalLine</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> originalTranslation = Translation.make(originalLine)</span><br><span class="line">            <span class="keyword">const</span> find = translations.find(<span class="function">(<span class="params">translation</span>) =&gt;</span> &#123; <span class="keyword">return</span> translation.key === originalTranslation.key &#125;)</span><br><span class="line">            <span class="keyword">if</span> (originalLine !== <span class="string">""</span> &amp;&amp; find !== <span class="literal">undefined</span> &amp;&amp;  find.key !== <span class="string">""</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">`"<span class="subst">$&#123;find.key&#125;</span>" = "<span class="subst">$&#123;find.value&#125;</span>";`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> originalLine</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> parsedData = parsedLine.join(<span class="string">'\n'</span>)</span><br><span class="line">        fs.writeFileSync(originalFile, parsedData, &#123; <span class="attr">overwrite</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-10-29T08:20:23.000Z" title="2019-10-29T08:20:23.000Z">2019-10-29</time><span class="level-item">a few seconds read (About 66 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-react-native-link-and-CocoaPods/">How to use react-native link and CocoaPods</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/476">#476</a></strong></p>
<p>React Native comes with a default React library, and most CocoaPods libraries for React Native has React as a dependency pod, which causes the conflict</p>
<ul>
<li><a href="https://github.com/react-native-community/react-native-svg/issues/621">https://github.com/react-native-community/react-native-svg/issues/621</a></li>
<li><a href="https://stackoverflow.com/questions/45296994/difference-between-react-native-link-and-cocoapods">https://stackoverflow.com/questions/45296994/difference-between-react-native-link-and-cocoapods</a></li>
<li><a href="https://github.com/onmyway133/notes/issues/486">https://github.com/onmyway133/notes/issues/486</a></li>
<li><a href="https://github.com/facebook/react-native/pull/23563">https://github.com/facebook/react-native/pull/23563</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-26T11:08:57.000Z" title="2019-09-26T11:08:57.000Z">2019-09-26</time><span class="level-item">3 minutes read (About 423 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-notarize-electron-app/">How to notarize electron app</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/430">#430</a></strong></p>
<h2 id="Use-electron-builder"><a href="#Use-electron-builder" class="headerlink" title="Use electron builder"></a>Use electron builder</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install electron-builder@latest --save-dev</span><br></pre></td></tr></table></figure>

<ul>
<li>Prefer electron-builder over electron-packager</li>
<li>Configuration <a href="https://www.electron.build/configuration/configuration">https://www.electron.build/configuration/configuration</a></li>
</ul>
<p><code>package.json</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"icon_generator"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.3.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"A macOS app to generate app icons"</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"babel/main.js"</span>,</span><br><span class="line">  <span class="string">"repository"</span>: <span class="string">"https://github.com/onmyway133/IconGenerator"</span>,</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">"Khoa Pham"</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"npm run babel &amp;&amp; electron ."</span>,</span><br><span class="line">    <span class="string">"babel"</span>: <span class="string">"babel ./src --out-dir ./babel --copy-files"</span>,</span><br><span class="line">    <span class="string">"dist"</span>: <span class="string">"npm run babel &amp;&amp; electron-builder"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"build"</span>: &#123;</span><br><span class="line">    <span class="string">"appId"</span>: <span class="string">"com.onmyway133.IconGenerator"</span>,</span><br><span class="line">    <span class="string">"buildVersion"</span>: <span class="string">"20"</span>,</span><br><span class="line">    <span class="string">"productName"</span>: <span class="string">"Icon Generator"</span>,</span><br><span class="line">    <span class="string">"icon"</span>: <span class="string">"./Icon/Icon.icns"</span>,</span><br><span class="line">    <span class="string">"mac"</span>: &#123;</span><br><span class="line">      <span class="string">"category"</span>: <span class="string">"public.app-category.productivity"</span>,</span><br><span class="line">      <span class="string">"hardenedRuntime"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">"gatekeeperAssess"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="string">"entitlements"</span>: <span class="string">"./entitlements.plist"</span>,</span><br><span class="line">      <span class="string">"entitlementsInherit"</span>: <span class="string">"./entitlements.plist"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"win"</span>: &#123;</span><br><span class="line">      <span class="string">"target"</span>: <span class="string">"msi"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"linux"</span>: &#123;</span><br><span class="line">      <span class="string">"target"</span>: [</span><br><span class="line">        <span class="string">"AppImage"</span>,</span><br><span class="line">        <span class="string">"deb"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"afterSign"</span>: <span class="string">"./afterSignHook.js"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Declare-entitlements"><a href="#Declare-entitlements" class="headerlink" title="Declare entitlements"></a>Declare entitlements</h2><p><code>entitlements.plist</code></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.security.cs.allow-jit<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.security.cs.allow-unsigned-executable-memory<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>com.apple.security.cs.allow-dyld-environment-variables<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">true</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Use-electron-notarize"><a href="#Use-electron-notarize" class="headerlink" title="Use electron-notarize"></a>Use electron-notarize</h2><ul>
<li><a href="https://github.com/electron/electron-notarize">https://github.com/electron/electron-notarize</a></li>
</ul>
<p><code>afterSignHook.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">var</span> electron_notarize = <span class="built_in">require</span>(<span class="string">'electron-notarize'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// Only notarize the app on Mac OS only.</span></span><br><span class="line">    <span class="keyword">if</span> (process.platform !== <span class="string">'darwin'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'afterSign hook triggered'</span>, params);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Same appId in electron-builder.</span></span><br><span class="line">    <span class="keyword">let</span> appId = <span class="string">'com.onmyway133.IconGenerator'</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> appPath = path.join(params.appOutDir, <span class="string">`<span class="subst">$&#123;params.packager.appInfo.productFilename&#125;</span>.app`</span>);</span><br><span class="line">    <span class="keyword">if</span> (!fs.existsSync(appPath)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`Cannot find application at: <span class="subst">$&#123;appPath&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Notarizing <span class="subst">$&#123;appId&#125;</span> found at <span class="subst">$&#123;appPath&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> electron_notarize.notarize(&#123;</span><br><span class="line">            appBundleId: appId,</span><br><span class="line">            appPath: appPath,</span><br><span class="line">            appleId: process.env.appleId,</span><br><span class="line">            appleIdPassword: process.env.appleIdPassword,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.error(error);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Done notarizing <span class="subst">$&#123;appId&#125;</span>`</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="Run"><a href="#Run" class="headerlink" title="Run"></a>Run</h2><p>Generate password for Apple Id because of 2FA</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export appleId&#x3D;onmyway133@gmail.com</span><br><span class="line">export appleIdPassword&#x3D;1234-abcd-efgh-7890</span><br><span class="line">npm run dist</span><br></pre></td></tr></table></figure>

<h2 id="Check"><a href="#Check" class="headerlink" title="Check"></a>Check</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spctl --assess --verbose Icon\ Generator.app</span><br></pre></td></tr></table></figure>

<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h3><ul>
<li>Since electron-builder create <code>dist</code> folder for distribution, for example <code>dist/mac/Icon Generator</code>, I’ve renamed babel generated code to <code>babel</code> directory</li>
</ul>
<h3 id="babel-6-regeneratorRuntime-is-not-defined"><a href="#babel-6-regeneratorRuntime-is-not-defined" class="headerlink" title="babel 6 regeneratorRuntime is not defined"></a>babel 6 regeneratorRuntime is not defined</h3><p>It is because of afterSignHook. Ignore in <code>.babelrc</code> not work</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    &quot;transform-react-jsx-source&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;presets&quot;: [&quot;env&quot;, &quot;react&quot;],</span><br><span class="line">  &quot;ignore&quot;: [</span><br><span class="line">    &quot;afterSignHook.js&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Should use babel 7 with <code>babel.config.js</code></p>
<ul>
<li><a href="https://babeljs.io/docs/en/config-files#project-wide-configuration">https://babeljs.io/docs/en/config-files#project-wide-configuration</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save @babel&#x2F;runtime </span><br><span class="line">npm install --save-dev @babel&#x2F;plugin-transform-runtime</span><br></pre></td></tr></table></figure>

<h2 id="Use-electron-forge"><a href="#Use-electron-forge" class="headerlink" title="Use electron-forge"></a>Use electron-forge</h2><p><a href="https://httptoolkit.tech/blog/notarizing-electron-apps-with-electron-forge/">https://httptoolkit.tech/blog/notarizing-electron-apps-with-electron-forge/</a></p>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://medium.com/@TwitterArchiveEraser/notarize-electron-apps-7a5f988406db">https://medium.com/@TwitterArchiveEraser/notarize-electron-apps-7a5f988406db</a></li>
<li><a href="https://kilianvalkhof.com/2019/electron/notarizing-your-electron-application/">https://kilianvalkhof.com/2019/electron/notarizing-your-electron-application/</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-17T09:40:48.000Z" title="2019-09-17T09:40:48.000Z">2019-09-17</time><span class="level-item">a few seconds read (About 40 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-custom-domain-for-GitHub-pages/">How to use custom domain for GitHub pages</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/423">#423</a></strong></p>
<h2 id="In-DNS-settings"><a href="#In-DNS-settings" class="headerlink" title="In DNS settings"></a>In DNS settings</h2><p>Add 4 A records</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A @ 185.199.110.153</span><br><span class="line">A @	185.199.111.153</span><br><span class="line">A @	185.199.108.153</span><br><span class="line">A @	185.199.109.153</span><br></pre></td></tr></table></figure>

<p>and 1 CNAME record</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CNAME www learntalks.github.io</span><br></pre></td></tr></table></figure>

<h2 id="In-GitHub"><a href="#In-GitHub" class="headerlink" title="In GitHub"></a>In GitHub</h2><ul>
<li>Select custom domain and type <code>learntalks.com</code></li>
</ul>
<h2 id="In-source"><a href="#In-source" class="headerlink" title="In source"></a>In source</h2><p><code>public/CNAME</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">learntalks.com</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-16T08:31:23.000Z" title="2019-09-16T08:31:23.000Z">2019-09-16</time><span class="level-item">a few seconds read (About 19 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-replace-all-occurrences-of-a-string-in-Javascript/">How to replace all occurrences of a string in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/420">#420</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> normalized = string</span><br><span class="line">   .replace(<span class="regexp">/\//g</span>, <span class="string">''</span>)</span><br><span class="line">   .replace(<span class="regexp">/\"/g</span>, <span class="string">''</span>)</span><br><span class="line">   .replace(<span class="regexp">/\(/g</span>, <span class="string">''</span>)</span><br><span class="line">   .replace(<span class="regexp">/\)/g</span>, <span class="string">''</span>)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-16T07:09:20.000Z" title="2019-09-16T07:09:20.000Z">2019-09-16</time><span class="level-item">a few seconds read (About 84 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-read-and-write-file-using-fs-in-node/">How to read and write file using fs in node</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/419">#419</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">write</span>(<span class="params">json</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="built_in">JSON</span>.stringify(json)</span><br><span class="line">    <span class="keyword">const</span> year = json.date.getFullYear()</span><br><span class="line">    <span class="keyword">const</span> directory = <span class="string">`collected/<span class="subst">$&#123;slugify(className)&#125;</span>/<span class="subst">$&#123;year&#125;</span>`</span></span><br><span class="line"></span><br><span class="line">    fs.mkdirSync(directory, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">    fs.writeFileSync(</span><br><span class="line">        <span class="string">`<span class="subst">$&#123;directory&#125;</span>/<span class="subst">$&#123;slugify(studentName)&#125;</span>`</span>, </span><br><span class="line">        data,</span><br><span class="line">        &#123; <span class="attr">overwrite</span>: <span class="literal">true</span> &#125;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">readAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> classes = fs.readdirSync(<span class="string">'classes'</span>)</span><br><span class="line">    classes.forEach(<span class="function">(<span class="params">class</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> years = fs.readdirSync(<span class="string">`classes/<span class="subst">$&#123;class&#125;</span>`</span>)</span><br><span class="line">        years.forEach(<span class="function">(<span class="params">year</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> students = fs.readdirSync(<span class="string">`classes/<span class="subst">$&#123;class&#125;</span>/<span class="subst">$&#123;year&#125;</span>`</span>)</span><br><span class="line">            students.forEach(<span class="function">(<span class="params">student</span>) =&gt;</span> &#123;</span><br><span class="line">            	<span class="keyword">const</span> data = fs.readFileSync(<span class="string">`classes/<span class="subst">$&#123;class&#125;</span>/<span class="subst">$&#123;year&#125;</span>/<span class="subst">$&#123;student&#125;</span>)</span></span><br><span class="line"><span class="string">            	const json = JSON.parse(data)</span></span><br><span class="line"><span class="string">            &#125;)</span></span><br><span class="line"><span class="string">        &#125;)</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-16T06:36:02.000Z" title="2019-09-16T06:36:02.000Z">2019-09-16</time><span class="level-item">5 minutes read (About 774 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-get-videos-from-vimeo-in-node/">How to get videos from vimeo in node</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/418">#418</a></strong></p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>Path for user <code>users/nsspain/videos</code><br>Path for showcase <a href="https://developer.vimeo.com/api/reference/albums#get_album">https://developer.vimeo.com/api/reference/albums#get_album</a><br>Path for Channels, Groups and Portfolios</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Vimeo = <span class="built_in">require</span>(<span class="string">'vimeo'</span>).Vimeo</span><br><span class="line"><span class="keyword">const</span> vimeoClient = <span class="keyword">new</span> Vimeo(vimeoClientId, vimeoClientSecret, vimeoAccessToken)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> getVideos(path) &#123;</span><br><span class="line">    <span class="keyword">const</span> options = &#123;</span><br><span class="line">        path: <span class="string">`channels/staffpicks/videos`</span>,</span><br><span class="line">        query: &#123;</span><br><span class="line">            page: <span class="number">1</span>,</span><br><span class="line">            per_page: <span class="number">100</span>,</span><br><span class="line">            fields: <span class="string">'uri,name,description,created_time,pictures'</span></span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            vimeoClient.request(options, (error, body, status_code, headers) =&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (isValid(body)) &#123;</span><br><span class="line">                    resolve(body)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">throw</span> error</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            reject(e)</span><br><span class="line">            <span class="built_in">console</span>.log(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Response look like</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="attr">"total"</span>:<span class="number">13754</span>,</span><br><span class="line">   <span class="attr">"page"</span>:<span class="number">1</span>,</span><br><span class="line">   <span class="attr">"per_page"</span>:<span class="number">100</span>,</span><br><span class="line">   <span class="attr">"paging"</span>:&#123;</span><br><span class="line">      <span class="attr">"next"</span>:<span class="string">"/channels/staffpicks/videos?page=2&amp;per_page=100&amp;fields=uri%2Cname%2Cdescription%2Ccreated_time%2Cpictures"</span>,</span><br><span class="line">      <span class="attr">"previous"</span>:<span class="literal">null</span>,</span><br><span class="line">      <span class="attr">"first"</span>:<span class="string">"/channels/staffpicks/videos?page=1&amp;per_page=100&amp;fields=uri%2Cname%2Cdescription%2Ccreated_time%2Cpictures"</span>,</span><br><span class="line">      <span class="attr">"last"</span>:<span class="string">"/channels/staffpicks/videos?page=138&amp;per_page=100&amp;fields=uri%2Cname%2Cdescription%2Ccreated_time%2Cpictures"</span></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">"data"</span>:[</span><br><span class="line">      &#123;</span><br><span class="line">         <span class="attr">"uri"</span>:<span class="string">"/videos/359281775"</span>,</span><br><span class="line">         <span class="attr">"name"</span>:<span class="string">"Maestro"</span>,</span><br><span class="line">         <span class="attr">"description"</span>:<span class="string">"A Bloom Pictures short film directed by Illogic.\n\n\"Maestro\" is this week's Staff Pick Premiere. Read more about it on the Vimeo Blog:  https://vimeo.com/blog/post/staff-pick-premiere-maestro-from-illogic\n\nMaking of :\n https://vimeo.com/bloompictures/maestromakingof\n\nYou want to collaborate?\nSend us a message at : hello@bloompictures.tv\n\nFor festivals and screenings, please contact : \nfestival@miyu.fr\n\nPress/Media requests : \nbenoit@animationshowcase.com\n\nhttps://www.bloompictures.tv\n\n©Bloom Pictures 2019"</span>,</span><br><span class="line">         <span class="attr">"created_time"</span>:<span class="string">"2019-09-11T12:31:33+00:00"</span>,</span><br><span class="line">         <span class="attr">"pictures"</span>:&#123;</span><br><span class="line">            <span class="attr">"uri"</span>:<span class="string">"/videos/359281775/pictures/813130850"</span>,</span><br><span class="line">            <span class="attr">"active"</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="attr">"type"</span>:<span class="string">"custom"</span>,</span><br><span class="line">            <span class="attr">"sizes"</span>:[</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">100</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">75</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_100x75.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_100x75.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">200</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">150</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_200x150.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_200x150.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">295</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">166</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_295x166.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_295x166.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">640</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">360</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_640x360.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_640x360.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">1280</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">720</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_1280x720.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_1280x720.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">1920</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">1080</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_1920x1080.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_1920x1080.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">640</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">346</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_640x346.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_640x346.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">960</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">519</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_960x519.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_960x519.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">1280</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">692</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_1280x692.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_1280x692.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">1920</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">1038</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_1920x1038.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_1920x1038.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;,</span><br><span class="line">               &#123;</span><br><span class="line">                  <span class="attr">"width"</span>:<span class="number">1280</span>,</span><br><span class="line">                  <span class="attr">"height"</span>:<span class="number">692</span>,</span><br><span class="line">                  <span class="attr">"link"</span>:<span class="string">"https://i.vimeocdn.com/video/813130850_1280x692.jpg?r=pad"</span>,</span><br><span class="line">                  <span class="attr">"link_with_play_button"</span>:<span class="string">"https://i.vimeocdn.com/filter/overlay?src0=https%3A%2F%2Fi.vimeocdn.com%2Fvideo%2F813130850_1280x692.jpg&amp;src1=http%3A%2F%2Ff.vimeocdn.com%2Fp%2Fimages%2Fcrawler_play.png"</span></span><br><span class="line">               &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">"resource_key"</span>:<span class="string">"b42ac645a67b3277cb2fe66d3894016842ceef72"</span></span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://www.npmjs.com/package/vimeo#make-requests">https://www.npmjs.com/package/vimeo#make-requests</a></li>
<li><a href="https://developer.vimeo.com/api/reference/users#get_picture">https://developer.vimeo.com/api/reference/users#get_picture</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-13T12:06:43.000Z" title="2019-09-13T12:06:43.000Z">2019-09-13</time><span class="level-item">2 minutes read (About 269 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-get-videos-from-youtube-in-node/">How to get videos from youtube in node</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/417">#417</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Youtube</span> </span>&#123;</span><br><span class="line">    <span class="keyword">async</span> getVideos(playlistId, pageToken) &#123;</span><br><span class="line">        <span class="keyword">const</span> options = &#123;</span><br><span class="line">            key: clientKey,</span><br><span class="line">            part: <span class="string">'id,contentDetails,snippet'</span>,</span><br><span class="line">            playlistId: playlistId,</span><br><span class="line">            maxResult: <span class="number">100</span>, </span><br><span class="line">            pageToken</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                youtube.playlistItems.list(options, (error, result) =&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> (isValid(result)) &#123;</span><br><span class="line">                        resolve(result)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">throw</span> error</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                reject(e)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Response look like</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="string">"kind"</span>: <span class="string">"youtube#playlistItemListResponse"</span>,</span><br><span class="line"> <span class="string">"etag"</span>: <span class="string">"\"p4VTdlkQv3HQeTEaXgvLePAydmU/ZNTrH71d3sV6gR6BWPeamXI1HhE\""</span>,</span><br><span class="line"> <span class="string">"nextPageToken"</span>: <span class="string">"CAUQAA"</span>,</span><br><span class="line"> <span class="string">"pageInfo"</span>: &#123;</span><br><span class="line">  <span class="string">"totalResults"</span>: <span class="number">32</span>,</span><br><span class="line">  <span class="string">"resultsPerPage"</span>: <span class="number">5</span></span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="string">"items"</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">"kind"</span>: <span class="string">"youtube#playlistItem"</span>,</span><br><span class="line">   <span class="string">"etag"</span>: <span class="string">"\"p4VTdlkQv3HQeTEaXgvLePAydmU/pt-bElhU3f7Q6c1Wc0URk9GJN-w\""</span>,</span><br><span class="line">   <span class="string">"id"</span>: <span class="string">"UExDbDVOTTRxRDN1X0w4ZEpyV1liTEI4RmNVYW9BSERGdC4yODlGNEE0NkRGMEEzMEQy"</span>,</span><br><span class="line">   <span class="string">"snippet"</span>: &#123;</span><br><span class="line">    <span class="string">"publishedAt"</span>: <span class="string">"2019-04-11T06:09:26.000Z"</span>,</span><br><span class="line">    <span class="string">"channelId"</span>: <span class="string">"UCuPue-GLK4nVX8klxQITIOw"</span>,</span><br><span class="line">    <span class="string">"title"</span>: <span class="string">"abc"</span>,</span><br><span class="line">    <span class="string">"description"</span>: <span class="string">"abc"</span>,</span><br><span class="line">    <span class="string">"thumbnails"</span>: &#123;</span><br><span class="line">     <span class="string">"default"</span>: &#123;</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"https://i.ytimg.com/vi/ZefmzgLabCA/default.jpg"</span>,</span><br><span class="line">      <span class="string">"width"</span>: <span class="number">120</span>,</span><br><span class="line">      <span class="string">"height"</span>: <span class="number">90</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="string">"medium"</span>: &#123;</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"https://i.ytimg.com/vi/ZefmzgLabCA/mqdefault.jpg"</span>,</span><br><span class="line">      <span class="string">"width"</span>: <span class="number">320</span>,</span><br><span class="line">      <span class="string">"height"</span>: <span class="number">180</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="string">"high"</span>: &#123;</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"https://i.ytimg.com/vi/ZefmzgLabCA/hqdefault.jpg"</span>,</span><br><span class="line">      <span class="string">"width"</span>: <span class="number">480</span>,</span><br><span class="line">      <span class="string">"height"</span>: <span class="number">360</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="string">"standard"</span>: &#123;</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"https://i.ytimg.com/vi/ZefmzgLabCA/sddefault.jpg"</span>,</span><br><span class="line">      <span class="string">"width"</span>: <span class="number">640</span>,</span><br><span class="line">      <span class="string">"height"</span>: <span class="number">480</span></span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="string">"maxres"</span>: &#123;</span><br><span class="line">      <span class="string">"url"</span>: <span class="string">"https://i.ytimg.com/vi/ZefmzgLabCA/maxresdefault.jpg"</span>,</span><br><span class="line">      <span class="string">"width"</span>: <span class="number">1280</span>,</span><br><span class="line">      <span class="string">"height"</span>: <span class="number">720</span></span><br><span class="line">     &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"channelTitle"</span>: <span class="string">"try! Swift Conference"</span>,</span><br><span class="line">    <span class="string">"playlistId"</span>: <span class="string">"PLCl5NM4qD3u_L8dJrWYbLB8FcUaoAHDFt"</span>,</span><br><span class="line">    <span class="string">"position"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="string">"resourceId"</span>: &#123;</span><br><span class="line">     <span class="string">"kind"</span>: <span class="string">"youtube#video"</span>,</span><br><span class="line">     <span class="string">"videoId"</span>: <span class="string">"ZefmzgLabCA"</span></span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To handle pagination</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> getVideosLoop(playlistId, nextPageToken, items, count) &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="keyword">this</span>.getVideos(playlistId, nextPageToken)</span><br><span class="line">    <span class="keyword">const</span> newItems = items.concat(response.data.items)</span><br><span class="line">    <span class="keyword">if</span> (isValid(response.data.nextPageToken) &amp;&amp; count &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.getVideosLoop(playlistId, response.data.nextPageToken, newItems, count + <span class="number">1</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> newItems</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To get playlist title, use <a href="https://developers.google.com/youtube/v3/docs/playlists/list">playlists.list</a></p>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://developers.google.com/youtube/v3/docs/playlistItems/list">https://developers.google.com/youtube/v3/docs/playlistItems/list</a></li>
<li><a href="https://developers.google.com/youtube/v3/quickstart/nodejs">https://developers.google.com/youtube/v3/quickstart/nodejs</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-13T11:31:27.000Z" title="2019-09-13T11:31:27.000Z">2019-09-13</time><span class="level-item">a few seconds read (About 76 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-convert-callback-to-Promise-in-Javascript/">How to convert callback to Promise in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/416">#416</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toPromise = <span class="function">(<span class="params">f: (any</span>) =&gt;</span> <span class="keyword">void</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>&lt;any&gt;<span class="function">(<span class="params">(resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      f(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(result)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      reject(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> videos = <span class="keyword">await</span> toPromise(callback)</span><br></pre></td></tr></table></figure>

<p>If a function accepts many parameters, we need to curry <a href="https://onmyway133.github.io/blog/Curry-in-Swift-and-Javascript/">https://onmyway133.github.io/blog/Curry-in-Swift-and-Javascript/</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry2</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">p1</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">p2</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> f(p1, p2)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> callback = curry2(aFunctionThatAcceptsOptionsAndCallback)(options)</span><br><span class="line"><span class="keyword">const</span> items = <span class="keyword">await</span> toPromise(callback)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-12T17:59:31.000Z" title="2019-09-12T17:59:31.000Z">2019-09-12</time><span class="level-item">2 minutes read (About 226 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-fix-electron-issues/">How to fix electron issues</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/415">#415</a></strong></p>
<h3 id="Electron-require-is-not-defined"><a href="#Electron-require-is-not-defined" class="headerlink" title="Electron require() is not defined"></a>Electron require() is not defined</h3><p><a href="https://stackoverflow.com/questions/44391448/electron-require-is-not-defined">https://stackoverflow.com/questions/44391448/electron-require-is-not-defined</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWindow</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  win = <span class="keyword">new</span> BrowserWindow(&#123;</span><br><span class="line">    title: <span class="string">'MyApp'</span>,</span><br><span class="line">    width: <span class="number">600</span>, </span><br><span class="line">    height: <span class="number">500</span>,</span><br><span class="line">    resizable: <span class="literal">false</span>,</span><br><span class="line">    icon: __dirname + <span class="string">'/Icon/Icon.icns'</span>,</span><br><span class="line">    webPreferences: &#123;</span><br><span class="line">      nodeIntegration: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DevTools-was-disconnected-from-the-page"><a href="#DevTools-was-disconnected-from-the-page" class="headerlink" title="DevTools was disconnected from the page"></a>DevTools was disconnected from the page</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-cli@latest --save-dev</span><br><span class="line">npm install react@16.2.0</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">win.openDevTools()</span><br></pre></td></tr></table></figure>

<p>This leads to <code>Cannot find module &#39;react/lib/ReactComponentTreeHook&#39;</code><br>If we’re using binary, then rebuild, it is the problem that cause devTools not work</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx electron-builder</span><br></pre></td></tr></table></figure>

<p>This goes to <code>Cannot read property injection of undefined at react-tap-event-plugin</code></p>
<p><a href="https://github.com/zilverline/react-tap-event-plugin/issues/121">https://github.com/zilverline/react-tap-event-plugin/issues/121</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall react-tap-event-plugin</span><br></pre></td></tr></table></figure>

<p>This goes to <code>Unknown event handler property onTouchTap</code> in EnhancedButton in material-ui</p>
<h3 id="Update-material-ui"><a href="#Update-material-ui" class="headerlink" title="Update material-ui"></a>Update material-ui</h3><p><a href="https://material-ui.com/">https://material-ui.com/</a><br><a href="https://material-ui.com/guides/migration-v0x/#raised-button">https://material-ui.com/guides/migration-v0x/#raised-button</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @material-ui&#x2F;core</span><br></pre></td></tr></table></figure>

<p>From</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> RadioButtonGroup <span class="keyword">from</span> <span class="string">'@material-ui/core/RadioButton/RadioButtonGroup'</span></span><br><span class="line"><span class="keyword">import</span> RadioButton <span class="keyword">from</span> <span class="string">'@material-ui/core/RadioButton'</span></span><br><span class="line"><span class="keyword">import</span> RaisedButton <span class="keyword">from</span> <span class="string">'@material-ui/core/RaisedButton'</span></span><br><span class="line"><span class="keyword">import</span> CardText <span class="keyword">from</span> <span class="string">'@material-ui/core/Card/CardText'</span></span><br></pre></td></tr></table></figure>

<p>to </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> RadioButtonGroup <span class="keyword">from</span> <span class="string">'@material-ui/core/RadioGroup'</span></span><br><span class="line"><span class="keyword">import</span> RadioButton <span class="keyword">from</span> <span class="string">'@material-ui/core/Radio'</span></span><br><span class="line"><span class="keyword">import</span> RaisedButton <span class="keyword">from</span> <span class="string">'@material-ui/core/Button'</span></span><br><span class="line"><span class="keyword">import</span> CardText <span class="keyword">from</span> <span class="string">'@material-ui/core/DialogContentText'</span></span><br></pre></td></tr></table></figure>

<p>Use FormControlLabel <a href="https://material-ui.com/components/radio-buttons/">https://material-ui.com/components/radio-buttons/</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="type">RadioGroup</span> </span><br><span class="line">	style=&#123;styles.group&#125; </span><br><span class="line">    defaultselected=&#123;this.state.choice&#125; </span><br><span class="line">    onChange=&#123;this.handleChoiceChange&#125;</span><br><span class="line">    children=&#123;choiceElements&#125; /&gt;</span><br><span class="line">    &#123;this.makeGenerateButton()&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-05T07:14:24.000Z" title="2019-09-05T07:14:24.000Z">2019-09-05</time><span class="level-item">a few seconds read (About 26 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-simple-traffic-simulation-in-Javascript/">How to make simple traffic simulation in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/400">#400</a></strong></p>
<ul>
<li>Use prototype.js for inheritance</li>
<li>Use enchant.js for 2d game logic</li>
<li>Code <a href="https://github.com/onmyway133/traffic_simulator">https://github.com/onmyway133/traffic_simulator</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-05T07:10:35.000Z" title="2019-09-05T07:10:35.000Z">2019-09-05</time><span class="level-item">2 minutes read (About 309 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-collaborative-drawing-canvas-with-socketio-and-node/">How to make collaborative drawing canvas with socketio and node</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/399">#399</a></strong></p>
<h2 id="Client"><a href="#Client" class="headerlink" title="Client"></a>Client</h2><ul>
<li>Use <a href="https://github.com/facebook/create-react-app">https://github.com/facebook/create-react-app</a></li>
</ul>
<p><code>App.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">'./logo.svg'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.css'</span>;</span><br><span class="line"><span class="keyword">import</span> Main <span class="keyword">from</span> <span class="string">'./Main'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Main</span> /&gt;</span></span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">export default App;</span></span><br></pre></td></tr></table></figure>

<p><code>Main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">'prop-types'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; withStyles &#125; <span class="keyword">from</span> <span class="string">'@material-ui/core/styles'</span>;</span><br><span class="line"><span class="keyword">import</span> AppBar <span class="keyword">from</span> <span class="string">'@material-ui/core/AppBar'</span>;</span><br><span class="line"><span class="keyword">import</span> Toolbar <span class="keyword">from</span> <span class="string">'@material-ui/core/Toolbar'</span>;</span><br><span class="line"><span class="keyword">import</span> Typography <span class="keyword">from</span> <span class="string">'@material-ui/core/Typography'</span>;</span><br><span class="line"><span class="keyword">import</span> Button <span class="keyword">from</span> <span class="string">'@material-ui/core/Button'</span>;</span><br><span class="line"><span class="keyword">import</span> IconButton <span class="keyword">from</span> <span class="string">'@material-ui/core/IconButton'</span>;</span><br><span class="line"><span class="keyword">import</span> MenuIcon <span class="keyword">from</span> <span class="string">'@material-ui/icons/Menu'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Manager <span class="keyword">from</span> <span class="string">'./Manager'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> styles = &#123;</span><br><span class="line">    root: &#123;</span><br><span class="line">      flexGrow: <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    grow: &#123;</span><br><span class="line">      flexGrow: <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    menuButton: &#123;</span><br><span class="line">      marginLeft: <span class="number">-12</span>,</span><br><span class="line">      marginRight: <span class="number">20</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">        classes: PropTypes.object.isRequired,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; classes &#125; = <span class="keyword">this</span>.props;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div className=&#123;classes.root&#125;&gt;</span><br><span class="line">              &lt;AppBar position=<span class="string">"static"</span>&gt;</span><br><span class="line">                &lt;Toolbar&gt;</span><br><span class="line">                  &lt;IconButton className=&#123;classes.menuButton&#125; color=<span class="string">"inherit"</span> aria-label=<span class="string">"Menu"</span>&gt;</span><br><span class="line">                    &lt;MenuIcon /&gt;</span><br><span class="line">                  &lt;<span class="regexp">/IconButton&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;Typography variant="h6" color="inherit" className=&#123;classes.grow&#125;&gt;</span></span><br><span class="line"><span class="regexp">                    Collaborate Canvas</span></span><br><span class="line"><span class="regexp">                  &lt;/</span>Typography&gt;</span><br><span class="line">                  &lt;Button color=<span class="string">"inherit"</span> onClick=&#123;<span class="keyword">this</span>.onImagePress&#125; &gt;Image&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;Button color="inherit" onClick=&#123;this.onClearPress&#125; &gt;Clear&lt;/</span>Button&gt;</span><br><span class="line">                  &lt;input ref=<span class="string">"fileInput"</span> type=<span class="string">"file"</span> id=<span class="string">"myFile"</span> multiple accept=<span class="string">"image/*"</span> style=&#123;&#123;<span class="attr">display</span>: <span class="string">'none'</span>&#125;&#125; onChange=&#123;<span class="keyword">this</span>.handleFiles&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">input</span>&gt;</span></span></span><br><span class="line">                &lt;<span class="regexp">/Toolbar&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>AppBar&gt;</span><br><span class="line">              &lt;canvas ref=<span class="string">"canvas"</span> <span class="keyword">with</span>=<span class="string">"1000"</span> height=<span class="string">"1000"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span></span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    componentDidMount() &#123;</span></span><br><span class="line"><span class="regexp">      const canvas = this.refs.canvas</span></span><br><span class="line"><span class="regexp">      this.manager = new Manager(canvas)</span></span><br><span class="line"><span class="regexp">      this.manager.connect()</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    onImagePress = () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">      const fileInput = this.refs.fileInput</span></span><br><span class="line"><span class="regexp">      fileInput.click()</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    onClearPress = () =&gt; &#123;</span></span><br><span class="line"><span class="regexp">      this.manager.clear()</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    handleFiles = (e) =&gt; &#123;</span></span><br><span class="line"><span class="regexp">      e.persist()</span></span><br><span class="line"><span class="regexp">      const canvas = this.refs.canvas</span></span><br><span class="line"><span class="regexp">      const context = canvas.getContext('2d')</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      const file = e.target.files[0]</span></span><br><span class="line"><span class="regexp">      var image = new Image()</span></span><br><span class="line"><span class="regexp">      image.onload = function() &#123;</span></span><br><span class="line"><span class="regexp">          context.drawImage(image, 0, 0, window.innerWidth, window.innerHeight)</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">      image.src = URL.createObjectURL(file)</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default withStyles(styles)(Main);</span></span><br></pre></td></tr></table></figure>

<h2 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h2><p>Use <code>express</code> and <code>socket.io</code></p>
<p><code>index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>)</span><br><span class="line"><span class="keyword">const</span> socketIO = <span class="built_in">require</span>(<span class="string">'socket.io'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.createServer(app)</span><br><span class="line"><span class="keyword">const</span> io = socketIO.listen(server)</span><br><span class="line">server.listen(<span class="number">3001</span>)</span><br><span class="line">app.use(express.static(__dirname + <span class="string">'/public'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Server running on 127.0.0.1:8080"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lines = []</span><br><span class="line">io.on(<span class="string">'connection'</span>, (socket) =&gt; &#123;</span><br><span class="line">    lines.forEach(<span class="function">(<span class="params">line</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> data = &#123; line &#125;</span><br><span class="line">        socket.emit(<span class="string">'draw_line'</span>, data) </span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    socket.on(<span class="string">'draw_line'</span>, (data) =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; line &#125; = data</span><br><span class="line">        lines.push(line)</span><br><span class="line"></span><br><span class="line">        io.emit(<span class="string">'draw_line'</span>, data)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    socket.on(<span class="string">'clear'</span>, () =&gt; &#123;</span><br><span class="line">        lines = []</span><br><span class="line">        io.emit(<span class="string">'clear'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    socket.on(<span class="string">'draw_image'</span>, (data) =&gt; &#123;</span><br><span class="line">        io.emit(<span class="string">'draw_image'</span>, data)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-05T07:03:12.000Z" title="2019-09-05T07:03:12.000Z">2019-09-05</time><span class="level-item">a minute read (About 115 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-generate-changelog-for-GitHub-releases-with-rxjs-and-node/">How to generate changelog for GitHub releases with rxjs and node</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/398">#398</a></strong></p>
<h2 id="How-to"><a href="#How-to" class="headerlink" title="How to"></a>How to</h2><ul>
<li>Use <a href="https://github.com/onmyway133/github-changelogs-maker">https://github.com/onmyway133/github-changelogs-maker</a></li>
<li>Generate personal access token <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></li>
</ul>
<h2 id="Technical"><a href="#Technical" class="headerlink" title="Technical"></a>Technical</h2><p>Dependencies</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Rx = <span class="built_in">require</span>(<span class="string">'rxjs/Rx'</span>)</span><br><span class="line"><span class="keyword">const</span> Fetch = <span class="built_in">require</span>(<span class="string">'node-fetch'</span>)</span><br><span class="line"><span class="keyword">const</span> Minimist = <span class="built_in">require</span>(<span class="string">'minimist'</span>)</span><br><span class="line"><span class="keyword">const</span> Fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br></pre></td></tr></table></figure>

<p>Use GraphQL</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">makeOptions(query, token) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    method: <span class="string">'POST'</span>,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,</span><br><span class="line">      <span class="string">'Authorization'</span>: <span class="string">`bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">    &#125;,</span><br><span class="line">    body: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">      query: <span class="string">`</span></span><br><span class="line"><span class="string">      query &#123;</span></span><br><span class="line"><span class="string">        repository(owner: "<span class="subst">$&#123;<span class="keyword">this</span>.owner&#125;</span>", name: "<span class="subst">$&#123;<span class="keyword">this</span>.repo&#125;</span>") &#123;</span></span><br><span class="line"><span class="string">          <span class="subst">$&#123;query&#125;</span></span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Use orderBy</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">fetchPRsAndIssues(dates) &#123;</span><br><span class="line">    <span class="keyword">const</span> query = <span class="string">`</span></span><br><span class="line"><span class="string">    pullRequests(last: 100, orderBy: &#123;field: UPDATED_AT, direction: ASC&#125;) &#123;</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          title</span></span><br><span class="line"><span class="string">          merged</span></span><br><span class="line"><span class="string">          mergedAt</span></span><br><span class="line"><span class="string">          url</span></span><br><span class="line"><span class="string">          author &#123;</span></span><br><span class="line"><span class="string">            login</span></span><br><span class="line"><span class="string">            url</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    issues(last: 100, orderBy: &#123;field: UPDATED_AT, direction: ASC&#125;) &#123;</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          title</span></span><br><span class="line"><span class="string">          closed</span></span><br><span class="line"><span class="string">          updatedAt</span></span><br><span class="line"><span class="string">          url</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-03T12:02:25.000Z" title="2019-09-03T12:02:25.000Z">2019-09-03</time><span class="level-item">a few seconds read (About 104 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-get-all-GitHub-issues-using-GraphQL/">How to get all GitHub issues using GraphQL</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/393">#393</a></strong></p>
<p><a href="https://developer.github.com/v4/explorer/">https://developer.github.com/v4/explorer/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">query &#123; </span><br><span class="line">  repository(owner: &quot;onmyway133&quot;, name: &quot;blog&quot;) &#123; </span><br><span class="line">    issues(orderBy: &#123;field: UPDATED_AT, direction: ASC&#125;, last: 100) &#123;</span><br><span class="line">      edges &#123;</span><br><span class="line">        cursor</span><br><span class="line">        node &#123;</span><br><span class="line">          title</span><br><span class="line">          createdAt</span><br><span class="line">          updatedAt</span><br><span class="line">          labels(first: 10) &#123;</span><br><span class="line">            edges &#123;</span><br><span class="line">              node &#123;</span><br><span class="line">                name</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In node.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> GraphQL = <span class="built_in">require</span>(<span class="string">'graphql-request'</span>)</span><br><span class="line"><span class="keyword">const</span> GraphQLClient = GraphQL.GraphQLClient</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> client = <span class="keyword">new</span> GraphQLClient(<span class="string">'https://api.github.com/graphql'</span>, &#123;</span><br><span class="line">  headers: &#123;</span><br><span class="line">    Authorization: <span class="string">'Bearer 123456730712334152e6e1232c53987654312'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> query = <span class="string">`&#123;</span></span><br><span class="line"><span class="string">  repository(owner: "onmyway133", name: "blog") &#123; </span></span><br><span class="line"><span class="string">    issues(first: 100) &#123;</span></span><br><span class="line"><span class="string">      edges &#123;</span></span><br><span class="line"><span class="string">        node &#123;</span></span><br><span class="line"><span class="string">          title</span></span><br><span class="line"><span class="string">          createdAt</span></span><br><span class="line"><span class="string">          updatedAt</span></span><br><span class="line"><span class="string">          labels(first: 10) &#123;</span></span><br><span class="line"><span class="string">            edges &#123;</span></span><br><span class="line"><span class="string">              node &#123;</span></span><br><span class="line"><span class="string">                name</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">          &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;`</span></span><br><span class="line"> </span><br><span class="line">client.request(query)</span><br><span class="line">.then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> issues = data.repository.issues.edges.map(<span class="function">(<span class="params">edge</span>) =&gt;</span> &#123; <span class="keyword">return</span> edge.node &#125;)</span><br><span class="line">	<span class="built_in">console</span>.log(issues)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-03T11:02:18.000Z" title="2019-09-03T11:02:18.000Z">2019-09-03</time><span class="level-item">a minute read (About 119 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-Hexo-to-deploy-static-site/">How to use Hexo to deploy static site</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/392">#392</a></strong></p>
<p>It’s been a long journey since <a href="https://github.com/onmyway133/blog/issues/1">https://github.com/onmyway133/blog/issues/1</a>, next step is to keep GitHub issues as source, and mirror those to a static site.</p>
<p>Use 2 repos</p>
<ul>
<li><a href="https://github.com/onmyway133/web">https://github.com/onmyway133/web</a> for source</li>
<li><a href="https://github.com/onmyway133/onmyway133.github.io">https://github.com/onmyway133/onmyway133.github.io</a> for generated content</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">echo $PATH&#x3D;$PATH:&#x2F;Users&#x2F;khoa&#x2F;.nodenv&#x2F;versions&#x2F;10.15.2&#x2F;bin&#x2F;hexo</span><br><span class="line">hexo init blog</span><br><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>Update <code>_config.yml</code></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="attr">https://github.com/onmyway133/onmyway133.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://hexo.io/docs/deployment.html">https://hexo.io/docs/deployment.html</a></li>
<li><a href="https://gist.github.com/btfak/18938572f5df000ebe06fbd1872e4e39">https://gist.github.com/btfak/18938572f5df000ebe06fbd1872e4e39</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-03T09:59:28.000Z" title="2019-09-03T09:59:28.000Z">2019-09-03</time><span class="level-item">a minute read (About 125 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-type-coersion-in-Javascript/">How to use type coersion in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/391">#391</a></strong></p>
<p>People who make fun of Javascript probably don’t understand implicit type coersion and when to use triple equal. Javascript is very unexpected, but when we work with this language, we need to be aware.</p>
<blockquote>
<ol>
<li>Coercion–Automatically changing a value from one type to another.</li>
<li>If x is Number and y is String, return x == ToNumber(y)</li>
<li>If x is String or Number and y is Object, return x == ToPrimitive(y)</li>
<li>Empty array becomes empty string</li>
</ol>
</blockquote>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://codeburst.io/javascript-double-equals-vs-triple-equals-61d4ce5a121a">https://codeburst.io/javascript-double-equals-vs-triple-equals-61d4ce5a121a</a></li>
<li><a href="https://www.freecodecamp.org/news/js-type-coercion-explained-27ba3d9a2839/">https://www.freecodecamp.org/news/js-type-coercion-explained-27ba3d9a2839/</a></li>
<li><a href="https://www.freecodecamp.org/news/explaining-the-best-javascript-meme-i-have-ever-seen/">https://www.freecodecamp.org/news/explaining-the-best-javascript-meme-i-have-ever-seen/</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-03T09:53:16.000Z" title="2019-09-03T09:53:16.000Z">2019-09-03</time><span class="level-item">a minute read (About 131 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-safely-access-deeply-nested-object-in-Javascript/">How to safely access deeply nested object in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/390">#390</a></strong></p>
<p>An object ‘s property can be null or undefined.</p>
<p>Accessing step by step is tedious</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">props.user &amp;&amp;</span><br><span class="line">props.user.posts &amp;&amp;</span><br><span class="line">props.user.posts[<span class="number">0</span>] &amp;&amp;</span><br><span class="line">props.user.posts[<span class="number">0</span>].comments</span><br></pre></td></tr></table></figure>

<p>Dynamic parsing path is too clever and involves string in the end, which is a no no</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">get</span> = (p, o) =&gt;</span><br><span class="line">  p.reduce((xs, x) =&gt; (xs &amp;&amp; xs[x]) ? xs[x] : null, o)</span><br><span class="line"></span><br><span class="line">const getUserComments = <span class="keyword">get</span>(['user', 'posts', 0, 'comments'])</span><br></pre></td></tr></table></figure>

<p>Instead let’s use function and catch errors explicitly, and defaults with a fallback</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">get</span>: (f, defaultValue) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      	<span class="keyword">const</span> value = f()</span><br><span class="line">      	<span class="keyword">if</span> (isNotNullOrUndefined(value)) &#123;</span><br><span class="line">        	<span class="keyword">return</span> value</span><br><span class="line">      	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        	<span class="keyword">return</span> defaultValue</span><br><span class="line">      	&#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">     	<span class="keyword">return</span> defaultValue</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> comments = <span class="keyword">get</span>(() =&gt; &#123; .user.posts[<span class="number">0</span>].comments &#125;, [])</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://medium.com/javascript-inside/safely-accessing-deeply-nested-values-in-javascript-99bf72a0855a">https://medium.com/javascript-inside/safely-accessing-deeply-nested-values-in-javascript-99bf72a0855a</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-09-03T09:46:41.000Z" title="2019-09-03T09:46:41.000Z">2019-09-03</time><span class="level-item">a minute read (About 136 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-flow-type-in-Javascript/">How to use flow type in Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/389">#389</a></strong></p>
<p>Prefer <a href="https://flow.org/">flow</a> over TypeScript for simplicity</p>
<p>Javascript primitive types <code>number</code> and <code>string</code> are too general and do not express the domain objects. Because lack of type alias in Javascript, we can use flow</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> type Centimeter = number</span><br><span class="line"><span class="keyword">export</span> type Color = string</span><br><span class="line"><span class="keyword">export</span> type ImageSource = number</span><br><span class="line"><span class="keyword">export</span> type Kilogram = number</span><br><span class="line"><span class="keyword">export</span> type Kilocalorie = number <span class="comment">// 1 cal = 4.1840 J</span></span><br><span class="line"><span class="keyword">export</span> type Second = number</span><br><span class="line"><span class="keyword">export</span> type SecondsSince1970 = number</span><br><span class="line"><span class="keyword">export</span> type Minute = number</span><br><span class="line"><span class="keyword">export</span> type DateString = string <span class="comment">// 2018-11-20</span></span><br><span class="line"><span class="keyword">export</span> type DateTimeString = string <span class="comment">// 2018-11-20T00:00:00</span></span><br><span class="line"><span class="keyword">export</span> type YearWeekString = string <span class="comment">// 201838</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> type FunctionWithVoid = <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">void</span></span><br><span class="line"><span class="keyword">export</span> type FunctionWithString = <span class="function">(<span class="params">string</span>) =&gt;</span> <span class="keyword">void</span></span><br><span class="line"><span class="keyword">export</span> type FunctionWithBoolean = <span class="function">(<span class="params">boolean</span>) =&gt;</span> <span class="keyword">void</span></span><br><span class="line"><span class="keyword">export</span> type FunctionWithNumber = <span class="function">(<span class="params">number</span>) =&gt;</span> <span class="keyword">void</span></span><br><span class="line"><span class="keyword">export</span> type JSONObject = any</span><br><span class="line"><span class="keyword">export</span> type JSONString = string</span><br><span class="line"><span class="keyword">export</span> type StringToString = any</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> type Degree = number</span><br><span class="line"><span class="keyword">export</span> type Radian = number</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> type Animal = <span class="string">'cat'</span> | <span class="string">'dog'</span> | <span class="string">'cow'</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-08-26T10:16:32.000Z" title="2019-08-26T10:16:32.000Z">2019-08-26</time><span class="level-item">a few seconds read (About 61 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/Links-for-Javascript/">Links for Javascript</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/372">#372</a></strong></p>
<ul>
<li><a href="https://www.freecodecamp.org/news/explaining-the-best-javascript-meme-i-have-ever-seen/">https://www.freecodecamp.org/news/explaining-the-best-javascript-meme-i-have-ever-seen/</a></li>
<li><a href="https://www.freecodecamp.org/news/requiring-modules-in-node-js-everything-you-need-to-know-e7fbd119be8/">https://www.freecodecamp.org/news/requiring-modules-in-node-js-everything-you-need-to-know-e7fbd119be8/</a></li>
<li><a href="https://www.freecodecamp.org/news/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26/">https://www.freecodecamp.org/news/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26/</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-08-12T04:44:36.000Z" title="2019-08-12T04:44:36.000Z">2019-08-12</time><span class="level-item">a minute read (About 122 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-React-JSX-with-Babel-in-Electron/">How to use React JSX with Babel in Electron</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/352">#352</a></strong></p>
<p>For a normal electron app created with <code>npm init</code>, we can use all features of ES6, but not the JSX syntax for React. We can use just Babel to transpile JSX, as used in <a href="https://github.com/onmyway133/IconGenerator/blob/master/.babelrc">IconGenerator</a></p>
<p><code>.babelrc</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"plugins"</span>: [</span><br><span class="line">    <span class="string">"transform-react-jsx-source"</span>    </span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"env"</span>, <span class="string">"react"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And in <code>package.json</code>, call babel to transpile <code>src</code> to <code>dist</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"main"</span>: <span class="string">"dist/main.js"</span>,</span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"npm run babel &amp;&amp; electron ."</span>,</span><br><span class="line">    <span class="string">"babel"</span>: <span class="string">"babel ./src --out-dir ./dist --copy-files"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>Remember to use <code>dist/main.js</code> as our starting point, and in <a href="https://github.com/onmyway133/IconGenerator/blob/master/index.html">index.html</a>, specify <code>./dist/renderer.js</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">require</span>(<span class="string">'./dist/renderer.js'</span>)</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-07-31T18:19:25.000Z" title="2019-07-31T18:19:25.000Z">2019-07-31</time><span class="level-item">3 minutes read (About 459 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-submit-electron-app-to-AppStore/">How to submit electron app to AppStore</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/342">#342</a></strong></p>
<h2 id="Before"><a href="#Before" class="headerlink" title="Before"></a>Before</h2><p>Install electron as dev <code>npm install electron --save-dev</code><br>Update electron-packager <code>npm install electron-packager@latest --save-dev</code><br>Use no space in app name</p>
<h2 id="Package-with-electron-packager"><a href="#Package-with-electron-packager" class="headerlink" title="Package with electron-packager"></a>Package with electron-packager</h2><p>Follow <a href="https://github.com/electron/electron-osx-sign/wiki/Packaging-and-Submitting-an-Electron-App-to-the-Mac-App-Store">https://github.com/electron/electron-osx-sign/wiki/Packaging-and-Submitting-an-Electron-App-to-the-Mac-App-Store</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx electron-packager . <span class="string">"MyApp"</span> --app-bundle-id=com.onmyway133.MyApp --helper-bundle-id=com.onmyway133.MyApp.helper --app-version=1.4.0 --build-version=1.0.100 --platform=mas --arch=x64 --icon=Icon/Icon.icns --overwrite</span><br><span class="line">npx electron-osx-sign <span class="string">"MyApp-mas-x64/MyApp.app"</span> --verbose</span><br><span class="line">npx electron-osx-flat <span class="string">"MyApp-mas-x64/MyApp.app"</span> --verbose</span><br></pre></td></tr></table></figure>

<h3 id="If-you-have-multiple-developer-identities-in-your-keychain"><a href="#If-you-have-multiple-developer-identities-in-your-keychain" class="headerlink" title="If you have multiple developer identities in your keychain:"></a>If you have multiple developer identities in your keychain:</h3><blockquote>
<p>electron-osx-sign searches your keychain for the first signing certificates that it can locate. If you have multiple certificates then it may not know which cert you want to use for signing and you need to explicitly provide the name:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">electron-osx-sign &quot;My App-mas-x64&#x2F;My App.app&quot; --identity&#x3D;&quot;3rd Party Mac Developer Application: My Company, Inc (ABCDEFG1234)&quot; --verbose</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><h5 id="Sign-with-electron-osx-sign"><a href="#Sign-with-electron-osx-sign" class="headerlink" title="Sign with electron-osx-sign"></a>Sign with electron-osx-sign</h5><p>Read README <a href="https://github.com/electron/electron-osx-sign">https://github.com/electron/electron-osx-sign</a></p>
<blockquote>
<p>For distribution in the Mac App Store: Have the provisioning profile for distribution placed in the current working directory and the signing identity installed in the default keychain.</p>
</blockquote>
<h3 id="Certificate"><a href="#Certificate" class="headerlink" title="Certificate"></a>Certificate</h3><p>On developer.apple.com, create Mac App Distribution certificate. Make sure when we download in Keychain Access, it has associated private key</p>
<h3 id="Manually-upload"><a href="#Manually-upload" class="headerlink" title="Manually upload"></a>Manually upload</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;Applications&#x2F;Xcode.app&#x2F;Contents&#x2F;Applications&#x2F;Application\ Loader.app&#x2F;Contents&#x2F;itms&#x2F;bin&#x2F;iTMSTransporter -m upload  -assetFile MyApp&#x2F;MyApp.pkg  -u onmyway133@gmail.com -p mypassword</span><br></pre></td></tr></table></figure>

<h3 id="Use-Application-Loader"><a href="#Use-Application-Loader" class="headerlink" title="Use Application Loader"></a>Use Application Loader</h3><p>Use <a href="https://support.apple.com/en-us/HT204397">Using app-specific passwords</a></p>
<h3 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h3><h4 id="electron-Bad-CFBundleExecutable-Cannot-find-executable-file"><a href="#electron-Bad-CFBundleExecutable-Cannot-find-executable-file" class="headerlink" title="electron Bad CFBundleExecutable. Cannot find executable file"></a>electron Bad CFBundleExecutable. Cannot find executable file</h4><blockquote>
<p>ERROR ITMS-90261: “Bad CFBundleExecutable. Cannot find executable file that matches the value of CFBundleExecutable in the nested bundle MyApp [com.onmyway133.MyApp.pkg/Payload/MyApp.app/Contents/Frameworks/MyApp (GPU).app] property list file.”</p>
</blockquote>
<p><a href="https://github.com/electron/electron-packager/issues?utf8=%E2%9C%93&amp;q=helper">https://github.com/electron/electron-packager/issues?utf8=%E2%9C%93&amp;q=helper</a></p>
<p>Try electron 5.0.0 <code>npm install electron@5.0.0 --save-dev</code></p>
<h4 id="Specifically-we-found-that-when-the-user-closes-the-main-application-window-there-is-no-menu-item-to-re-open-it"><a href="#Specifically-we-found-that-when-the-user-closes-the-main-application-window-there-is-no-menu-item-to-re-open-it" class="headerlink" title="Specifically, we found that when the user closes the main application window there is no menu item to re-open it."></a>Specifically, we found that when the user closes the main application window there is no menu item to re-open it.</h4><p><a href="https://stackoverflow.com/questions/35008347/electron-close-w-x-vs-right-click-dock-and-quit">https://stackoverflow.com/questions/35008347/electron-close-w-x-vs-right-click-dock-and-quit</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> application = &#123;</span><br><span class="line">    label: <span class="string">"MyApp"</span>,</span><br><span class="line">    submenu: [</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"New"</span>,</span><br><span class="line">        accelerator: <span class="string">"Command+N"</span>,</span><br><span class="line">        click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (win === <span class="literal">null</span>) &#123;</span><br><span class="line">            createWindow()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="‘electron-osx-flat-latest’-is-not-in-the-npm-registry"><a href="#‘electron-osx-flat-latest’-is-not-in-the-npm-registry" class="headerlink" title="‘electron-osx-flat@latest’ is not in the npm registry"></a>‘electron-osx-flat@latest’ is not in the npm registry</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g electron-osx-sign@latest</span><br></pre></td></tr></table></figure>

<h4 id="App-sandbox-not-enabled"><a href="#App-sandbox-not-enabled" class="headerlink" title="App sandbox not enabled"></a>App sandbox not enabled</h4><h4 id="electron-osx-sign-Command-failed-codesign"><a href="#electron-osx-sign-Command-failed-codesign" class="headerlink" title="electron-osx-sign Command failed: codesign"></a>electron-osx-sign Command failed: codesign</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ran xattr -cr *</span><br></pre></td></tr></table></figure>

<h4 id="Command-failed-codesign-bundle-format-is-ambiguous"><a href="#Command-failed-codesign-bundle-format-is-ambiguous" class="headerlink" title="Command failed: codesign bundle format is ambiguous"></a>Command failed: codesign bundle format is ambiguous</h4><blockquote>
<p>Perhaps you accidentally packaged the previous generated app bundle into your newly packaged app?</p>
</blockquote>
<p>Remove <code>dist</code> folder generated by electron-builder</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-25T09:01:49.000Z" title="2019-06-25T09:01:49.000Z">2019-06-25</time><span class="level-item">a minute read (About 127 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-organise-test-files/">How to organise test files</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/327">#327</a></strong></p>
<p>In terms of tests, we usually have files for unit test, UI test, integeration test and mock.</p>
<blockquote>
<p>Out of sight, out of mind.</p>
</blockquote>
<p>Unit tests are for checking specific functions and classes, it’s more convenient to browse them side by side with source file. For example in Javascript, Kotlin and Swift</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index.js</span><br><span class="line">index.test.js</span><br><span class="line">index.mock.js</span><br></pre></td></tr></table></figure>

<figure class="highlight kt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LocationManager.kt</span><br><span class="line">LocationManager.mock.kt</span><br><span class="line">LocationManager.test.kt</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BasketHandler</span>.swift</span><br><span class="line"><span class="type">BasketHandler</span>.mock.swift</span><br><span class="line"><span class="type">BasketHandler</span>.test.swift</span><br></pre></td></tr></table></figure>

<p>Integration tests check features or sub features, and may cover many source files, it’s better to place them in <code>feature</code> folders</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- Features</span><br><span class="line">  - Cart</span><br><span class="line">    - Sources</span><br><span class="line">    - Tests</span><br><span class="line">      - Cart.test.swift</span><br><span class="line">      - Validator.test.swift</span><br><span class="line">  - Profile</span><br><span class="line">    - Sources</span><br><span class="line">    - Tests</span><br><span class="line">      - Updater.test.swift</span><br><span class="line">      - AvatarUploader.test.swift</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-05-23T16:25:54.000Z" title="2019-05-23T16:25:54.000Z">2019-05-23</time><span class="level-item">9 minutes read (About 1409 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/What-is-create-react-native-app/">What is create-react-native-app</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/279">#279</a></strong></p>
<p>Original post <a href="https://medium.com/fantageek/what-is-create-react-native-app-9f3bc5a6c2a3">https://medium.com/fantageek/what-is-create-react-native-app-9f3bc5a6c2a3</a></p>
<hr>
<p>As someone who comes to React Native from iOS and Android background, I like React and Javascript as much as I like Swift and Kotlin. React Native is a cool concept, but things that sound good in theory may not work well in practice.</p>
<h2 id="Another-layer-of-abstraction"><a href="#Another-layer-of-abstraction" class="headerlink" title="Another layer of abstraction"></a>Another layer of abstraction</h2><p>Up until now, I still don’t get why big companies choose React Native over native ones, as in the end what we do is to deliver good experience to the end user, not the easy development for developers. I have seen companies saying <a href="https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c">goodbye</a> to React Native and people saying that React Native is just React philosophy <a href="https://ashfurrow.com/blog/airbnb-and-react-native-expectations/">learn once, write anywhere</a>, that they choose React Native mainly for the React style, not for cross platform development. But the fact can’t be denied that people choose React Native mostly for cross platform development. Write once, deploy many places is so compelling. We still of course need to tweak a bit for each platform, but most of the code is reuse.</p>
<p>I have to confess that I myself spend less time developing than digging into compiling and bundling issues. Nothing comes for free. To be successful with React Native, not only we need strong understanding on both iOS and Android, but also ready to step into solving issues. We can’t just open issues, pray and wait and hope someone solves it. We can’t just use other dependencies blindly and call it a day. A trivial bug can be super hard to fix in React Native, and our projects can’t wait. Big companies have, of course, enough resource to solve issues, but for small teams, React Native is a trade off decision to consider.</p>
<h2 id="A-wrapper-for-a-wrapper"><a href="#A-wrapper-for-a-wrapper" class="headerlink" title="A wrapper for a wrapper"></a>A wrapper for a wrapper</h2><p>Enough about that. Let’s go to official React Native <a href="https://facebook.github.io/react-native/docs/getting-started.html">getting started guide</a>. It recommend <a href="https://github.com/react-community/create-react-native-app">create-react-native-app</a>. As someone who made electron.js apps and used <a href="https://github.com/facebook/create-react-app">create-react-app</a>, I choose <a href="https://github.com/react-community/create-react-native-app">create-react-native-app</a> right away, as I think it is the equivalent in terms of creating React Native apps. I know there is react-native init and though that it must have some problems, otherwise people don’t introduce <a href="https://github.com/react-community/create-react-native-app">create-react-native-app</a>.</p>
<p>After playing with <a href="https://github.com/react-community/create-react-native-app">create-react-native-app</a> and eject, and after that read carefully through its <a href="https://facebook.github.io/react-native/docs/getting-started.html#caveats">caveats</a>, I know it’s time to use just react-native init . In the end I just need a quick way to bootstrap React Native app with enough tooling (Babel, JSX, Hot reloading), however <a href="https://github.com/react-community/create-react-native-app">create-react-native-app</a> is just a limited experience in Expo with opinionated services like Expo push notification <a href="https://docs.expo.io/versions/latest/guides/push-notifications.html">docs.expo.io/versions/latest/guides/push-notifications.html</a> and connectivity to Google Cloud Platform and AWS. I know every thing has its use case, but in this case it’s not the tool for me. Dependencies are the root of all evils, and React Native already has a lot, I don’t want more unnecessary things.</p>
<p>The concept of Expo is actually nice, in that it allows newbie to step into React Native fast with recommended tooling already set up, and the ability to reject later. It also useful in sharing Snack to help reproduce issues. But the name of the repo create-react-native-app is a bit <a href="https://github.com/react-community/create-react-native-app/issues/742">misleading</a>.</p>
<p>Maybe it’s just me, or …</p>
<ul>
<li><p><a href="https://dev.to/kylessg/ive-released-over-100-apps-in-react-native-since-2015-ask-me-anything-1m9g">dev.to/kylessg/ive-released-over-100-apps-in-react-native-since-2015-ask-me-anything-1m9g</a></p>
<blockquote>
<p><em>No, I would never use Expo for a serious project. I imagine what ends up happening in most projects is they reach a point where they have to ultimately eject the app (e.g. needing a native module) which sounds very painful.</em></p>
</blockquote>
</li>
<li><p><a href="https://dev.to/gaserd/why-i-do-not-use-expo-for-react-native-dont-panic-1bp">dev.to/gaserd/why-i-do-not-use-expo-for-react-native-dont-panic-1bp</a></p>
<blockquote>
<p><em>If you use EXPO, you use wrapper-wrapper.</em></p>
</blockquote>
</li>
<li><p><a href="https://hackernoon.com/understanding-expo-for-react-native-7bf23054bbcd">hackernoon.com/understanding-expo-for-react-native-7bf23054bbcd</a></p>
<blockquote>
<p><em>Expo is a great tool for getting started quickly with React Native. However, it’s not always something that can get you to the finish line. From what I’ve seen, the Expo team is making a lot of great decisions with their product roadmap. But their rapid pace of development has often led to bugs in new features.</em></p>
</blockquote>
</li>
<li><p><a href="https://docs.expo.io/versions/latest/introduction/why-not-expo">docs.expo.io/versions/latest/introduction/why-not-expo</a></p>
<blockquote>
<p><em>JS and assets managed by Expo require connectivity to Google Cloud Platform and AWS</em></p>
</blockquote>
</li>
<li><p><a href="https://github.com/react-community/create-react-native-app/issues/516">#516</a></p>
</li>
<li><p><a href="http://www.albertgao.xyz/2018/05/30/24-tips-for-react-native-you-probably-want-to-know/">http://www.albertgao.xyz/2018/05/30/24-tips-for-react-native-you-probably-want-to-know</a></p>
<blockquote>
<p><em>If you are coming from web world, you need to know that create-react-native-app is not the create-react-app equivalent</em><br><em>But if you want more control over your project, something like tweaking your react native Android and iOS project, I highly suggest you use the official react-native-cli. Still, one simple command, react-native init ProjectName, and you are good to go.</em></p>
</blockquote>
</li>
<li><p><a href="https://medium.com/@paulsc/react-native-first-impressions-expo-vs-native-9565cce44c92">medium.com/@paulsc/react-native-first-impressions-expo-vs-native-9565cce44c92</a></p>
<blockquote>
<p><em>I wish I would have used “Native” from the get go, instead I wasted quite a bit of time with Expo</em><br><em>Maybe the biggest one for me is that the whole thing feels like adding another layer of indirection and complexity to an already complicated stack</em><br><em>I wish Expo would get removed from the react-native Getting Started guide to avoid confusing new arrivals</em></p>
</blockquote>
</li>
<li><p><a href="https://levelup.gitconnected.com/how-i-ditched-expo-for-pure-react-native-fc0375361307">levelup.gitconnected.com/how-i-ditched-expo-for-pure-react-native-fc0375361307</a></p>
<blockquote>
<p><em>The Expo dev team did a lot of good stuff there, and they are all doing it for free, so I definitely want to thank all of them for providing a smoother entrance to this world. If they ever manage to solve this issue of custom native code somehow, it may become my platform of choice again.</em></p>
</blockquote>
</li>
<li><p><a href="https://medium.com/@aswinmohanme/how-i-reduced-the-size-of-my-react-native-app-by-86-27be72bba640">https://medium.com/@aswinmohanme/how-i-reduced-the-size-of-my-react-native-app-by-86-27be72bba640</a></p>
<blockquote>
<p>I love everything about Expo except the size of the binaries. Each binary weighs around 25 MB regardless of your app.<br>So the first thing I did was to migrate my existing Expo app to React Native.</p>
</blockquote>
</li>
<li><p><a href="https://medium.com/react-native-training/best-practices-for-creating-react-native-apps-part-1-66311c746df3">https://medium.com/react-native-training/best-practices-for-creating-react-native-apps-part-1-66311c746df3</a></p>
<blockquote>
<p>If you are new to React Native and you think this is the “must” way to go. Check if it meets your needs first.<br>If you are planning to use third party RN packages that have custom native modules. Expo does not support this functionality and in that case, you will have to <a href="https://docs.expo.io/versions/v30.0.0/expokit/eject">eject Expo-Kit</a>. In my opinion, if you are going to eject any kit, don’t use it in the first place. It will probably make things harder than if you hadn’t used the kit at all.</p>
</blockquote>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-05-23T16:16:04.000Z" title="2019-05-23T16:16:04.000Z">2019-05-23</time><span class="level-item">9 minutes read (About 1347 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-tag-selection-view-in-React-Native/">How to make tag selection view in React Native</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/271">#271</a></strong></p>
<p>Original post <a href="https://hackernoon.com/how-to-make-tag-selection-view-in-react-native-b6f8b0adc891">https://hackernoon.com/how-to-make-tag-selection-view-in-react-native-b6f8b0adc891</a></p>
<hr>
<p>Besides React style programming, <a href="https://github.com/facebook/yoga">Yoga</a> is another cool feature of React Native. It is a cross-platform layout engine which implements Flexbox so we use the same layout code for both platforms.</p>
<p>As someone who uses Auto Layout in iOS and Constraint Layout in Android, I find Flexbox bit hard to use at first, but there are many tasks that Flexbox does very well, they are distribute elements in space and flow layout. In this post we will use Flexbox to build a tag selection view using just Javascript code. This is very easy to do so we don’t need to install extra dependencies.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*xLD0YbzaepgAuz7ED-lLGA.png" alt=""></p>
<p>Our tag view will support both multiple selection and exclusive selection. First, we need a custom Button .</p>
<h2 id="Button-with-Background"><a href="#Button-with-Background" class="headerlink" title="Button with Background"></a>Button with Background</h2><p><a href="https://facebook.github.io/react-native/docs/button">Button</a> is of the basic elements in React Native, but it is somewhat limited if we want to have custom content inside the button, for example texts, images and background</p>
<pre><code>import { Button } from &apos;react-native&apos;
...

&lt;Button
  onPress={onPressLearnMore}
  title=&quot;Learn More&quot;
  color=&quot;#841584&quot;
  accessibilityLabel=&quot;Learn more about this purple button&quot;
/&gt;</code></pre><h3 id="TouchableOpacity"><a href="#TouchableOpacity" class="headerlink" title="TouchableOpacity"></a><a href="https://facebook.github.io/react-native/docs/touchableopacity">TouchableOpacity</a></h3><p>Luckily we have <a href="https://facebook.github.io/react-native/docs/touchableopacity">TouchableOpacity</a>, which is a wrapper for making views respond properly to touches. On press down, the opacity of the wrapped view is decreased, dimming it.</p>
<p>To implement button in our tag view, we need to a button with background a check image. Create a file called BackgroundButton.js</p>
<pre><code>import React from &apos;react&apos;
import { TouchableOpacity, View, Text, StyleSheet, Image } from &apos;react-native&apos;
import R from &apos;res/R&apos;

export default class BackgroundButton extends React.Component {
  render() {
    const styles = this.makeStyles()
    return (
      &lt;TouchableOpacity style={styles.touchable} onPress={this.props.onPress}&gt;
        &lt;View style={styles.view}&gt;
          {this.makeImageIfAny(styles)}
          &lt;Text style={styles.text}&gt;{this.props.title}&lt;/Text&gt;
        &lt;/View&gt;
      &lt;/TouchableOpacity&gt;
    )
  }

makeImageIfAny(styles) {
    if (this.props.showImage) {
      return &lt;Image style={styles.image} source={R.images.check} /&gt;
    }
  }

makeStyles() {
    return StyleSheet.create({
      view: {
        flexDirection: &apos;row&apos;,
        borderRadius: 23,
        borderColor: this.props.borderColor,
        borderWidth: 2,
        backgroundColor: this.props.backgroundColor,
        height: 46,
        alignItems: &apos;center&apos;,
        justifyContent: &apos;center&apos;,
        paddingLeft: 16,
        paddingRight: 16
      },
      touchable: {
        marginLeft: 4,
        marginRight: 4,
        marginBottom: 8
      },
      image: {
        marginRight: 8
      },
      text: {
        fontSize: 18,
        textAlign: &apos;center&apos;,
        color: this.props.textColor,
        fontSize: 16
      }
    })
  }
}</code></pre><h3 id="Dynamic-styles"><a href="#Dynamic-styles" class="headerlink" title="Dynamic styles"></a>Dynamic styles</h3><p>Normally we use const styles = StyleSheet.create({}) but since we want our button to be configurable, we make styles into a function, so on every render we get a new styles with proper configurations. The properties we support are borderColor, textColor, backgroundColor and showImage</p>
<p>In the makeImageIfAny we only need to return Image if the view is selected. We don’t have the else case, so in if showImage is false, this returns undefined and React won’t render any element</p>
<pre><code>makeImageIfAny(styles) {
  if (this.props.showImage) {
    return &lt;Image style={styles.image} source={R.images.check} /&gt;
  }
}</code></pre><h3 id="padding-and-margin"><a href="#padding-and-margin" class="headerlink" title="padding and margin"></a>padding and margin</h3><p>To understand padding and margin, visit <a href="https://www.w3schools.com/css/css_boxmodel.asp">CSS Box Model</a>. Basically padding means clearing an area around the content and padding is transparent, while margin means clearing an area outside the border and the margin also is transparent.</p>
<p><img src="https://cdn-images-1.medium.com/max/4572/1*A98Em4msrGqOAWSRq3Njjw.png" alt=""></p>
<p>Pay attention to styles . We have margin for touchable so that each tag button have a little margin outside each other.</p>
<pre><code>touchable: {
  marginLeft: 4,
  marginRight: 4,
  marginBottom: 8
}</code></pre><p>In the view we need flexDirection as row because React Native has flexDirection as column by default. And a row means we have Image and Text side by side horizontally inside the button. We also use alignItems and justifyContent to align elements centeredly on both main and cross axises. The padding is used to have some spaces between the inner text and the view.</p>
<pre><code>view: {
  flexDirection: &apos;row&apos;,
  height: 46,
  alignItems: &apos;center&apos;,
  justifyContent: &apos;center&apos;,
  paddingLeft: 16,
  paddingRight: 16
}</code></pre><h2 id="Tag-View"><a href="#Tag-View" class="headerlink" title="Tag View"></a>Tag View</h2><p>Create a file called TagsView.js This is where we parse tags and show a bunch of BackgroundButton</p>
<pre><code>import React from &apos;react&apos;
import { View, StyleSheet, Button } from &apos;react-native&apos;
import R from &apos;res/R&apos;
import BackgroundButton from &apos;library/components/BackgroundButton&apos;
import addOrRemove from &apos;library/utils/addOrRemove&apos;

export default class TagsView extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      selected: props.selected
    }
  }

render() {
    return (
      &lt;View style={styles.container}&gt;
        {this.makeButtons()}
      &lt;/View&gt;
    )
  }

onPress = (tag) =&gt; {
    let selected
    if (this.props.isExclusive) {
      selected = [tag]
    } else {
      selected = addOrRemove(this.state.selected, tag)
    }

this.setState({
      selected
    })
  }

makeButtons() {
    return this.props.all.map((tag, i) =&gt; {
      const on = this.state.selected.includes(tag)
      const backgroundColor = on ? R.colors.on.backgroundColor : R.colors.off.backgroundColor
      const textColor = on ? R.colors.on.text : R.colors.off.text
      const borderColor = on ? R.colors.on.border : R.colors.off.border

return (
        &lt;BackgroundButton
          backgroundColor={backgroundColor}
          textColor={textColor}
          borderColor={borderColor}
          onPress={() =&gt; {
            this.onPress(tag)
          }}
          key={i}
          showImage={on}
          title={tag} /&gt;
      )
    })
  }
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    flexDirection: &apos;row&apos;,
    flexWrap: &apos;wrap&apos;,
    padding: 20
  }
})</code></pre><p>We parse an array of tags to build BackgroundButton . We keep the selected array in state because this is mutated inside the TagsView component. If it is isExclusive then the new selected contains just the new selected tag. If it is multiple selection, then we add the new selected tag into the selected array.</p>
<p>The addOrRemove is a our homegrown utility function to add an item into an array if it does not exists, or remove if it exists, using the high orderfilter function.</p>
<pre><code>const addOrRemove = (array, item) =&gt; {
  const exists = array.includes(item)

if (exists) {
    return array.filter((c) =&gt; { return c !== item })
  } else {
    const result = array
    result.push(item)
    return result
  }
}</code></pre><h3 id="Flex-wrap"><a href="#Flex-wrap" class="headerlink" title="Flex wrap"></a>Flex wrap</h3><p>Pay attention to styles</p>
<pre><code>const styles = StyleSheet.create({
  container: {
    flex: 1,
    flexDirection: &apos;row&apos;,
    flexWrap: &apos;wrap&apos;,
    padding: 20
  }
})</code></pre><p>The hero here is flexWrap which specifies whether the flexible items should wrap or not. Take a look at <a href="https://www.w3schools.com/cssref/css3_pr_flex-wrap.asp">CSS flex-wrap</a> property for other options. Since we have main axis as row , element will be wrapped to the next row if there are not enough space. That’s how we can achieve a beautiful tag view.</p>
<h3 id="Using-TagsView"><a href="#Using-TagsView" class="headerlink" title="Using TagsView"></a>Using TagsView</h3><p>Then consuming TagsView is as easy as declare it inside render</p>
<pre><code>const selected = [&apos;Swift&apos;, Kotlin]
const tags = [&apos;Swift&apos;, &apos;Kotlin&apos;, &apos;C#&apos;, &apos;Haskell&apos;, &apos;Java&apos;]

return (
  &lt;TagsView
    all={tags}
    selected={selected}
    isExclusive={false}
  /&gt;
)</code></pre><h3 id="Learning-Flexbox"><a href="#Learning-Flexbox" class="headerlink" title="Learning Flexbox"></a>Learning Flexbox</h3><p>Learning Flebox is crucial in using React and React Native effectively. The best places to learn it are <a href="https://www.w3schools.com/css/css3_flexbox.asp">w3school CSS Flexbox</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">Basic concepts of flexbox</a> by Mozzila.<br><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox"><strong>Basic concepts of flexbox</strong><br><em>The Flexible Box Module, usually referred to as flexbox, was designed as a one-dimensional layout model, and as a…</em>developer.mozilla.org</a></p>
<p>There is a showcase of all possible Flexbox properties<br><a href="https://medium.com/@drorbiran/the-full-react-native-layout-cheat-sheet-a4147802405c"><strong>The Full React Native Layout Cheat Sheet</strong><br><em>A simple visual guide with live examples for all major React Native layout properties</em>medium.com</a></p>
<p>Yoga has its own YogaKit published on CocoaPods, you can learn it with native code in iOS<br><a href="https://www.raywenderlich.com/530-yoga-tutorial-using-a-cross-platform-layout-engine"><strong>Yoga Tutorial: Using a Cross-Platform Layout Engine</strong><br><em>Learn about Yoga, Facebook’s cross-platform layout engine that helps developers write more layout code in style akin to…</em>www.raywenderlich.com</a></p>
<p>And when we use flexbox, we should compose element instead of hardcoding values, for example we can use another View with justifyContent: flex-end to move a button down the screen. This follows flexbox style and prevent rigid code.<br><a href="https://medium.com/react-native-training/position-element-at-the-bottom-of-the-screen-using-flexbox-in-react-native-a00b3790ca42"><strong>Position element at the bottom of the screen using Flexbox in React Native</strong><br><em>React Native uses Yoga to achieve Flexbox style layout, which helps us set up layout in a declarative and easy way.</em>medium.com</a></p>
<h2 id="Where-to-go-from-here"><a href="#Where-to-go-from-here" class="headerlink" title="Where to go from here"></a>Where to go from here</h2><p>I hope you learn something useful in this post. For more information please consult the official guide <a href="https://facebook.github.io/react-native/docs/flexbox">Layout with Flexbox</a> and <a href="https://facebook.github.io/react-native/docs/layout-props">layout-props</a> for all the possible Flexbox properties.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-05-23T16:09:18.000Z" title="2019-05-23T16:09:18.000Z">2019-05-23</time><span class="level-item">21 minutes read (About 3174 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-add-app-icons-and-splash-screens-to-a-React-Native-app-in-staging-and-production/">How to add app icons and splash screens to a React Native app in staging and production</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/268">#268</a></strong></p>
<p>Original post <a href="https://medium.freecodecamp.org/how-to-add-app-icons-and-splash-screens-to-a-react-native-app-in-staging-and-production-d1dab615e7c6">https://medium.freecodecamp.org/how-to-add-app-icons-and-splash-screens-to-a-react-native-app-in-staging-and-production-d1dab615e7c6</a></p>
<hr>
<p>React Native was designed to be “learn once, write anywhere,” and it is usually used to build cross platform apps for iOS and Android. And for each app that we build, there are times we need to reuse the same code, build and tweak it a bit to make it work for different environments. For example, we might need multiple skins, themes, a free and paid version, or more often different staging and production environments.</p>
<p>And the task that we can’t avoid is adding app icons and splash screens to our apps.</p>
<p>In fact, to add a staging and production environment, and to add app icons, requires us to use Xcode and Android Studio, and we do it the same way we do with native iOS or Android projects.</p>
<p>Let’s call our app MyApp and bootstrap it with react-native init MyApp . There will of course, be tons of <a href="https://github.com/thekevinbrown/react-native-schemes-manager">libraries</a> to help us with managing different environments.</p>
<p>In this post, we will do just like we did with native apps, so that we know the basic steps.</p>
<h2 id="Build-configuration-target-build-types-production-flavor-and-build-variant"><a href="#Build-configuration-target-build-types-production-flavor-and-build-variant" class="headerlink" title="Build configuration, target, build types, production flavor, and build variant"></a>Build configuration, target, build types, production flavor, and build variant</h2><p>There are some terminologies we needed to remember. In iOS, debug and releases are called <a href="https://developer.apple.com/library/archive/featuredarticles/XcodeConcepts/Concept-Build_Settings.html">build configurations</a>, and staging and production are called <a href="https://developer.apple.com/library/archive/featuredarticles/XcodeConcepts/Concept-Targets.html">targets</a>.</p>
<blockquote>
<h1 id="A-build-configuration-specifies-a-set-of-build-settings-used-to-build-a-target’s-product-in-a-particular-way-For-example-it-is-common-to-have-separate-build-configurations-for-debug-and-release-builds-of-a-product"><a href="#A-build-configuration-specifies-a-set-of-build-settings-used-to-build-a-target’s-product-in-a-particular-way-For-example-it-is-common-to-have-separate-build-configurations-for-debug-and-release-builds-of-a-product" class="headerlink" title="A build configuration specifies a set of build settings used to build a target’s product in a particular way. For example, it is common to have separate build configurations for debug and release builds of a product."></a>A build configuration specifies a set of build settings used to build a target’s product in a particular way. For example, it is common to have separate build configurations for debug and release builds of a product.</h1><h1 id="A-target-specifies-a-product-to-build-and-contains-the-instructions-for-building-the-product-from-a-set-of-files-in-a-project-or-work-space-A-target-defines-a-single-product-it-organizes-the-inputs-into-the-build-system-—-the-source-files-and-instructions-for-processing-those-source-files-—-required-to-build-that-product-Projects-can-contain-one-or-more-targets-each-of-which-produces-one-product"><a href="#A-target-specifies-a-product-to-build-and-contains-the-instructions-for-building-the-product-from-a-set-of-files-in-a-project-or-work-space-A-target-defines-a-single-product-it-organizes-the-inputs-into-the-build-system-—-the-source-files-and-instructions-for-processing-those-source-files-—-required-to-build-that-product-Projects-can-contain-one-or-more-targets-each-of-which-produces-one-product" class="headerlink" title="A target specifies a product to build and contains the instructions for building the product from a set of files in a project or work-space. A target defines a single product; it organizes the inputs into the build system — the source files and instructions for processing those source files — required to build that product. Projects can contain one or more targets, each of which produces one product"></a>A target specifies a product to build and contains the instructions for building the product from a set of files in a project or work-space. A target defines a single product; it organizes the inputs into the build system — the source files and instructions for processing those source files — required to build that product. Projects can contain one or more targets, each of which produces one product</h1></blockquote>
<p>In Android, debug and releases are called build types, and staging and production are called product flavors. Together they form <a href="https://developer.android.com/studio/build/build-variants">build variants</a>.</p>
<blockquote>
<h1 id="For-example-a-“demo”-product-flavor-can-specify-different-features-and-device-requirements-such-as-custom-source-code-resources-and-minimum-API-levels-while-the-“debug”-build-type-applies-different-build-and-packaging-settings-such-as-debug-options-and-signing-keys-The-resulting-build-variant-is-the-“demoDebug”-version-of-your-app-and-it-includes-a-combination-of-the-configurations-and-resources-included-in-the-“demo”-product-flavor-“debug”-build-type-and-main-source-set"><a href="#For-example-a-“demo”-product-flavor-can-specify-different-features-and-device-requirements-such-as-custom-source-code-resources-and-minimum-API-levels-while-the-“debug”-build-type-applies-different-build-and-packaging-settings-such-as-debug-options-and-signing-keys-The-resulting-build-variant-is-the-“demoDebug”-version-of-your-app-and-it-includes-a-combination-of-the-configurations-and-resources-included-in-the-“demo”-product-flavor-“debug”-build-type-and-main-source-set" class="headerlink" title="For example, a “demo” product flavor can specify different features and device requirements, such as custom source code, resources, and minimum API levels, while the “debug” build type applies different build and packaging settings, such as debug options and signing keys. The resulting build variant is the “demoDebug” version of your app, and it includes a combination of the configurations and resources included in the “demo” product flavor, “debug” build type, and main/ source set."></a>For example, a “demo” <em>product flavor</em> can specify different features and device requirements, such as custom source code, resources, and minimum API levels, while the “debug” <em>build type</em> applies different build and packaging settings, such as debug options and signing keys. The resulting build variant is the “demoDebug” version of your app, and it includes a combination of the configurations and resources included in the “demo” product flavor, “debug” build type, and main/ source set.</h1></blockquote>
<h2 id="Staging-and-production-targets-in-iOS"><a href="#Staging-and-production-targets-in-iOS" class="headerlink" title="Staging and production targets in iOS"></a>Staging and production targets in iOS</h2><p>Open MyApp.xcodeproj inside ios using Xcode. Here is what we get after bootstrapping:</p>
<p><img src="https://cdn-images-1.medium.com/max/2004/1*HMMS0zLAfLU_bvli-IESBg.png" alt=""></p>
<p>React Native creates iOS and tvOS apps, and two test targets. In Xcode, a project can contain many targets, and each target means a unique product with its own build settings — Info.plist and app icons.</p>
<h3 id="Duplicate-target"><a href="#Duplicate-target" class="headerlink" title="Duplicate target"></a>Duplicate target</h3><p>If we don’t need the tvOS app, we can delete the MyApp-tvOS and MyApp-tvOSTests . Let’s use MyApp target as our production environment, and right click -&gt; Duplicate to make another target. Let’s call it MyApp Staging.</p>
<p><img src="https://cdn-images-1.medium.com/max/2694/1*T2RDoSaQRJv8GRGkphUkGw.png" alt=""></p>
<p>Each target must have unique bundle id. Change the bundle id of MyApp to com.onmyway133.MyApp and MyApp Staging to com.onmyway133.MyApp.Staging.</p>
<p><img src="https://cdn-images-1.medium.com/max/3720/1*I3qdG0cgDrwc1bep76ckcA.png" alt=""></p>
<h3 id="Info-plist"><a href="#Info-plist" class="headerlink" title="Info.plist"></a>Info.plist</h3><p>When we duplicate MyApp target , Xcode also duplicates Info.plist into MyApp copy-Info.plist for the staging target. Change it to a more meaningful name Info-Staging.plist and drag it to the MyApp group in Xcode to stay organised. After dragging, MyApp Staging target can’t find the plist, so click Choose Info.plist File and point to the Info-Staging.plist.</p>
<p><img src="https://cdn-images-1.medium.com/max/4732/1*_FYFXy6NDHhSm5XwOPFDmQ.png" alt=""></p>
<h3 id="Scheme"><a href="#Scheme" class="headerlink" title="Scheme"></a>Scheme</h3><p>Xcode also duplicates the scheme when we duplicate the target, so we get MyApp copy:</p>
<p><img src="https://cdn-images-1.medium.com/max/5158/1*DW9wbUJWU1P4gXymv1LT8g.png" alt=""></p>
<p>Click Manage Schemes in the scheme drop-down to open Scheme manager:</p>
<p><img src="https://cdn-images-1.medium.com/max/3208/1*-bjXILHt-Y88etVJDlmyFQ.png" alt=""></p>
<p>I usually delete the generated MyApp copy scheme, then I create a new scheme again for the MyApp Staging target. You need to make sure that the scheme is marked as Shared so that it is tracked into git.</p>
<p><img src="https://cdn-images-1.medium.com/max/3208/1*VTXk1T-j9W-Yd24uU7Wmqg.png" alt=""></p>
<p>For some reason, the staging scheme does not have all the things set up like the production scheme. You can run into issues like ‘React/RCTBundleURLProvider.h’ file not found or <a href="https://github.com/onmyway133/notes/issues/380">RN: ‘React/RCTBridgeModule.h’ file not found</a> . It is because React target is not linked yet.</p>
<p>To solve it, we must disable Parallelise Build and add React target and move it above MyApp Staging.</p>
<p><img src="https://cdn-images-1.medium.com/max/3720/1*F7NF8BBg44H6AZHk_A7Jpg.png" alt=""></p>
<h3 id="Staging-and-production-product-flavors-in-Android"><a href="#Staging-and-production-product-flavors-in-Android" class="headerlink" title="Staging and production product flavors in Android"></a>Staging and production product flavors in Android</h3><p>Open the android folder in Android Studio. By default there are only debug and release build types:</p>
<p><img src="https://cdn-images-1.medium.com/max/3528/1*e362XxJHJpR0tn-ry86brA.png" alt=""></p>
<p>They are configured in the app module build.gradle:</p>
<pre><code>buildTypes {
    release {
        minifyEnabled enableProguardInReleaseBuilds
        proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;
    }
}</code></pre><p>First, let’s change application id to com.onmyway133.MyApp to match iOS. It is not required but I think it’s good to stay organised. Then create two product flavors for staging and production. For staging, let’s add .Staging to the application id.</p>
<p>From Android Studio 3, “all flavors must now belong to a named flavor dimension” — normally we just need default dimensions. Here is how it looks in build.gradle for our app module:</p>
<pre><code>android {
    compileSdkVersion rootProject.ext.compileSdkVersion
    buildToolsVersion rootProject.ext.buildToolsVersion
    flavorDimensions &quot;default&quot;

defaultConfig {
        applicationId &quot;com.onmyway133.MyApp&quot;
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode 1
        versionName &quot;1.0&quot;
        ndk {
            abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;
        }
    }
    splits {
        abi {
            reset()
            enable enableSeparateBuildPerCPUArchitecture
            universalApk false  // If true, also generate a universal APK
            include &quot;armeabi-v7a&quot;, &quot;x86&quot;
        }
    }
    buildTypes {
        release {
            minifyEnabled enableProguardInReleaseBuilds
            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;
        }
    }

productFlavors {
        staging {
            applicationIdSuffix &quot;.Staging&quot;
        }

        production {

        }
    }
}</code></pre><p>Click Sync Now to let gradle do the syncing job. After that, we can see that we have four build variants:</p>
<p><img src="https://cdn-images-1.medium.com/max/5478/1*KxKqB-NdxtieuhFF-AUvwA.png" alt=""></p>
<h3 id="How-to-run-staging-and-production"><a href="#How-to-run-staging-and-production" class="headerlink" title="How to run staging and production"></a>How to run staging and production</h3><p>To run the Android app, we can specify a variant like react-native run-android — variant=productionDebug, but I prefer to go to Android Studio, select the variant, and run.</p>
<p>To run iOS app, we can specify the scheme like react-native run-ios — simulator=’iPhone X’ — scheme=”MyApp Staging” . As of react-native 0.57.0 this does not work. But it does not matter as I usually go to Xcode, select the scheme, and run.</p>
<h3 id="Add-app-icon-for-iOS"><a href="#Add-app-icon-for-iOS" class="headerlink" title="Add app icon for iOS"></a>Add app icon for iOS</h3><p>According to the <a href="https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/app-icon/">Human Interface Guideline</a>, we need app icons of different sizes for different iOS versions, device resolutions, and situations (notification, settings, Spring Board). I’ve crafted a tool called <a href="https://github.com/onmyway133/IconGenerator">IconGenerator</a>, which was previously mentioned in <a href="https://dev.to/sarthology/best-open-source-tools-for-developers--300f">Best Open Source Tools For Developers</a>. Drag the icon that you want — I prefer those with 1024x1024 pixels for high resolution app icons — to the Icon Generator MacOS app.</p>
<p><img src="https://cdn-images-1.medium.com/max/2848/1*4uBuihDMn3nq3Y1NwVhJsA.png" alt=""></p>
<p>Click Generate and we get AppIcon.appiconset . This contains app icons of the required sizes that are ready to be used in Asset Catalog. Drag this to Asset Catalog in Xcode. That is for production.</p>
<p>For staging, it’s good practice to add a “Staging” banner so that testers know which is staging, and which is production. We can easily do this in Sketch.</p>
<p><img src="https://cdn-images-1.medium.com/max/4536/1*6uxkwnsGkDp0K12LXh_yiw.png" alt=""></p>
<p>Remember to set a background, so we don’t get a transparent background. For an app icon with transparent background, iOS shows the background as black which looks horrible.</p>
<p>After exporting the image, drag the staging icon to the IconGenerator the same way we did earlier. But this time, rename the generated appiconset to AppIcon-Staging.appiconset. Then drag this to Asset Catalog in Xcode.</p>
<p>For the staging target to use staging app icons, open MyApp Staging target and choose AppIcon-Staging as App Icon Source.</p>
<p><img src="https://cdn-images-1.medium.com/max/4908/1*oIGuaxyftwCD0_72Rnv9-g.png" alt=""></p>
<h3 id="Add-app-icon-for-Android"><a href="#Add-app-icon-for-Android" class="headerlink" title="Add app icon for Android"></a>Add app icon for Android</h3><p><img src="https://cdn-images-1.medium.com/max/6720/1*CS_tKOts1zz05PVJ5XEc9A.png" alt=""></p>
<p>I like to switch to Project view, as it is easier to change app icons. Click res -&gt; New -&gt; Image Asset to open Asset Studio. We can use the same app icons that we used in iOS:</p>
<p><img src="https://cdn-images-1.medium.com/max/4528/1*bzJZh1exxXGnrXw_j4AMgQ.png" alt=""></p>
<p>Android 8.0 (API level 26) introduced <a href="https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive">Adaptive Icons</a> so we need to tweak the Resize slider to make sure our app icons look as nice as possible.</p>
<blockquote>
<h1 id="Android-8-0-API-level-26-introduces-adaptive-launcher-icons-which-can-display-a-variety-of-shapes-across-different-device-models-For-example-an-adaptive-launcher-icon-can-display-a-circular-shape-on-one-OEM-device-and-display-a-squircle-on-another-device-Each-device-OEM-provides-a-mask-which-the-system-then-uses-to-render-all-adaptive-icons-with-the-same-shape-Adaptive-launcher-icons-are-also-used-in-shortcuts-the-Settings-app-sharing-dialogs-and-the-overview-screen-—-Android-developers"><a href="#Android-8-0-API-level-26-introduces-adaptive-launcher-icons-which-can-display-a-variety-of-shapes-across-different-device-models-For-example-an-adaptive-launcher-icon-can-display-a-circular-shape-on-one-OEM-device-and-display-a-squircle-on-another-device-Each-device-OEM-provides-a-mask-which-the-system-then-uses-to-render-all-adaptive-icons-with-the-same-shape-Adaptive-launcher-icons-are-also-used-in-shortcuts-the-Settings-app-sharing-dialogs-and-the-overview-screen-—-Android-developers" class="headerlink" title="Android 8.0 (API level 26) introduces adaptive launcher icons, which can display a variety of shapes across different device models. For example, an adaptive launcher icon can display a circular shape on one OEM device, and display a squircle on another device. Each device OEM provides a mask, which the system then uses to render all adaptive icons with the same shape. Adaptive launcher icons are also used in shortcuts, the Settings app, sharing dialogs, and the overview screen. — Android developers"></a>Android 8.0 (API level 26) introduces adaptive launcher icons, which can display a variety of shapes across different device models. For example, an adaptive launcher icon can display a circular shape on one OEM device, and display a squircle on another device. Each device OEM provides a mask, which the system then uses to render all adaptive icons with the same shape. Adaptive launcher icons are also used in shortcuts, the Settings app, sharing dialogs, and the overview screen. — <a href="https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive">Android developers</a></h1></blockquote>
<p>We are doing for production first, which means the main Res Directory. This step will replace the existing placeholder app icons generated by Android Studio when we bootstrapped React Native projects.</p>
<p><img src="https://cdn-images-1.medium.com/max/4528/1*kIYEWBrWMG_qOkY-LsWnxw.png" alt=""></p>
<p>Now that we have production app icons, let’s make staging app icons. Android manages code and assets via convention. Click on src -&gt; New -&gt; Directory and create a staging folder. Inside staging, create a folder called res . Anything we place in staging will replace the ones in main — this is called source sets.</p>
<p><img src="https://cdn-images-1.medium.com/max/3652/1*dAkYONFc86mHNXKnbPf2fA.png" alt=""></p>
<p>You can read more here: <a href="https://developer.android.com/studio/build/build-variants">Build with source sets</a>.</p>
<blockquote>
<p>You can use source set directories to contain the code and resources you want packaged only with certain configurations. For example, if you are building the “demoDebug” build variant, which is the crossproduct of a “demo” product flavor and “debug” build type, Gradle looks at these directories, and gives them the following priority:<br>src/demoDebug/ <em>(build variant source set)</em><br>src/debug/ <em>(build type source set)</em><br>src/demo/ <em>(product flavor source set)</em><br>src/main/ <em>(main source set)</em></p>
</blockquote>
<p>Right click on staging/res -&gt; New -&gt; Image Asset to make app icons for staging. We also use the same staging app icons like in iOS, but this time we choose staging as Res Directory. This way Android Studio knows how to generate different ic_launcher and put them into staging.</p>
<p><img src="https://cdn-images-1.medium.com/max/4528/1*jKI8Erm57SGwZI2ylLaJ0w.png" alt=""></p>
<h3 id="Add-launch-screen-for-iOS"><a href="#Add-launch-screen-for-iOS" class="headerlink" title="Add launch screen for iOS"></a>Add launch screen for iOS</h3><p>The splash screen is called a [Launch Screen](<a href="http://Launch">http://Launch</a> Screen) in iOS, and it is important.</p>
<blockquote>
<h1 id="A-launch-screen-appears-instantly-when-your-app-starts-up-The-launch-screen-is-quickly-replaced-with-the-first-screen-of-your-app-giving-the-impression-that-your-app-is-fast-and-responsive"><a href="#A-launch-screen-appears-instantly-when-your-app-starts-up-The-launch-screen-is-quickly-replaced-with-the-first-screen-of-your-app-giving-the-impression-that-your-app-is-fast-and-responsive" class="headerlink" title="A launch screen appears instantly when your app starts up. The launch screen is quickly replaced with the first screen of your app, giving the impression that your app is fast and responsive"></a>A launch screen appears instantly when your app starts up. The launch screen is quickly replaced with the first screen of your app, giving the impression that your app is fast and responsive</h1></blockquote>
<p>In the old days, we needed to use static launch images with different sizes for each device and orientation.</p>
<p><img src="https://cdn-images-1.medium.com/max/2912/1*gncLBHGa4ntt1a9NCLL_1g.png" alt=""></p>
<h3 id="Launch-Screen-storyboard"><a href="#Launch-Screen-storyboard" class="headerlink" title="Launch Screen storyboard"></a>Launch Screen storyboard</h3><p>For now the recommended way is to use Launch Screen storyboard . The iOS project from React Native comes with LaunchScreen.xib but xib is a thing of the past. Let’s delete it and create a file called Launch Screen.storyboard .</p>
<p>Right click on MyApp folder -&gt; New and chose Launch Screen, add it to both targets as usually we show the same splash screen for both staging and production.</p>
<p><img src="https://cdn-images-1.medium.com/max/5140/1*kfGNEVm_gJevBIziQ3iXbw.png" alt=""></p>
<p><img src="https://cdn-images-1.medium.com/max/2984/1*v0ZGfvbSFgljeW34PQsw7g.png" alt=""></p>
<h3 id="Image-Set"><a href="#Image-Set" class="headerlink" title="Image Set"></a>Image Set</h3><p>Open asset catalog, right click and select New Image Set . We can name it anything. This will be used in the Launch Screen.storyboard.</p>
<p><img src="https://cdn-images-1.medium.com/max/4496/1*WOAJ9Vr7fSqRSxwBwRb3qg.png" alt=""></p>
<p>Open Launch Screen.storyboard and add an UIImageView . If you are using Xcode 10, click the Library button in the upper right corner and choose Show Objects Library.</p>
<p><img src="https://cdn-images-1.medium.com/max/6720/1*I6hTPAW_L4fUbo8cTakXlg.png" alt=""></p>
<p>Set image for Image View, and make sure Content Mode is set to Aspect Filled, as this ensures that the image always covers the full screen (although it may be cropped). Then connect ImageView using constraints to the View, not the Safe Area. You do this by Control+drag from the Image View (splash) to the View.</p>
<p><img src="https://cdn-images-1.medium.com/max/5700/1*qdEg7IejnxG3Y0Uo1bpiCA.png" alt=""></p>
<h3 id="Constrains-without-margin"><a href="#Constrains-without-margin" class="headerlink" title="Constrains without margin"></a>Constrains without margin</h3><p>Click into each constraint and uncheck Relative to Margin. This makes our ImageView pin to the very edges of the view and with no margin at all.</p>
<p><img src="https://cdn-images-1.medium.com/max/6720/1*5AIBO-ZLXfiLGsk9P32nFw.png" alt=""></p>
<p>Now go to both targets and select Launch Screen.storyboard as Launch Screen File:</p>
<p><img src="https://cdn-images-1.medium.com/max/7168/1*SrrFr1lk7oIwc4QvdoJVxg.png" alt=""></p>
<p>On iOS, the launch screen is often cached, so you probably won’t see the changes. One way to avoid that is to delete the app and run it again.</p>
<h3 id="Add-a-launcher-theme-for-Android"><a href="#Add-a-launcher-theme-for-Android" class="headerlink" title="Add a launcher theme for Android"></a>Add a launcher theme for Android</h3><p>There are <a href="https://android.jlelse.eu/the-complete-android-splash-screen-guide-c7db82bce565">several</a> <a href="https://android.jlelse.eu/right-way-to-create-splash-screen-on-android-e7f1709ba154">ways</a> to add splash screen for Android, from using launcher themes, Splash Activity, and a timer. For me, a reasonable splash screen for Android should be a very minimal image.</p>
<p>As there are many Android devices with different ratios and resolutions, if you want to show a full screen splash image, it will probably not scale correctly for each device. This is just about UX.</p>
<p>For the splash screen, let’s use the launcher theme with splash_background.xml .</p>
<h3 id="Learn-about-Device-Metric"><a href="#Learn-about-Device-Metric" class="headerlink" title="Learn about Device Metric"></a>Learn about Device Metric</h3><p>There is no single splash image that suits all Android devices. A more logical approach is to create multiple splash images for all common resolutions in portrait and landscape. Or we can design a minimal splash image that works. You can find more info here: <a href="https://material.io/tools/devices/">Device Metric</a>.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*VY5n-nyMet5xlgQyr_fWWw.png" alt=""></p>
<p><img src="https://cdn-images-1.medium.com/max/5940/1*491dzlEkHT3FvIuuLosGKg.png" alt=""></p>
<p>Here is how to add splash screen in 4 easy steps:</p>
<h3 id="Add-splash-image"><a href="#Add-splash-image" class="headerlink" title="Add splash image"></a>Add splash image</h3><p>We usually need a common splash screen for both staging and production. Drag an image into main/res/drawble . Android Studio seems to have a problem with recognising some jpg images for the splash screen, so it’s best to choose png images.</p>
<h3 id="Add-splash-background-xml"><a href="#Add-splash-background-xml" class="headerlink" title="Add splash_background.xml"></a>Add splash_background.xml</h3><p>Right click on drawable -&gt; New -&gt; Drawable resource file . Name it whatever you want — I choose splash_background.xml . Choose the root element as layer-list:</p>
<p><img src="https://cdn-images-1.medium.com/max/4170/1*rEa10WkfXx9VCBX_0sQK3A.png" alt=""></p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*FwCOuThRAGCZSWvdhVrfCw.png" alt=""></p>
<p>A [Layer List](<a href="http://Layer">http://Layer</a> List) means “a Drawable that manages an array of other Drawables. These are drawn in array order, so the element with the largest index is drawn on top”. Here is how splash_background.xml looks like:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;

&lt;!-- The android:opacity=”opaque” line — this is critical in preventing a flash of black as your theme transitions. --&gt;
&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:opacity=&quot;opaque&quot;&gt;

    &lt;!-- The background color, preferably the same as your normal theme --&gt;
    &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;

    &lt;!-- Your splash image --&gt;
    &lt;item&gt;
        &lt;bitmap
            android:src=&quot;@drawable/iron_man&quot;
            android:gravity=&quot;center&quot;/&gt;

    &lt;/item&gt;

&lt;/layer-list&gt;</code></pre><p>Note that we point to our splash image we added earlier with android:src=”@drawable/iron_man”.</p>
<h3 id="Declare-style"><a href="#Declare-style" class="headerlink" title="Declare style"></a>Declare style</h3><p>Open styles.xml and add SplashTheme:</p>
<pre><code>&lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;
    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;
&lt;/style&gt;</code></pre><h3 id="Use-SplashTheme"><a href="#Use-SplashTheme" class="headerlink" title="Use SplashTheme"></a>Use SplashTheme</h3><p>Go to Manifest.xml and change the theme of the the launcher activity, which has category android:name=”android.intent.category.LAUNCHER” . Change it to android:theme=”@style/SplashTheme” . For React Native, the launcher activity is usually MainActivity . Here is how Manifest.xml looks:</p>
<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    package=&quot;com.myapp&quot;&gt;

    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;

    &lt;application
      android:name=&quot;.MainApplication&quot;
      android:label=&quot;@string/app_name&quot;
      android:icon=&quot;@mipmap/ic_launcher&quot;
      android:allowBackup=&quot;false&quot;
      android:theme=&quot;@style/AppTheme&quot;&gt;
      &lt;activity
        android:name=&quot;.MainActivity&quot;
        android:label=&quot;@string/app_name&quot;
        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenSize&quot;
        android:theme=&quot;@style/SplashTheme&quot;
        android:windowSoftInputMode=&quot;adjustResize&quot;&gt;
        &lt;intent-filter&gt;
            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;
            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
        &lt;/intent-filter&gt;
      &lt;/activity&gt;
      &lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; /&gt;
    &lt;/application&gt;

&lt;/manifest&gt;</code></pre><p>Run the app now and you should see the splash screen showing when the app starts.</p>
<h2 id="Managing-environment-configurations"><a href="#Managing-environment-configurations" class="headerlink" title="Managing environment configurations"></a>Managing environment configurations</h2><p>The differences between staging and production are just about app names, application ids, and app icons. We probably use different API keys, and backend URL for staging and production.</p>
<p>Right now the most popular library to handle these scenarios is <a href="https://github.com/luggit/react-native-config">react-native-config</a>, which is said to “bring some 12 factor love to your mobile apps”. It requires lots of steps to get started, and I hope there is a less verbose solution.</p>
<h3 id="Where-to-go-from-here"><a href="#Where-to-go-from-here" class="headerlink" title="Where to go from here"></a>Where to go from here</h3><p>In this post, we touched Xcode and Android Studio more than Visual Studio Code, but this was inevitable. I hope this post was useful to you. Here are some more links to read more about this topic:</p>
<ul>
<li><a href="https://medium.com/@scottianstewart/react-native-add-app-icons-and-launch-screens-onto-ios-and-android-apps-3bfbc20b7d4c">Add App Icons and Launch Screens to React Native Apps (iOS &amp; Android)</a></li>
<li><a href="https://medium.com/handlebar-labs/how-to-add-a-splash-screen-to-a-react-native-app-ios-and-android-30a3cec835ae">How to Add a Splash Screen to a React Native App (iOS and Android)</a></li>
<li><a href="https://medium.com/differential/managing-configuration-in-react-native-cd2dfb5e6f7b">Managing Configuration in React Native</a></li>
<li><a href="https://medium.com/@jacks205/adding-multiple-target-pipelines-for-react-native-apps-and-fastlane-circleci-deployment-pt-1-ae9590ae52f2">Adding multiple target pipelines for React Native Apps (and Fastlane CircleCI deployment) pt. 1</a></li>
<li><a href="https://android.jlelse.eu/the-complete-android-splash-screen-guide-c7db82bce565">The (Complete) Android Splash Screen Guide</a></li>
</ul>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/tags/javascript/page/0/">Previous</a></div><div class="pagination-next"><a href="/tags/javascript/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/tags/javascript/">1</a></li><li><a class="pagination-link" href="/tags/javascript/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="https://avatars1.githubusercontent.com/u/2284279?s=460&amp;v=4" alt="onmyway133"></figure><p class="title is-size-4 is-block line-height-inherit">onmyway133</p><p class="is-size-6 is-block">iOS, macOS, Android, React. Serial maker. Writer. Speaker.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Oslo, Norway</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">603</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">52</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/onmyway133" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/onmyway133"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://onmyway133.com/apps" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Apps</span></span><span class="level-right"><span class="level-item tag">onmyway133.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://learntalks.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Learn Talks</span></span><span class="level-right"><span class="level-item tag">learntalks.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:58:48.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-make-white-label-React-app/">How to make white label React app</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:25:40.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-show-lightbox-in-React/">How to show lightbox in React</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:23:51.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-animate-on-scroll-in-React/">How to animate on scroll in React</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T02:09:28.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-copy-folder-in-nodej/">How to copy folder in nodej</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T01:27:18.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-use-babel-7-in-node-project/">How to use babel 7 in node project</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">50</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">42</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">48</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/06/"><span class="level-start"><span class="level-item">June 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/04/"><span class="level-start"><span class="level-item">April 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag is-grey-lightest">35</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apple-script/"><span class="tag">apple script</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/catalyst/"><span class="tag">catalyst</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ci/"><span class="tag">ci</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cloud/"><span class="tag">cloud</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cocoapods/"><span class="tag">cocoapods</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/combine/"><span class="tag">combine</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/core-data/"><span class="tag">core data</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dart/"><span class="tag">dart</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design/"><span class="tag">design</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/electron/"><span class="tag">electron</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firebase/"><span class="tag">firebase</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flutter/"><span class="tag">flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/google/"><span class="tag">google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">158</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag is-grey-lightest">41</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kotlin/"><span class="tag">kotlin</span><span class="tag is-grey-lightest">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/layout/"><span class="tag">layout</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/links/"><span class="tag">links</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">97</span></a></div><div class="control"><a class="tags has-addons" href="/tags/machine-learning/"><span class="tag">machine learning</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maps/"><span class="tag">maps</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/networking/"><span class="tag">networking</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/objc/"><span class="tag">objc</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/realm/"><span class="tag">realm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rx/"><span class="tag">rx</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/script/"><span class="tag">script</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spm/"><span class="tag">spm</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swift/"><span class="tag">swift</span><span class="tag is-grey-lightest">269</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swiftUI/"><span class="tag">swiftUI</span><span class="tag is-grey-lightest">49</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tech/"><span class="tag">tech</span><span class="tag is-grey-lightest">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/testing/"><span class="tag">testing</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tool/"><span class="tag">tool</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/voip/"><span class="tag">voip</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/watchOS/"><span class="tag">watchOS</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wwdc/"><span class="tag">wwdc</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xcode/"><span class="tag">xcode</span><span class="tag is-grey-lightest">24</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=c2r59mmt2n5k0o5dt5vv3nq4u4&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="c2r59mmt2n5k0o5dt5vv3nq4u4" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a><p class="size-small"><span>&copy; 2020 Khoa Pham</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://onmyway133.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>