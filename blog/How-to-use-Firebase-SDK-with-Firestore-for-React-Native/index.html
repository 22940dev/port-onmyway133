<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>how to use firebase sdk with firestore for react native | onmyway133</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="ios, android, kotlin, mac, swift, electron, javascript, node">
  
  
  
  
  <meta name="description" content="Issue #260 Original post https://medium.com/react-native-training/firebase-sdk-with-firestore-for-react-native-apps-in-2018-aa89a67d6934  At Firebase Dev Summit 2017, Google introduced Firestore as fu">
<meta name="keywords" content="react native,firebase">
<meta property="og:type" content="article">
<meta property="og:title" content="How to use Firebase SDK with Firestore for React Native">
<meta property="og:url" content="https://onmyway133.github.io/blog/How-to-use-Firebase-SDK-with-Firestore-for-React-Native/index.html">
<meta property="og:site_name" content="onmyway133">
<meta property="og:description" content="Issue #260 Original post https://medium.com/react-native-training/firebase-sdk-with-firestore-for-react-native-apps-in-2018-aa89a67d6934  At Firebase Dev Summit 2017, Google introduced Firestore as fu">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/0*mEjeh2eMqIvQYNTa.png">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*rae3_7gLeEQvPRDNesXgrw.png">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/2868/1*ab5VL-6oUZdahAQAFYFBuQ.png">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/2796/1*0NEWzQZ9oiKY3lkMBxHtcA.png">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*-Tz59Dx1xbIyqUEuKOlXCA.png">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/2446/1*TBQZ1GbbDtWFz8Ife2mTEg.png">
<meta property="og:updated_time" content="2019-11-12T12:12:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to use Firebase SDK with Firestore for React Native">
<meta name="twitter:description" content="Issue #260 Original post https://medium.com/react-native-training/firebase-sdk-with-firestore-for-react-native-apps-in-2018-aa89a67d6934  At Firebase Dev Summit 2017, Google introduced Firestore as fu">
<meta name="twitter:image" content="https://cdn-images-1.medium.com/max/2000/0*mEjeh2eMqIvQYNTa.png">
  
    <link rel="alternate" href="/atom.xml" title="onmyway133" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/about/"] = "About"; 

  themeMenus["/apps/"] = "apps"; 

  themeMenus["/writing/"] = "writing"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/speaking/"] = "speaking"; 

  themeMenus["/opensource/"] = "open source"; 

  themeMenus["/projects/"] = "projects"; 

  themeMenus["/news/"] = "news"; 

  themeMenus["/gumroad/"] = "gumroad"; 

  themeMenus["/atom.xml"] = "rss"; 

</script>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="onmyway133" rel="home"> onmyway133 </a>
            
          </h1>

          
            <div class="site-description">What you don&#39;t know is what you haven&#39;t learned</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about/">About</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/apps/">apps</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/writing/">writing</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/speaking/">speaking</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/opensource/">open source</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/projects/">projects</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/news/">news</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/gumroad/">gumroad</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/atom.xml">rss</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt="" src="">
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "https://avatars1.githubusercontent.com/u/2284279?s=460&v=4".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-How-to-use-Firebase-SDK-with-Firestore-for-React-Native" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      How to use Firebase SDK with Firestore for React Native
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-Firebase-SDK-with-Firestore-for-React-Native/" class="article-date">
	  <time datetime="2019-05-23T14:48:39.000Z" itemprop="datePublished">May 23, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/260" target="_blank" rel="noopener">#260</a></strong></p>
<p>Original post <a href="https://medium.com/react-native-training/firebase-sdk-with-firestore-for-react-native-apps-in-2018-aa89a67d6934" target="_blank" rel="noopener">https://medium.com/react-native-training/firebase-sdk-with-firestore-for-react-native-apps-in-2018-aa89a67d6934</a></p>
<hr>
<p>At <a href="https://www.youtube.com/watch?v=W3xIOQu0h1w" target="_blank" rel="noopener">Firebase Dev Summit 2017</a>, Google introduced <a href="https://firebase.googleblog.com/2017/10/introducing-cloud-firestore.html" target="_blank" rel="noopener">Firestore</a> as fully-managed NoSQL document database for mobile and web app development. Compared to Firebase Realtime Database, it has <a href="https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html" target="_blank" rel="noopener">better querying</a> and more structured data, together with ease manual fetching of data.</p>
<p>The new structure of collection and document is probably the eye catching, this makes data more intuitive to users and query a breeze.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/0*mEjeh2eMqIvQYNTa.png" alt="From [https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html](https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html)"><em>From <a href="https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html" target="_blank" rel="noopener">https://firebase.googleblog.com/2017/10/cloud-firestore-for-rtdb-developers.html</a></em></p>
<p>In this post, I will show how to setup Firebase Cloud Firestore in React Native apps for both iOS and Android through, of course, some pain points. Then we create and fetch document in Firestore database.</p>
<h2 id="Firebase-Javascript-SDK"><a href="#Firebase-Javascript-SDK" class="headerlink" title="Firebase Javascript SDK"></a>Firebase Javascript SDK</h2><p>My first option is to go with <a href="https://github.com/firebase/firebase-js-sdk" target="_blank" rel="noopener">Firebase Javascript SDK</a>, as it worked well for me with Firebase Realtime Database. My use case is to just fetch and update Firestore collections, I think it does not involve much of native features. Furthermore, when possible I try to avoid native code as much as possible when dealing with React Native.</p>
<p>So let’s try <a href="https://firebase.google.com/docs/firestore/quickstart" target="_blank" rel="noopener">Get started with Cloud Firestore</a></p>
<pre><code>npm install firebase</code></pre><p>The version I install is 5.4.0. Next, import firebase and note that we need to import firestore as well</p>
<pre><code>const firebase = require(&quot;firebase&quot;);
// Required for side-effects
require(&quot;firebase/firestore&quot;);</code></pre><h3 id="document-is-not-defined"><a href="#document-is-not-defined" class="headerlink" title="document is not defined"></a>document is not defined</h3><p>This <a href="https://github.com/firebase/firebase-js-sdk/issues/1157" target="_blank" rel="noopener">issue</a> made me bang against my desk for a while. As <a href="https://github.com/firebase/firebase-js-sdk/issues/1138" target="_blank" rel="noopener">people</a> have pointed out, it is because of document being accessed.</p>
<pre><code>var BrowserPlatform = /** @class */ (function () {
    function BrowserPlatform() {
        this.emptyByteString = &apos;&apos;;
        this.document = document; // delete this line
        this.window = window; // delete this line
        this.base64Available = typeof atob !== &apos;undefined&apos;;
    }</code></pre><p>The firestore component in the current Firebase Javascript SDK does not fully support React Native, so we need to work around or use beta version with npm install firebase@next . In the mean time, let’s try React Native Firebase.</p>
<h2 id="React-Native-Firebase"><a href="#React-Native-Firebase" class="headerlink" title="React Native Firebase"></a>React Native Firebase</h2><p>Reading over at <a href="https://firebase.google.com/docs/firestore/library-integrations" target="_blank" rel="noopener">Cloud Firestore Library and framework integrations</a>, React Native Firebase is recommended. Although some features from the <a href="https://www.npmjs.com/package/firebase" target="_blank" rel="noopener">Firebase Web SDK</a> will generally work with React Native, it is mainly built for the web and as such has a limited compatible feature set.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*rae3_7gLeEQvPRDNesXgrw.png" alt="Source: [https://rnfirebase.io/docs/v4.3.x/getting-started](https://rnfirebase.io/docs/v4.3.x/getting-started)"><em>Source: <a href="https://rnfirebase.io/docs/v4.3.x/getting-started" target="_blank" rel="noopener">https://rnfirebase.io/docs/v4.3.x/getting-started</a></em></p>
<p>The below article and their <a href="https://github.com/invertase/react-native-firebase-starter" target="_blank" rel="noopener">starter app</a> is the guiding star. The integration with native code in iOS and Android can be painful, but I React Native Firebase is very powerful as it has up-to-date wrappers around native Firebase SDK.</p>
<p>Let ‘s npm install react-native-firebase , the current version is 4.3.8 , and follow <a href="https://rnfirebase.io/docs/v4.3.x/installation/initial-setup" target="_blank" rel="noopener">manual setup guide</a> for existing project, this helps you learn more about the process and the bootstrap script.</p>
<h2 id="A-quick-look"><a href="#A-quick-look" class="headerlink" title="A quick look"></a>A quick look</h2><p>First you need to <a href="https://firebase.google.com/console" target="_blank" rel="noopener">Firebase console</a> and add a project. A project allows many apps to stay, for example I have 4 apps (2 iOS, 2 Android) that have access to Firestore database.</p>
<p><img src="https://cdn-images-1.medium.com/max/2868/1*ab5VL-6oUZdahAQAFYFBuQ.png" alt></p>
<p>Head over to Database in the left menu, we can see a quick look into Firestore and its collection/document structure</p>
<p><img src="https://cdn-images-1.medium.com/max/2796/1*0NEWzQZ9oiKY3lkMBxHtcA.png" alt></p>
<h3 id="Setup-for-iOS"><a href="#Setup-for-iOS" class="headerlink" title="Setup for iOS"></a>Setup for iOS</h3><p>Follow <a href="https://rnfirebase.io/docs/v4.3.x/installation/ios" target="_blank" rel="noopener">iOS Installation Guide</a></p>
<p>Firstly, download <a href="https://rnfirebase.io/docs/v4.3.x/installation/ios#1.1.-Setup-GoogleService-Info.plist" target="_blank" rel="noopener">GoogleService-Info.plist</a> and place it in the correct folder, make sure it has been added to project via Xcode. Otherwise Firebase SDK causes app to crash right after start.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*-Tz59Dx1xbIyqUEuKOlXCA.png" alt></p>
<p>Then add #import &lt;Firebase.h&gt; to AppDelegate.m and [FIRApp configure]; to function didFinishLaunchingWithOptions . Next create Podfile with pod init inside ios folder. For Firestore, you need Firebase/Firestore to prevent the error below</p>
<blockquote>
<p>You attempted to use a firebase module that’s not installed natively on your iOS project by calling firebase.firestore()</p>
</blockquote>
<p>And you shouldn’t use use_frameworks! as it gives error ‘FirebaseCore/FIRAnalyticsConfiguration.h’ file not found</p>
<pre><code>platform :ios, &apos;9.0&apos;

target &apos;FoodshopGuest&apos; do
  pod &apos;Firebase/Core&apos;, &apos;~&gt; 5.3.0&apos;
  pod &apos;Firebase/Firestore&apos;, &apos;~&gt; 5.3.0&apos;
end</code></pre><p>If you get framework not found FirebaseAnalytics , then make sure each target has $(inherited) at the top for Framework Search Paths</p>
<p><img src="https://cdn-images-1.medium.com/max/2446/1*TBQZ1GbbDtWFz8Ife2mTEg.png" alt></p>
<p>Then run react-native link react-native-firebase and you should be good for iOS.</p>
<h3 id="Setup-for-Android"><a href="#Setup-for-Android" class="headerlink" title="Setup for Android"></a>Setup for Android</h3><p>Android is a bit less straightforward to setup than iOS. But it’s not impossible. Let’s follow <a href="https://rnfirebase.io/docs/v4.3.x/installation/android" target="_blank" rel="noopener">Android Installation guide</a>.</p>
<p>Firstly, place <a href="https://rnfirebase.io/docs/v4.3.x/installation/android#2.-Setup-google-services.json" target="_blank" rel="noopener">google-services.json</a> in android/app/google-services.json . Let’s also use Gradle 4.4 and Google Play Services 15.0.1 . Change gradle/gradle-wrapper.properties to use</p>
<pre><code>distributionUrl=https\://services.gradle.org/distributions/gradle-4.4-all.zip</code></pre><p>Below is my project build.gradle with compileSdkVersion 27 and buildToolsVersion 27.0.3 . Make sure google() stays above jcenter()</p>
<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        mavenLocal()
        google()
        jcenter()
        maven {
            url &apos;[https://maven.google.com/&apos;](https://maven.google.com/&apos;)
            name &apos;Google&apos;
        }
    }
    dependencies {
        classpath &apos;com.android.tools.build:gradle:3.1.3&apos;
        classpath &apos;com.google.gms:google-services:4.0.1&apos;

// NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        mavenLocal()
        google()
        jcenter()
        maven {
            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm
            url &quot;$rootDir/../node_modules/react-native/android&quot;
        }
    }
}

ext {
    buildToolsVersion = &quot;27.0.3&quot;
    minSdkVersion = 16
    compileSdkVersion = 27
    targetSdkVersion = 26
    supportLibVersion = &quot;26.1.0&quot;
}</code></pre><p>For my app module build.gradle , let’s have apply plugin: ‘com.google.gms.google-services’ at the very bottom of the file, this is important. In dependencies section, you must have com.google.firebase:firebase-firestore to include Firestore component.</p>
<pre><code>dependencies {
    implementation project(&apos;:react-native-firebase&apos;)
    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])
    implementation &quot;com.android.support:appcompat-v7:${rootProject.ext.supportLibVersion}&quot;

// Firebase dependencies
    implementation &quot;com.google.android.gms:play-services-base:15.0.1&quot;
    implementation &quot;com.google.firebase:firebase-core:16.0.1&quot;
    implementation &quot;com.google.firebase:firebase-firestore:17.0.2&quot;

}</code></pre><p>Make sure there is no duplication of project(‘:react-native-firebase’) . And since we are using Gradle 4, let’s use implementation instead of compile<br><a href="https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-and-compile-in-gradle" target="_blank" rel="noopener"><strong>What’s the difference between implementation and compile in Gradle?</strong><br><em>This site uses cookies to deliver our services and to show you relevant ads and job listings. By using our site, you…</em>stackoverflow.com</a></p>
<p>Because of Firestore, let’s follow <a href="https://github.com/invertase/react-native-firebase-starter/blob/master/android/app/build.gradle" target="_blank" rel="noopener">react-native-firebase-starter</a> to fix heap problem</p>
<pre><code>dexOptions {
    javaMaxHeapSize &quot;4g&quot;
}

multiDexEnabled true</code></pre><p>If you get Native module RNFirebaseModule tried to override FNFirebaseModule</p>
<blockquote>
<p>Native module RNFirebaseModule tried to override FNFirebaseModule for module name Firebase. If this was your intention, set `canOverrideExistingModule=true</p>
</blockquote>
<p>Then make sure your MainApplication.java has no duplication for new RNFirebasePackage() . Here is my MainApplication.java , note that you need import io.invertase.firebase.firestore.RNFirebaseFirestorePackage; in order to use RNFirebaseFirestorePackage</p>
<pre><code>package com.fantageek.foodshophost;

import android.app.Application;

import com.facebook.react.ReactApplication;
import io.invertase.firebase.RNFirebasePackage;
import io.invertase.firebase.firestore.RNFirebaseFirestorePackage;
import com.facebook.react.ReactNativeHost;
import com.facebook.react.ReactPackage;
import com.facebook.react.shell.MainReactPackage;
import com.facebook.soloader.SoLoader;

import java.util.Arrays;
import java.util.List;

public class MainApplication extends Application implements ReactApplication {

private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {
    [@Override](http://twitter.com/Override)
    public boolean getUseDeveloperSupport() {
      return BuildConfig.DEBUG;
    }

[@Override](http://twitter.com/Override)
    protected List&lt;ReactPackage&gt; getPackages() {
      return Arrays.&lt;ReactPackage&gt;asList(
          new MainReactPackage(),
          new RNFirebasePackage(),
          new RNFirebaseFirestorePackage()
      );
    }

[@Override](http://twitter.com/Override)
    protected String getJSMainModuleName() {
      return &quot;index&quot;;
    }
  };

[@Override](http://twitter.com/Override)
  public ReactNativeHost getReactNativeHost() {
    return mReactNativeHost;
  }

[@Override](http://twitter.com/Override)
  public void onCreate() {
    super.onCreate();
    SoLoader.init(this, /* native exopackage */ false);
  }
}</code></pre><p>My rule of thumb is that you should always use Android Studio to perform Gradle sync or Build projectThere you should be able to see compile issues much easier. With all the steps above, compilation should succeed.</p>
<p>One problem with running React Native on Android, if after react-native run-android and Metro keeps showing Loading dependency graph, done , then you should start emulator via Android Studio -&gt; AVD Manager or adb , the app should be already installed in the emulator, open the app and Metro will start loading again.</p>
<h2 id="Trying-Firestore"><a href="#Trying-Firestore" class="headerlink" title="Trying Firestore"></a>Trying Firestore</h2><p>React Native Firebase should give you similar APIs to those in the web, so learn from <a href="https://firebase.google.com/docs/firestore/query-data/get-data" target="_blank" rel="noopener">Get data with Cloud Firestore</a> for how to get or set documents.</p>
<p>I like to organise services in separate files, here is how to reference firestore and load document.</p>
<pre><code>import firebase from &apos;react-native-firebase&apos;

class FirebaseService {
  constructor() {
    this.ref = firebase.firestore().collection(&apos;people&apos;)
  }

async load(id) {
    const doc = await this.ref.doc(id).get()
    if (doc.exists) {
      return doc.data()
    } else {
      const defaultDoc = {
        name: &quot;ABC&quot;,
        age: 2
      }

await this.ref.doc(id).set(defaultDoc)
      return doc
    }
  }
}

export const firebaseService = new FirebaseService()</code></pre><h2 id="Where-to-go-from-here"><a href="#Where-to-go-from-here" class="headerlink" title="Where to go from here"></a>Where to go from here</h2><p>I hope this article helps in setting up Firebase SDK in React Native apps. Below are some resources that helps you explore further. The react-native-firebase-starter contains awesome reference code if you get into any troubles with react-native-firebase.<br><a href="https://blog.invertase.io/getting-started-with-cloud-firestore-on-react-native-b338fb6525b9" target="_blank" rel="noopener"><strong>Getting started with Cloud Firestore on React Native</strong><br><em>A week ago, Firebase announced Cloud Firestore, an awesome NoSQL document database that complements the existing…</em>blog.invertase.io</a><br><a href="https://github.com/invertase/react-native-firebase-starter" target="_blank" rel="noopener"><strong>invertase/react-native-firebase-starter</strong><br><em>react-native-firebase-starter - 🎁 A bare-bones react native app with react-native-firebase pre-integrated so you can…</em>github.com</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/firebase/">firebase</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react native</a></li></ul>

      
            
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/How-to-dismiss-keyboard-with-react-navigation-in-React-Native-apps/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          How to dismiss keyboard with react-navigation in React Native apps
        
      </div>
    </a>
  
  
    <a href="/blog/How-to-position-element-at-the-bottom-of-the-screen-using-Flexbox-in-React-Native/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">How to position element at the bottom of the screen using Flexbox in React Native</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article" style="overflow-y: scroll; max-width: 28%;">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Firebase-Javascript-SDK"><span class="nav-number">1.</span> <span class="nav-text">Firebase Javascript SDK</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#document-is-not-defined"><span class="nav-number">1.1.</span> <span class="nav-text">document is not defined</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#React-Native-Firebase"><span class="nav-number">2.</span> <span class="nav-text">React Native Firebase</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-quick-look"><span class="nav-number">3.</span> <span class="nav-text">A quick look</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Setup-for-iOS"><span class="nav-number">3.1.</span> <span class="nav-text">Setup for iOS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Setup-for-Android"><span class="nav-number">3.2.</span> <span class="nav-text">Setup for Android</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Trying-Firestore"><span class="nav-number">4.</span> <span class="nav-text">Trying Firestore</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Where-to-go-from-here"><span class="nav-number">5.</span> <span class="nav-text">Where to go from here</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 onmyway133 All Rights Reserved.
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about/" class="mobile-nav-link">About</a>
  
    <a href="/apps/" class="mobile-nav-link">Apps</a>
  
    <a href="/writing/" class="mobile-nav-link">Writing</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/speaking/" class="mobile-nav-link">Speaking</a>
  
    <a href="/opensource/" class="mobile-nav-link">Open Source</a>
  
    <a href="/projects/" class="mobile-nav-link">Projects</a>
  
    <a href="/news/" class="mobile-nav-link">News</a>
  
    <a href="/gumroad/" class="mobile-nav-link">Gumroad</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-40119591-5', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->












  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
