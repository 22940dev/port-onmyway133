<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Coordinator and FlowController - onmyway133</title><meta description="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:type" content="blog"><meta property="og:title" content="Coordinator and FlowController"><meta property="og:url" content="https://onmyway133.github.io/blog/Coordinator-and-FlowController/"><meta property="og:site_name" content="onmyway133"><meta property="og:description" content="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://user-images.githubusercontent.com/2284279/32828592-d03ad9a0-c9ef-11e7-8759-cb0292d668df.png"><meta property="article:published_time" content="2017-11-14T13:40:31.000Z"><meta property="article:modified_time" content="2019-09-24T06:52:58.000Z"><meta property="article:author" content="Khoa Pham"><meta property="article:tag" content="swift"><meta property="article:tag" content="iOS"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://user-images.githubusercontent.com/2284279/32828592-d03ad9a0-c9ef-11e7-8759-cb0292d668df.png"><meta property="twitter:creator" content="@onmyway133"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://onmyway133.github.io/blog/Coordinator-and-FlowController/"},"headline":"onmyway133","image":["https://user-images.githubusercontent.com/2284279/32828592-d03ad9a0-c9ef-11e7-8759-cb0292d668df.png"],"datePublished":"2017-11-14T13:40:31.000Z","dateModified":"2019-09-24T06:52:58.000Z","author":{"@type":"Person","name":"Khoa Pham"},"description":"Issue #106 Every new architecture that comes out, either iOS or Android, makes me very excited. I‚Äôm always looking for ways to structure apps in a better way. But after some times, I see that we‚Äôre to"}</script><link rel="canonical" href="https://onmyway133.github.io/blog/Coordinator-and-FlowController/"><link rel="alternative" href="/atom.xml" title="onmyway133" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-40119591-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-40119591-5');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script data-ad-client="ca-pub-3656459401405265" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/apps">Apps</a><a class="navbar-item" href="/producthunt">Product Hunt</a><a class="navbar-item" href="/gumroad">Gumroad</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/opensource">Open Source</a><a class="navbar-item" href="/writing">Writing</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/speaking">Speaking</a><a class="navbar-item" href="/news">News</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2017-11-14T13:40:31.000Z" title="2017-11-14T13:40:31.000Z">2017-11-14</time><span class="level-item">15 minutes read (About 2300 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Coordinator and FlowController</h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/106">#106</a></strong></p>
<p>Every new architecture that comes out, either <a href="https://github.com/onmyway133/fantastic-ios-architecture">iOS</a> or <a href="https://github.com/onmyway133/fantastic-android-architecture">Android</a>, makes me very excited. I‚Äôm always looking for ways to structure apps in a better way. But after some times, I see that we‚Äôre too creative in creating architecture, aka constraint, that is too far away from the platform that we‚Äôre building. I often think ‚ÄúIf we‚Äôre going too far from the system, then it‚Äôs very hard to go back‚Äù</p>
<p>I like things that embrace the system. One of them is <a href="http://khanlou.com/2015/10/coordinators-redux/">Coordinator</a> which helps in encapsulation and navigation. Thanks to my friend <a href="https://github.com/vadymmarkov/">Vadym</a> for showing me <code>Coordinator</code> in action.</p>
<p>The below screenshot from @khanlou ‚Äòs <a href="https://www.youtube.com/watch?v=a1g3k3NObkE">talk</a> at CocoaHeads Stockholm clearly says many things about <code>Coordinator</code></p>
<div align="center">
<img src="https://user-images.githubusercontent.com/2284279/32828592-d03ad9a0-c9ef-11e7-8759-cb0292d668df.png" />
<br />
</div>

<p>But after reading <a href="https://davedelong.com/blog/2017/11/06/a-better-mvc-part-3-fixing-massive-view-controller/">A Better MVC</a>, I think we can leverage view controller containment to do navigation using <code>UIViewController</code> only.</p>
<p>Since I tend to call view controllers as <code>LoginController, ProfileController, ...</code> and the term <code>flow</code> to group those related screens, what should we call a <code>Coordinator</code> that inherits from <code>UIViewController</code> ü§î Let‚Äôs call it <code>FlowController</code> üòé . </p>
<p>The name is not that important, but the concept is simple. <code>FlowController</code> was also inspired by this <a href="http://albertodebortoli.com/blog/2014/09/03/flow-controllers-on-ios-for-a-better-navigation-control/">Flow Controllers on iOS for a Better Navigation Control</a> back in 2014. The idea is from awesome iOS people, this is just a sum up from my experience üòá </p>
<p>So <code>FlowController</code> can just a <code>UIViewController</code> friendly version of <code>Coordinator</code>. Let see how <code>FlowController</code> fits better into <code>MVC</code></p>
<blockquote class="twitter-tweet" data-lang="no"><p lang="en" dir="ltr">¬´UIViewController is the center of the universe.¬ª<br><br>‚Äî <a href="https://twitter.com/onmyway133?ref_src=twsrc%5Etfw">@onmyway133</a></p>&mdash; Elvis Nu√±ez (@3lvis) <a href="https://twitter.com/3lvis/status/916234962357153792?ref_src=twsrc%5Etfw">6. oktober 2017</a></blockquote>

<h2 id="1-FlowController-and-AppDelegate"><a href="#1-FlowController-and-AppDelegate" class="headerlink" title="1. FlowController and AppDelegate"></a>1. FlowController and AppDelegate</h2><p>Your application starts from <code>AppDelegate</code>, in that you setup <code>UIWindow</code>. So we should follow the same ‚Äútop down‚Äù approach for <code>FlowController</code>, starting with <code>AppFlowController</code>. You can construct all dependencies that your app need for <code>AppFlowController</code>, so that it can pass to other child <code>FlowController</code>.</p>
<p><code>AppDelegate</code> is also considered <a href="http://blog.ploeh.dk/2011/07/28/CompositionRoot/">Composition Root</a></p>
<p>Here is how to declare <code>AppFlowController</code> in <code>AppDelegate</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">DependencyContainer</span>: <span class="title">AuthServiceContainer</span>, <span class="title">PhoneServiceContainer</span>, <span class="title">NetworkingServiceContainer</span>,</span></span><br><span class="line"><span class="class">  <span class="title">LocationServiceContainer</span>, <span class="title">MapServiceContainer</span>, <span class="title">HealthServiceContainer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> authService: <span class="type">AuthServiceProtocol</span></span><br><span class="line">  <span class="keyword">let</span> phoneService: <span class="type">PhoneService</span></span><br><span class="line">  <span class="keyword">let</span> networkingService: <span class="type">NetworkingService</span></span><br><span class="line">  <span class="keyword">let</span> locationService: <span class="type">LocationService</span></span><br><span class="line">  <span class="keyword">let</span> mapService: <span class="type">MapService</span></span><br><span class="line">  <span class="keyword">let</span> healthService: <span class="type">HealthService</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">make</span><span class="params">()</span></span> -&gt; <span class="type">DependencyContainer</span> &#123;</span><br><span class="line">    <span class="comment">// Configure and make DependencyContainer here</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> window: <span class="type">UIWindow?</span></span><br><span class="line">  <span class="keyword">var</span> appFlowController: <span class="type">AppFlowController!</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication,</span></span></span><br><span class="line"><span class="function"><span class="params">                   didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: <span class="keyword">Any</span>]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    appFlowController = <span class="type">AppFlowController</span>(</span><br><span class="line">      dependencyContainer: <span class="type">DependencyContainer</span>.make()</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.main.bounds)</span><br><span class="line">    window?.rootViewController = appFlowController</span><br><span class="line">    window?.makeKeyAndVisible()</span><br><span class="line"></span><br><span class="line">    appFlowController.start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here are some hypothetical <code>FlowController</code> that you may encounter</p>
<ul>
<li>AppFlowController: manages UIWindow and check whether to show onboarding, login or main depending on authentication state<ul>
<li>OnboardingFlowController: manages <code>UIPageViewController</code> and maybe ask for some permissions</li>
<li>LoginFlowController: manages <code>UINavigationController</code> to show login, sms verification, forget password, and optionally start <code>SignUpFlowController</code></li>
<li>MainFlowController: manages <code>UITabBarController</code> with each tab serving main features<ul>
<li>FeedFlowController: show feed with list of items</li>
<li>ProfileFlowController: show profile</li>
<li>SettingsFlowController: show settings, and maybe call logout, this will delegates up the <code>FlowController</code> chain.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The cool thing about <code>FlowController</code> is it makes your code very self contained, and grouped by features. So it‚Äôs easy to move all related things to its own package if you like.</p>
<h2 id="2-FlowController-as-container-view-controller"><a href="#2-FlowController-as-container-view-controller" class="headerlink" title="2. FlowController as container view controller"></a>2. FlowController as container view controller</h2><blockquote>
<p>In general, a view controller should manage either sequence or UI, but not both.</p>
</blockquote>
<p>Basically, <code>FlowController</code> is just a container view controller to solve the <code>sequence</code>, based on a simple concept called <code>composition</code>. It manages many child view controllers in its flow. Let‚Äô say we have a <code>ProductFlowController</code> that groups together flow related to displaying products, <code>ProductListController</code>, <code>ProductDetailController</code>, <code>ProductAuthorController</code>, <code>ProductMapController</code>, ‚Ä¶ Each can delegate to the <code>ProductFlowController</code> to express its intent, like <code>ProductListController</code> can delegate to say ‚Äúproduct did tap‚Äù, so that <code>ProductFlowController</code> can construct and present the next screen in the flow, based on the embedded <code>UINavigationController</code> inside it.</p>
<p>Normally, a <code>FlowController</code> just displays 1 child <code>FlowController</code> at a time, so normally we can just update its frame</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AppFlowController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLayoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLayoutSubviews()</span><br><span class="line"></span><br><span class="line">    childViewControllers.first?.view.frame = view.bounds</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-FlowController-as-dependency-container"><a href="#3-FlowController-as-dependency-container" class="headerlink" title="3. FlowController as dependency container"></a>3. FlowController as dependency container</h2><p>Each view controller inside the flow can have different dependencies, so it‚Äôs not fair if the first view controller needs to carry all the stuff just to be able to pass down to the next view controllers. Here are some dependencies</p>
<ul>
<li>ProductListController: ProductNetworkingService</li>
<li>ProductDetailController: ProductNetworkingService, ImageDowloaderService, ProductEditService</li>
<li>ProductAuthorController: AuthorNetworkingService, ImageDowloaderService</li>
<li>ProductMapController: LocationService, MapService</li>
</ul>
<p>Instead the <code>FlowController</code> can carry all the dependencies needed for that whole flow, so it can pass down to the view controller if needed.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ProductDependencyContainer</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> productNetworkingService: <span class="type">ProductNetworkingService</span></span><br><span class="line">  <span class="keyword">let</span> imageDownloaderService: <span class="type">ImageDownloaderService</span></span><br><span class="line">  <span class="keyword">let</span> productEditService: <span class="type">ProductEditService</span></span><br><span class="line">  <span class="keyword">let</span> authorNetworkingService: <span class="type">AuthorNetworkingService</span></span><br><span class="line">  <span class="keyword">let</span> locationService: <span class="type">LocationService</span></span><br><span class="line">  <span class="keyword">let</span> mapService: <span class="type">MapService</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductFlowController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> dependencyContainer: <span class="type">ProductDependencyContainer</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(dependencyContainer: <span class="type">ProductDependencyContainer</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.dependencyContainer = dependencyContainer</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ProductFlowController</span>: <span class="title">ProductListControllerDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">productListController</span><span class="params">(<span class="number">_</span> controller: ProductListController, didSelect product: Product)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> productDetailController = <span class="type">ProductDetailController</span>(</span><br><span class="line">      productNetworkingService: dependencyContainer.productNetworkingService,</span><br><span class="line">      productEditService: dependencyContainer.productEditService,</span><br><span class="line">      imageDownloaderService: dependencyContainer.imageDownloaderService</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    productDetailController.delegate = <span class="keyword">self</span></span><br><span class="line">    embeddedNavigationController.pushViewController(productDetailController, animated: <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here are some ways that you can use to pass dependencies into <code>FlowController</code></p>
<ul>
<li><a href="http://merowing.info/2017/04/using-protocol-compositon-for-dependency-injection/">Using protocol compositon for dependency injection</a></li>
<li><a href="https://www.swiftbysundell.com/posts/dependency-injection-using-factories-in-swift">Dependency injection using factories in Swift</a></li>
</ul>
<h2 id="4-Adding-or-removing-child-FlowController"><a href="#4-Adding-or-removing-child-FlowController" class="headerlink" title="4. Adding or removing child FlowController"></a>4. Adding or removing child FlowController</h2><p><strong>Coordinator</strong></p>
<p>With <code>Coordinator</code>, you need to keep an array of child <code>Coordinators</code>, and maybe use address (<code>===</code> operator) to identify them</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coordinator</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> children: [<span class="type">Coordinator</span>] = []</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(child: Coordinator)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> !children.<span class="built_in">contains</span>(<span class="keyword">where</span>: &#123; $<span class="number">0</span> === child &#125;) <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    children.append(child)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">remove</span><span class="params">(child: Coordinator)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> index = children.index(<span class="keyword">where</span>: &#123; $<span class="number">0</span> === child &#125;) <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    children.remove(at: index)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">removeAll</span><span class="params">()</span></span> &#123;</span><br><span class="line">    children.removeAll()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FlowController</strong></p>
<p>With <code>FlowController</code>, since it is <code>UIViewController</code> subclass, it has <code>viewControllers</code> to hold all those child <code>FlowController</code>. Just add these extensions to simplify your adding or removing of child <code>UIViewController</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(childController: UIViewController)</span></span> &#123;</span><br><span class="line">    addChildViewController(childController)</span><br><span class="line">    view.addSubview(childController.view)</span><br><span class="line">    childController.didMove(toParentViewController: <span class="keyword">self</span>)</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">remove</span><span class="params">(childController: UIViewController)</span></span> &#123;</span><br><span class="line">    childController.willMove(toParentViewController: <span class="literal">nil</span>)</span><br><span class="line">    childController.view.removeFromSuperview()</span><br><span class="line">    childController.removeFromParentViewController()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And see in action how <code>AppFlowController</code> work with adding</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AppFlowController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">start</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> authService.isAuthenticated &#123;</span><br><span class="line">      startMain()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      startLogin()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">startLogin</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> loginFlowController = <span class="type">LoginFlowController</span>(</span><br><span class="line">    loginFlowController.delegate = <span class="keyword">self</span></span><br><span class="line">    add(childController: loginFlowController)</span><br><span class="line">    loginFlowController.start()</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">fileprivate</span> <span class="function"><span class="keyword">func</span> <span class="title">startMain</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> mainFlowController = <span class="type">MainFlowController</span>()</span><br><span class="line">    mainFlowController.delegate = <span class="keyword">self</span></span><br><span class="line">    add(childController: mainFlowController)</span><br><span class="line">    mainFlowController.start()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and with removing when the child <code>FlowController</code> finishes</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">AppFlowController</span>: <span class="title">LoginFlowControllerDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">loginFlowControllerDidFinish</span><span class="params">(<span class="number">_</span> flowController: LoginFlowController)</span></span> &#123;</span><br><span class="line">    remove(childController: flowController)</span><br><span class="line">    startMain()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-AppFlowController-does-not-need-to-know-about-UIWindow"><a href="#5-AppFlowController-does-not-need-to-know-about-UIWindow" class="headerlink" title="5. AppFlowController does not need to know about UIWindow"></a>5. AppFlowController does not need to know about UIWindow</h2><p><strong>Coordinator</strong></p>
<p>Usually you have an <code>AppCoordinator</code>, which is held by <code>AppDelegate</code>, as the root of your <code>Coordinator</code> chain. Based on login status, it will determine which <code>LoginController</code> or <code>MainController</code> will be set as the <code>rootViewController</code>, in order to do that, it needs to be injected a <code>UIWindow</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.main.bounds)</span><br><span class="line">appCoordinator = <span class="type">AppCoordinator</span>(window: window!)</span><br><span class="line">appCoordinator.start()</span><br><span class="line">window?.makeKeyAndVisible()</span><br></pre></td></tr></table></figure>

<p>You can guess that in the <code>start</code> method of <code>AppCoordinator</code>, it must set <code>rootViewController</code> before <code>window?.makeKeyAndVisible()</code> is called.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AppCoordinator</span>: <span class="title">Coordinator</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> window: <span class="type">UIWindow</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">init</span>(window: <span class="type">UIWindow</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.window = window</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">start</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> dependencyContainer.authService.isAuthenticated &#123;</span><br><span class="line">      startMain()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      startLogin()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FlowController</strong></p>
<p>But with <code>AppFlowController</code>, you can treat it like a normal <code>UIViewController</code>, so just setting it as the <code>rootViewController</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">appFlowController = <span class="type">AppFlowController</span>(</span><br><span class="line">window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.main.bounds)</span><br><span class="line">window?.rootViewController = appFlowController</span><br><span class="line">window?.makeKeyAndVisible()</span><br><span class="line"></span><br><span class="line">appFlowController.start()</span><br></pre></td></tr></table></figure>

<h2 id="6-LoginFlowController-can-manage-its-own-flow"><a href="#6-LoginFlowController-can-manage-its-own-flow" class="headerlink" title="6. LoginFlowController can manage its own flow"></a>6. LoginFlowController can manage its own flow</h2><p>Supposed we have login flow based on <code>UINavigationController</code> that can display <code>LoginController</code>, <code>ForgetPasswordController</code>, <code>SignUpController</code></p>
<p><strong>Coordinator</strong></p>
<p>What should we do in the <code>start</code> method of <code>LoginCoordinator</code>? Construct the initial controller <code>LoginController</code> and set it as the <code>rootViewController</code> of the <code>UINavigationController</code>? <code>LoginCoordinator</code> can create this embedded <code>UINavigationController</code> internally, but then it is not attached to the <code>rootViewController</code> of <code>UIWindow</code>, because <code>UIWindow</code> is kept privately inside the parent <code>AppCoordinator</code>.</p>
<p>We can pass <code>UIWindow</code> to <code>LoginCoordinator</code> but then it knows too much. One way is to construct <code>UINavigationController</code> from <code>AppCoordinator</code> and pass that to <code>LoginCoordinator</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AppCoordinator</span>: <span class="title">Coordinator</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> window: <span class="type">UIWindow</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">startLogin</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> navigationController = <span class="type">UINavigationController</span>()</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">let</span> loginCoordinator = <span class="type">LoginCoordinator</span>(navigationController: navigationController)</span><br><span class="line"> </span><br><span class="line">    loginCoordinator.delegate = <span class="keyword">self</span></span><br><span class="line">    add(child: loginCoordinator)</span><br><span class="line">    window.rootViewController = navigationController</span><br><span class="line">    loginCoordinator.start()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginCoordinator</span>: <span class="title">Coordinator</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> navigationController: <span class="type">UINavigationController</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">init</span>(navigationController: <span class="type">UINavigationController</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.navigationController = navigationController</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">start</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> loginController = <span class="type">LoginController</span>(dependencyContainer: dependencyContainer)</span><br><span class="line">    loginController.delegate = <span class="keyword">self</span></span><br><span class="line"> </span><br><span class="line">    navigationController.viewControllers = [loginController]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FlowController</strong></p>
<p><code>LoginFlowController</code> leverages <code>container view controller</code> so it fits nicely with the way <code>UIKit</code> works. Here <code>AppFlowController</code> can just add <code>LoginFlowController</code> and <code>LoginFlowController</code> can just create its own <code>embeddedNavigationController</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AppFlowController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">startLogin</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> loginFlowController = <span class="type">LoginFlowController</span>(</span><br><span class="line">      dependencyContainer: dependencyContainer</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    loginFlowController.delegate = <span class="keyword">self</span></span><br><span class="line">    add(childController: loginFlowController)</span><br><span class="line">    loginFlowController.start()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginFlowController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> dependencyContainer: <span class="type">DependencyContainer</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> embeddedNavigationController: <span class="type">UINavigationController!</span></span><br><span class="line">  <span class="keyword">weak</span> <span class="keyword">var</span> delegate: <span class="type">LoginFlowControllerDelegate?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(dependencyContainer: <span class="type">DependencyContainer</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.dependencyContainer = dependencyContainer</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">    embeddedNavigationController = <span class="type">UINavigationController</span>()</span><br><span class="line">    add(childController: embeddedNavigationController)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">start</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> loginController = <span class="type">LoginController</span>(dependencyContainer: dependencyContainer)</span><br><span class="line">    loginController.delegate = <span class="keyword">self</span></span><br><span class="line"></span><br><span class="line">    embeddedNavigationController.viewControllers = [loginController]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-FlowController-and-responder-chain"><a href="#7-FlowController-and-responder-chain" class="headerlink" title="7. FlowController and responder chain"></a>7. FlowController and responder chain</h2><p><strong>Coordinator</strong></p>
<p>Sometimes we want a quick way to bubble up message to parent <code>Coordinator</code>, one way to do that is to replicate <code>UIResponder</code> chain using <code>associated object</code> and protocol extensions, like <a href="http://aplus.rs/2017/highly-maintainable-app-architecture/">Inter-connect with Coordinator</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">struct</span> <span class="title">AssociatedKeys</span> </span>&#123;</span><br><span class="line">		<span class="keyword">static</span> <span class="keyword">var</span> <span class="type">ParentCoordinator</span> = <span class="string">"ParentCoordinator"</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">var</span> parentCoordinator: <span class="type">Any?</span> &#123;</span><br><span class="line">		<span class="keyword">get</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> objc_getAssociatedObject(<span class="keyword">self</span>, &amp;<span class="type">AssociatedKeys</span>.<span class="type">ParentCoordinator</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">set</span> &#123;</span><br><span class="line">			objc_setAssociatedObject(<span class="keyword">self</span>, &amp;<span class="type">AssociatedKeys</span>.<span class="type">ParentCoordinator</span>, newValue, .<span class="type">OBJC_ASSOCIATION_ASSIGN</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">open</span> <span class="class"><span class="keyword">class</span> <span class="title">Coordinator</span>&lt;<span class="title">T</span>: <span class="title">UIViewController</span>&gt;: <span class="title">UIResponder</span>, <span class="title">Coordinating</span> </span>&#123;</span><br><span class="line">	<span class="keyword">open</span> <span class="keyword">var</span> parent: <span class="type">Coordinating?</span>	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">override</span> <span class="keyword">open</span> <span class="keyword">var</span> coordinatingResponder: <span class="type">UIResponder?</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> parent <span class="keyword">as</span>? <span class="type">UIResponder</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FlowController</strong></p>
<p>Since <code>FlowController</code> is <code>UIViewController</code>, which inherits from <code>UIResponder</code>, responder chain happens out of the box</p>
<blockquote>
<p>Responder objects‚Äîthat is, instances of UIResponder‚Äîconstitute the event-handling backbone of a UIKit app. Many key objects are also responders, including the UIApplication object, UIViewController objects, and all UIView objects (which includes UIWindow). As events occur, UIKit dispatches them to your app‚Äôs responder objects for handling.</p>
</blockquote>
<h2 id="8-FlowController-and-trait-collection"><a href="#8-FlowController-and-trait-collection" class="headerlink" title="8. FlowController and trait collection"></a>8. FlowController and trait collection</h2><p><strong>FlowController</strong></p>
<p>I very much like how <a href="https://github.com/kickstarter/ios-oss/blob/master/Kickstarter-iOS.playground/Sources/playgroundController.swift#L43">Kickstarter</a> uses trait collection in testing. Well, since <code>FlowController</code> is a parent view controller, we can just override its trait collection, and that will affect the size classes of all view controllers inside that flow.</p>
<p>As in <a href="https://davedelong.com/blog/2017/11/06/a-better-mvc-part-2-fixing-encapsulation/">A Better MVC, Part 2: Fixing Encapsulation</a></p>
<blockquote>
<p>The huge advantage of this approach is that system features come free. Trait collection propagation is free. View lifecycle callbacks are free. Safe area layout margins are generally free. The responder chain and preferred UI state callbacks are free. And future additions to UIViewController are also free.</p>
</blockquote>
<p>From <a href="https://developer.apple.com/documentation/uikit/uiviewcontroller/1621406-setoverridetraitcollection">setOverrideTraitCollection</a></p>
<blockquote>
<p>When implementing a custom container view controller, you can use this method to change the traits of any embedded child view controllers to something more appropriate for your layout. Making such a change alters other view controller behaviors associated with that child</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> trait = <span class="type">UITraitCollection</span>(traitsFrom: [</span><br><span class="line">  .<span class="keyword">init</span>(horizontalSizeClass: .compact),</span><br><span class="line">  .<span class="keyword">init</span>(verticalSizeClass: .regular),</span><br><span class="line">  .<span class="keyword">init</span>(userInterfaceIdiom: .phone)</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">appFlowController.setOverrideTraitCollection(trait, forChildViewController: loginFlowController)</span><br></pre></td></tr></table></figure>

<h2 id="9-FlowController-and-back-button"><a href="#9-FlowController-and-back-button" class="headerlink" title="9. FlowController and back button"></a>9. FlowController and back button</h2><p><strong>Coordinator</strong></p>
<p>One problem with <code>UINavigationController</code> is that clicking on the default <code>back button</code> pops the view controller out of the navigation stack, so <code>Coordinator</code> is not aware of that. With <code>Coordinator</code> you needs to keep <code>Coordinator</code> and <code>UIViewController</code> in sync, add try to hook up <code>UINavigationControllerDelegate</code> in order to clean up. Like in <a href="http://khanlou.com/2017/05/back-buttons-and-coordinators/">Back Buttons and Coordinators</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Coordinator</span>: <span class="title">UINavigationControllerDelegate</span> </span>&#123;    </span><br><span class="line">	<span class="function"><span class="keyword">func</span> <span class="title">navigationController</span><span class="params">(navigationController: UINavigationController,</span></span></span><br><span class="line"><span class="function"><span class="params">		didShowViewController viewController: UIViewController, animated: Bool)</span></span> &#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// ensure the view controller is popping</span></span><br><span class="line">		<span class="keyword">guard</span></span><br><span class="line">		  <span class="keyword">let</span> fromViewController = navigationController.transitionCoordinator?.viewController(forKey: .from),</span><br><span class="line">		  !navigationController.viewControllers.<span class="built_in">contains</span>(fromViewController) <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">    	&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// and it's the right type</span></span><br><span class="line">		<span class="keyword">if</span> fromViewController <span class="keyword">is</span> <span class="type">FirstViewControllerInCoordinator</span>) &#123;</span><br><span class="line">			<span class="comment">//deallocate the relevant coordinator</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Or creating a class called <code>NavigationController</code> that inside manages a list of child coordinators. Like in <a href="http://irace.me/navigation-coordinators">Navigation coordinators</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">NavigationController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="comment">// MARK: - Inputs</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> rootViewController: <span class="type">UIViewController</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK: - Mutable state</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> viewControllersToChildCoordinators: [<span class="type">UIViewController</span>: <span class="type">Coordinator</span>] = [:]</span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK: - Lazy views</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> childNavigationController: <span class="type">UINavigationController</span> =</span><br><span class="line">      <span class="type">UINavigationController</span>(rootViewController: <span class="keyword">self</span>.rootViewController)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK: - Initialization</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(rootViewController: <span class="type">UIViewController</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.rootViewController = rootViewController</span><br><span class="line"></span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>FlowController</strong></p>
<p>Since <code>FlowController</code> is just plain <code>UIViewController</code>, you don‚Äôt need to manually manage child <code>FlowController</code>. The child <code>FlowController</code> is gone when you pop or dismiss. If we want to listen to <code>UINavigationController</code> events, we can just handle that inside the <code>FlowController</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginFlowController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> dependencyContainer: <span class="type">DependencyContainer</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> embeddedNavigationController: <span class="type">UINavigationController!</span></span><br><span class="line">  <span class="keyword">weak</span> <span class="keyword">var</span> delegate: <span class="type">LoginFlowControllerDelegate?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(dependencyContainer: <span class="type">DependencyContainer</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.dependencyContainer = dependencyContainer</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(nibName: <span class="literal">nil</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">    embeddedNavigationController = <span class="type">UINavigationController</span>()</span><br><span class="line">    embeddedNavigationController.delegate = <span class="keyword">self</span></span><br><span class="line">    add(childController: embeddedNavigationController)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">LoginFlowController</span>: <span class="title">UINavigationControllerDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">navigationController</span><span class="params">(<span class="number">_</span> navigationController: UINavigationController, willShow viewController: UIViewController, animated: Bool)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="10-FlowController-and-callback"><a href="#10-FlowController-and-callback" class="headerlink" title="10. FlowController and callback"></a>10. FlowController and callback</h2><p>We can use <code>delegate</code> pattern to notify <code>FlowController</code> to show another view controller in the flow</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ProductFlowController</span>: <span class="title">ProductListControllerDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">productListController</span><span class="params">(<span class="number">_</span> controller: ProductListController, didSelect product: Product)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> productDetailController = <span class="type">ProductDetailController</span>(</span><br><span class="line">      productNetworkingService: dependencyContainer.productNetworkingService,</span><br><span class="line">      productEditService: dependencyContainer.productEditService,</span><br><span class="line">      imageDownloaderService: dependencyContainer.imageDownloaderService</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    productDetailController.delegate = <span class="keyword">self</span></span><br><span class="line">    embeddedNavigationController.pushViewController(productDetailController, animated: <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Another approach is to use <code>closure</code> as callback, as proposed by <a href="https://twitter.com/merowing_/status/930755494502981632">@merowing_</a>, and also in his post <a href="http://merowing.info/2016/01/improve-your-ios-architecture-with-flowcontrollers/">Improve your iOS Architecture with FlowControllers</a></p>
<blockquote>
<p>Using closures as triggers rather than delegate allows for more readable and specialized implementation, and multiple contexts</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductFlowController</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">start</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> productListController = <span class="type">ProductListController</span>(</span><br><span class="line">      productNetworkingService: dependencyContainer.productNetworkingService</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    productListController.didSelectProduct = &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] product <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">self</span>?.showDetail(<span class="keyword">for</span>: product)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    embeddedNavigationController.viewControllers = [productListController]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="11-FlowController-and-deep-linking"><a href="#11-FlowController-and-deep-linking" class="headerlink" title="11. FlowController and deep linking"></a>11. FlowController and deep linking</h2><p>TBD. In the mean while, here are some readings about the UX</p>
<ul>
<li><a href="https://developer.android.com/design/patterns/navigation.html">Navigation with Back and Up</a></li>
<li><a href="https://developer.apple.com/documentation/usernotifications/unusernotificationcenterdelegate/1649518-usernotificationcenter">UserNotification</a></li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/swift/">swift</a><a class="link-muted mr-2" rel="tag" href="/tags/iOS/">iOS</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" href="/" style="background-color:rgba(255,128,62,.87);border-color:transparent;color:white;" target="_blank" rel="noopener"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button is-danger donate" href="/" target="_blank" rel="noopener"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><a class="button is-warning donate" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="onmyway133oslo@gmail.com"><input type="hidden" name="currency_code" value="USD"></form></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/blog/Communication-between-Fragment-and-Activity/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Communication between Fragment and Activity</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/blog/Please-reconsidering-your-choice-of-libraries/"><span class="level-item">Please reconsidering your choice of libraries</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://onmyway133.github.io/blog/Coordinator-and-FlowController/';
            this.page.identifier = 'blog/Coordinator-and-FlowController/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'onmyway133' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="https://avatars1.githubusercontent.com/u/2284279?s=460&amp;v=4" alt="onmyway133"></figure><p class="title is-size-4 is-block line-height-inherit">onmyway133</p><p class="is-size-6 is-block">iOS, macOS, Android, React. Serial maker. Writer. Speaker.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Oslo, Norway</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">605</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">52</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/onmyway133" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/onmyway133"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://onmyway133.com/apps" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Apps</span></span><span class="level-right"><span class="level-item tag">onmyway133.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://learntalks.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Learn Talks</span></span><span class="level-right"><span class="level-item tag">learntalks.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-08T20:19:31.000Z">2020-05-08</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-update-multiple-state-properties-with-React-hooks/">How to update multiple state properties with React hooks</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:58:48.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-make-white-label-React-app/">How to make white label React app</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:58:48.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-make-white-label-React-app-for-landing-pages/">How to make white label React app for landing pages</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:25:40.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-show-lightbox-in-React/">How to show lightbox in React</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T03:23:51.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-animate-on-scroll-in-React/">How to animate on scroll in React</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">50</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">42</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">48</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/06/"><span class="level-start"><span class="level-item">June 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/04/"><span class="level-start"><span class="level-item">April 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag is-grey-lightest">35</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apple-script/"><span class="tag">apple script</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/catalyst/"><span class="tag">catalyst</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ci/"><span class="tag">ci</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cloud/"><span class="tag">cloud</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cocoapods/"><span class="tag">cocoapods</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/combine/"><span class="tag">combine</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/core-data/"><span class="tag">core data</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dart/"><span class="tag">dart</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design/"><span class="tag">design</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/electron/"><span class="tag">electron</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firebase/"><span class="tag">firebase</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flutter/"><span class="tag">flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/google/"><span class="tag">google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">158</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag is-grey-lightest">41</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kotlin/"><span class="tag">kotlin</span><span class="tag is-grey-lightest">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/layout/"><span class="tag">layout</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/links/"><span class="tag">links</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">97</span></a></div><div class="control"><a class="tags has-addons" href="/tags/machine-learning/"><span class="tag">machine learning</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maps/"><span class="tag">maps</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/networking/"><span class="tag">networking</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/objc/"><span class="tag">objc</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/realm/"><span class="tag">realm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rx/"><span class="tag">rx</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/script/"><span class="tag">script</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spm/"><span class="tag">spm</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swift/"><span class="tag">swift</span><span class="tag is-grey-lightest">269</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swiftUI/"><span class="tag">swiftUI</span><span class="tag is-grey-lightest">49</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tech/"><span class="tag">tech</span><span class="tag is-grey-lightest">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/testing/"><span class="tag">testing</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tool/"><span class="tag">tool</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/voip/"><span class="tag">voip</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/watchOS/"><span class="tag">watchOS</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wwdc/"><span class="tag">wwdc</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xcode/"><span class="tag">xcode</span><span class="tag is-grey-lightest">24</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=c2r59mmt2n5k0o5dt5vv3nq4u4&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="c2r59mmt2n5k0o5dt5vv3nq4u4" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a><p class="size-small"><span>&copy; 2020 Khoa Pham</span>¬†¬†Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>¬†&amp;¬†<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://onmyway133.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">√ó</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>