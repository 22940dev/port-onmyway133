<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>onmyway133</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="What you don&apos;t know is what you haven&apos;t learned">
<meta name="keywords" content="ios, android,javascript, react">
<meta property="og:type" content="website">
<meta property="og:title" content="onmyway133">
<meta property="og:url" content="https://onmyway133.github.io/page/13/index.html">
<meta property="og:site_name" content="onmyway133">
<meta property="og:description" content="What you don&apos;t know is what you haven&apos;t learned">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onmyway133">
<meta name="twitter:description" content="What you don&apos;t know is what you haven&apos;t learned">
  
    <link rel="alternate" href="/atom.xml" title="onmyway133" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/about/"] = "About"; 

  themeMenus["/writing/"] = "writing"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/speaking/"] = "speaking"; 

  themeMenus["/opensource/"] = "open source"; 

  themeMenus["/projects/"] = "projects"; 

  themeMenus["/news/"] = "news"; 

  themeMenus["/gumroad/"] = "gumroad"; 

  themeMenus["/atom.xml"] = "rss"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="onmyway133" rel="home"> onmyway133 </a>
            
          </h1>

          
            <div class="site-description">What you don&#39;t know is what you haven&#39;t learned</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about/">About</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/writing/">writing</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/speaking/">speaking</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/opensource/">open source</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/projects/">projects</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/news/">news</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/gumroad/">gumroad</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/atom.xml">rss</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt="" src="">
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "https://avatars1.githubusercontent.com/u/2284279?s=460&v=4".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-How-to-make-generic-extension-with-associatedtype-protocol-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-generic-extension-with-associatedtype-protocol-in-Swift/">How to make generic extension with associatedtype protocol in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-generic-extension-with-associatedtype-protocol-in-Swift/" class="article-date">
	  <time datetime="2017-11-10T09:37:54.000Z" itemprop="datePublished">November 10, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/104" target="_blank" rel="noopener">#104</a></strong></p>
<p>I like extensions, and I like to group them under 1 common property to easily access. This also makes it clear that these all belong to the same feature and not to confuse with Apple properties.</p>
<h3 id="Grouping-all-related-extensions"><a href="#Grouping-all-related-extensions" class="headerlink" title="Grouping all related extensions"></a>Grouping all related extensions</h3><p>This is how I do it in <a href="https://github.com/onmyway133/Anchors" target="_blank" rel="noopener">Anchor</a> and <a href="https://github.com/onmyway133/On" target="_blank" rel="noopener">On</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">activate(</span><br><span class="line">  a.anchor.top.<span class="keyword">left</span>,</span><br><span class="line">  b.anchor.top.<span class="keyword">right</span>,</span><br><span class="line">  <span class="built_in">c</span>.anchor.bottom.<span class="keyword">left</span>,</span><br><span class="line">  d.anchor.bottom.<span class="keyword">right</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">textField.on.text &#123; text <span class="keyword">in</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"textField text has changed"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">textField.on.didEndEditing &#123; text <span class="keyword">in</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"texField has ended editing"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Generic-extension"><a href="#Generic-extension" class="headerlink" title="Generic extension"></a>Generic extension</h3><p>For <code>On</code>, it is a bit tricky as it needs to adapt to different <code>NSObject</code> subclasses. And to make auto completion work, meaning that each type of subclass gets its own function hint, we need to use generic and <code>associatedtype</code> protocol.</p>
<p>You can take a look at <a href="https://github.com/onmyway133/On/blob/master/Sources/Shared/Core/Container.swift" target="_blank" rel="noopener">Container</a> and <a href="https://github.com/onmyway133/On/blob/master/Sources/Shared/Core/OnAware.swift" target="_blank" rel="noopener">OnAware</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Container</span>&lt;<span class="title">Host</span>: <span class="title">AnyObject</span>&gt;: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">unowned</span> <span class="keyword">let</span> host: <span class="type">Host</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(host: <span class="type">Host</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.host = host</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">OnAware</span>: <span class="title">class</span> </span>&#123;</span><br><span class="line">  <span class="keyword">associatedtype</span> <span class="type">OnAwareHostType</span>: <span class="type">AnyObject</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> on: <span class="type">Container</span>&lt;<span class="type">OnAwareHostType</span>&gt; &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="RxCocoa"><a href="#RxCocoa" class="headerlink" title="RxCocoa"></a>RxCocoa</h3><p><a href="https://github.com/ReactiveX/RxSwift" target="_blank" rel="noopener">RxSwift</a> has its <code>RxCocoa</code> that does this trick too, so that you can just declare</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.rx.tap</span><br><span class="line">textField.rx.text</span><br><span class="line">alertAction.rx.isEnabled</span><br></pre></td></tr></table></figure>

<p>The power lies in the struct <a href="https://github.com/ReactiveX/RxSwift/blob/0b66f666ba6955a51cba1ad530311b030fa4db9c/RxSwift/Reactive.swift" target="_blank" rel="noopener">Reactive</a> and <code>ReactiveCompatible</code> protocol</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">Reactive</span>&lt;<span class="title">Base</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/// Base object to extend.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> base: <span class="type">Base</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Creates extensions with base object.</span></span><br><span class="line">    <span class="comment">///</span></span><br><span class="line">    <span class="comment">/// - parameter base: Base object.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(<span class="number">_</span> base: <span class="type">Base</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.base = base</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">ReactiveCompatible</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// Extended type</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">CompatibleType</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Reactive extensions.</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> rx: <span class="type">Reactive</span>&lt;<span class="type">CompatibleType</span>&gt;.<span class="type">Type</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Reactive extensions.</span></span><br><span class="line">    <span class="keyword">var</span> rx: <span class="type">Reactive</span>&lt;<span class="type">CompatibleType</span>&gt; &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ReactiveCompatible</span> </span>&#123;</span><br><span class="line">    <span class="comment">/// Reactive extensions.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> rx: <span class="type">Reactive</span>&lt;<span class="type">Self</span>&gt;.<span class="type">Type</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Reactive</span>&lt;<span class="type">Self</span>&gt;.<span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="comment">// this enables using Reactive to "mutate" base type</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/// Reactive extensions.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> rx: <span class="type">Reactive</span>&lt;<span class="type">Self</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Reactive</span>(<span class="keyword">self</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> &#123;</span><br><span class="line">            <span class="comment">// this enables using Reactive to "mutate" base object</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here <a href="https://github.com/ReactiveX/RxSwift/blob/master/RxCocoa/iOS/UIButton%2BRx.swift" target="_blank" rel="noopener">UIButton+Rx</a> you can see how it can be applied to <code>UIButton</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Reactive</span> <span class="title">where</span> <span class="title">Base</span>: <span class="title">UIButton</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// Reactive wrapper for `TouchUpInside` control event.</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> tap: <span class="type">ControlEvent</span>&lt;<span class="type">Void</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> controlEvent(.touchUpInside)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-make-simple-Binding-in-MVVM-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-simple-Binding-in-MVVM-in-iOS/">How to make simple Binding in MVVM in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-simple-Binding-in-MVVM-in-iOS/" class="article-date">
	  <time datetime="2017-11-10T09:22:19.000Z" itemprop="datePublished">November 10, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/103" target="_blank" rel="noopener">#103</a></strong></p>
<p>If you use <code>MVVM</code> or any other kinds of helper classes, then there’s need to report back the result to the caller. In simple cases, without asynchronous chaining, <code>RxSwift</code> is a bit overkill, you can just implement your own <code>Binding</code>. Basically, it is just observer pattern, or closure in its simplest form.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Binding</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> value: <span class="type">T</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      listener?(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> listener: ((<span class="type">T</span>) -&gt; <span class="type">Void</span>)?</span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(value: <span class="type">T</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.value = value</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">bind</span><span class="params">(<span class="number">_</span> closure: @escaping <span class="params">(T)</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    closure(value)</span><br><span class="line">    listener = closure</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then you can declare it like</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewModel</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> friends = <span class="type">Binding</span>&lt;[<span class="type">User</span>]&gt;(value: [])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>() &#123;</span><br><span class="line">    getFacebookFriends &#123;</span><br><span class="line">      friends.value = $<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">getFacebookFriends</span><span class="params">(completion: <span class="params">([User])</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  	<span class="comment">// Do the work</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Finally, this is how you listen to the result via callback</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">  viewModel.friends.bind &#123; friends <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">self</span>.friendsCountLabel.text = <span class="string">"\(friends.count)"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-custom-UINavigationBar-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-custom-UINavigationBar-in-iOS/">How to use custom UINavigationBar in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-custom-UINavigationBar-in-iOS/" class="article-date">
	  <time datetime="2017-11-08T11:09:04.000Z" itemprop="datePublished">November 8, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/102" target="_blank" rel="noopener">#102</a></strong></p>
<p>Today I was reading the project in <a href="https://www.raywenderlich.com/147162/iglistkit-tutorial-better-uicollectionviews" target="_blank" rel="noopener">IGListKit Tutorial: Better UICollectionViews</a>, I encounter something I often overlook</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nav = <span class="type">UINavigationController</span>(navigationBarClass: <span class="type">CustomNavigationBar</span>.<span class="keyword">self</span>, toolbarClass: <span class="literal">nil</span>)</span><br><span class="line">nav.pushViewController(<span class="type">FeedViewController</span>(), animated: <span class="literal">false</span>)</span><br></pre></td></tr></table></figure>

<p>So we can provide custom <code>navigationBarClass</code> and <code>toolbarClass</code> for <code>UINavigationController</code>. This <a href="https://github.com/remirobert/RRMaterialNavigationBar" target="_blank" rel="noopener">RRMaterialNavigationBar</a> also has cool implementation of a material <code>UINavigationBar</code>.</p>
<p>Together with <code>UINavigationBarDelegate</code> we can do some cool things</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-It&#39;s-good-to-have-a-CI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/It's-good-to-have-a-CI/">It&#39;s good to have a CI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/It's-good-to-have-a-CI/" class="article-date">
	  <time datetime="2017-11-02T09:42:34.000Z" itemprop="datePublished">November 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/101" target="_blank" rel="noopener">#101</a></strong></p>
<p>I have Unit tests and UI tests pass on my simulator and device, locally. But when I make the build on Buddybuild, it fails with the reason <code>Activity cannot be used after its scope has completed</code>. People seem to have <a href="https://forums.developer.apple.com/thread/87463" target="_blank" rel="noopener">the</a> <a href="https://stackoverflow.com/questions/46318833/how-can-i-avoid-nsinternalinconsistencyexception-when-tapping-on-ui-elements-wit" target="_blank" rel="noopener">same</a> issue too.</p>
<p>Taking a look at the log in Buddybuild </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> t =     8.89s     Staging: UIStatusBarWindow</span><br><span class="line">t =     8.95s     Staging: (CoreFoundation) Sending Updated Preferences to System CFPrefsD</span><br><span class="line">t =     8.95s     Staging: Setup BuddybuildSDK</span><br><span class="line">t =     8.98s     Staging: [BuddyBuildSDK] In app store - Instant Replay Disabled</span><br><span class="line">t =     8.98s     Staging: Setting up the remote notifications for UI Tests video recording</span><br><span class="line">t =     9.07s     CL: CLLocationManager</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] &#123;&quot;msg&quot;:&quot;CLLocationManager&quot;, &quot;event&quot;:activity, &quot;_cmd&quot;:initWithEffectiveBundleIdentifier:bundle:, &quot;self&quot;:&quot;0x600000205140&quot;, &quot;identifier&quot;:(null), &quot;bundle&quot;:(null)&#125;</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Core] &#123;&quot;msg&quot;:&quot;state transition&quot;, &quot;event&quot;:state_transition, &quot;state&quot;:LocationManager, &quot;id&quot;:&quot;0x600000205140&quot;, &quot;property&quot;:init, &quot;new&quot;:&apos;00 00 00 00 00 00 F0 BF 00 00 00 00 00 00 F0 BF 00 00 00 00 00 00 00 00 00 00 00 00 00 00 F0 3F 01 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00&apos;&#125;</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Core] &#123;&quot;msg&quot;:&quot;state transition&quot;, &quot;event&quot;:state_transition, &quot;state&quot;:LocationManager, &quot;id&quot;:&quot;0x600000205140&quot;, &quot;property&quot;:lifecycle, &quot;old&quot;:&quot;0x0&quot;, &quot;new&quot;:&quot;0x6040000ddd50&quot;&#125;</span><br><span class="line">t =     9.07s     CL: _CLClientCreateWithBundleIdentifierAndPath</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] &#123;&quot;msg&quot;:&quot;_CLClientCreateWithBundleIdentifierAndPath&quot;, &quot;event&quot;:activity, &quot;effectiveBundleIdentifier&quot;:(null), &quot;effectiveBundlePath&quot;:(null)&#125;</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] &#123;&quot;msg&quot;:&quot;client allocated&quot;, &quot;client&quot;:&quot;0x7f84c64e0990&quot;&#125;</span><br><span class="line">t =     9.07s     CL: _CLClientCreateConnection</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] &#123;&quot;msg&quot;:&quot;_CLClientCreateConnection&quot;, &quot;event&quot;:activity, &quot;client&quot;:&quot;0x7f84c64e0990&quot;&#125;</span><br><span class="line">t =     9.07s     CL: Sending cached messages to daemon</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] &#123;&quot;msg&quot;:&quot;Sending cached messages to daemon&quot;, &quot;event&quot;:activity&#125;</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] #Warning No cached registration message</span><br><span class="line">t =     9.07s     Staging: (CoreLocation) [com.apple.locationd.Core.Core] &#123;&quot;msg&quot;:&quot;state transition&quot;, &quot;event&quot;:state_transition, &quot;state&quot;:LocationManager, &quot;id&quot;:&quot;0x600000205140&quot;, &quot;property&quot;:pausesLocationUpdatesAutomatically, &quot;old&quot;:0, &quot;new&quot;:1&#125;</span><br><span class="line">t =     9.10s     CL: CLLocationManager</span><br><span class="line">t =     9.11s     Staging: (CoreLocation) [com.apple.locationd.Core.Client] &#123;&quot;msg&quot;:&quot;CLLocationManager&quot;, &quot;event&quot;:activity, &quot;_cmd&quot;:setDelegate:, &quot;self&quot;:&quot;0x600000205140&quot;, &quot;delegate&quot;:&quot;0x60400028bef0&quot;&#125;</span><br><span class="line">t =     9.12s     error: unexpectedly found nil while unwrapping an Optional value</span><br><span class="line">t =     9.12s             Unable to monitor event loop</span><br><span class="line">t =    10.13s Tap &quot;Onboarding.Continue&quot; Button</span><br><span class="line">t =    10.13s     Wait for no.hyper.MyApp-Staging to idle</span><br><span class="line">t =    10.16s     Find the &quot;Onboarding.Continue&quot; Button</span><br><span class="line">t =    11.28s         Assertion Failure: &lt;unknown&gt;:0: no.hyper.MyApp-Staging crashed in MyApp_Staging.AppDelegate.(makeDependencyContainer in _5D394B3D7D393F9C3C550E61780517BB)() -&gt; MyApp_Staging.DependencyContainer</span><br><span class="line">t =    11.33s Wait for com.apple.springboard to idle</span><br></pre></td></tr></table></figure>

<p>Did you see <code>unexpectedly found nil while unwrapping an Optional value</code>?  It crashed in <code>CLLocationManager</code>. It is because when location changes, <code>CLLocationManager</code> needs to report it via <code>didUpdateLocations</code> function, but we haven’t implemented it. Strangely that it didn’t happen when testing locally.</p>
<p>The proposed fix is to implement a dummy method with no operation</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">locationManager</span><span class="params">(<span class="number">_</span> manager: CLLocationManager, didUpdateLocations locations: [CLLocation])</span></span> &#123;</span><br><span class="line">  <span class="comment">// No op</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>But it is not the solution. It appears that <code>BuddyBuild</code> is doing some hacks with how <code>push notification</code> and <code>UIWindow</code>, hence causing the issue.  </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Why-native"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Why-native/">Why native?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Why-native/" class="article-date">
	  <time datetime="2017-11-01T08:09:59.000Z" itemprop="datePublished">November 1, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/100" target="_blank" rel="noopener">#100</a></strong></p>
<p>For now, I still believe in native. Here are some interesting links</p>
<ul>
<li><a href="https://android.jlelse.eu/why-we-are-not-cross-platform-developers-fd7ef70e976d" target="_blank" rel="noopener">Why we are not cross-platform developers</a></li>
<li><a href="https://arielelkin.github.io/articles/why-im-not-a-react-native-developer.html" target="_blank" rel="noopener">Why I’m not a React Native Developer</a></li>
<li><a href="https://2016.mobileera.rocks/schedule/#session-203" target="_blank" rel="noopener">We are ditching Xamarin. Why?</a></li>
<li><a href="https://en.wikipedia.org/wiki/Leaky_abstraction" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Leaky_abstraction</a></li>
<li><a href="https://hackernoon.com/im-harvesting-credit-card-numbers-and-passwords-from-your-site-here-s-how-9a8cb347c5b5" target="_blank" rel="noopener">I’m harvesting credit card numbers and passwords from your site. Here’s how.</a></li>
<li><a href="https://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/" target="_blank" rel="noopener">How one developer just broke Node, Babel and thousands of projects in 11 lines of JavaScript</a></li>
</ul>
<p>React Native</p>
<ul>
<li><a href="https://medium.com/snipe-gg/should-you-use-react-native-to-build-your-startups-mobile-app-c0baf9f4d9ad" target="_blank" rel="noopener">https://medium.com/snipe-gg/should-you-use-react-native-to-build-your-startups-mobile-app-c0baf9f4d9ad</a></li>
<li><a href="https://blog.discordapp.com/using-react-native-one-year-later-91fd5e949933" target="_blank" rel="noopener">https://blog.discordapp.com/using-react-native-one-year-later-91fd5e949933</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react native</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Diff-algorithm"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Diff-algorithm/">Diff algorithm</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Diff-algorithm/" class="article-date">
	  <time datetime="2017-10-31T12:56:13.000Z" itemprop="datePublished">October 31, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/99" target="_blank" rel="noopener">#99</a></strong></p>
<p>I’ve been searching for efficient ways to diff collections, here are some interesting papers that I find</p>
<p><strong>Myers</strong> </p>
<ul>
<li><a href="http://www.xmailserver.org/diff2.pdf" target="_blank" rel="noopener">An O(ND) Difference Algorithm and Its Variations</a></li>
<li><a href="https://github.com/wokalski/Diff.swift" target="_blank" rel="noopener">https://github.com/wokalski/Diff.swift</a></li>
<li><a href="https://github.com/kpdecker/jsdiff" target="_blank" rel="noopener">https://github.com/kpdecker/jsdiff</a></li>
<li><a href="https://github.com/raywenderlich/swift-algorithm-club/pull/693/files" target="_blank" rel="noopener">https://github.com/raywenderlich/swift-algorithm-club/pull/693/files</a></li>
</ul>
<p><strong>Wu</strong> </p>
<ul>
<li><a href="https://publications.mpi-cbg.de/Wu_1990_6334.pdf" target="_blank" rel="noopener">An O(NP) Sequence Comparison Algorithm</a></li>
<li><a href="https://github.com/kazuhiro4949/EditDistance" target="_blank" rel="noopener">https://github.com/kazuhiro4949/EditDistance</a></li>
<li><a href="https://github.com/cubicdaiya/onp" target="_blank" rel="noopener">https://github.com/cubicdaiya/onp</a></li>
<li><a href="https://github.com/hattya/go.diff/blob/master/diff.go" target="_blank" rel="noopener">https://github.com/hattya/go.diff/blob/master/diff.go</a></li>
<li><a href="https://gist.github.com/tociyuki/acedd33ca4913f1ab8e9" target="_blank" rel="noopener">https://gist.github.com/tociyuki/acedd33ca4913f1ab8e9</a></li>
<li><a href="http://t2y.hatenablog.jp/entry/20090802/1249146010" target="_blank" rel="noopener">http://t2y.hatenablog.jp/entry/20090802/1249146010</a></li>
</ul>
<p><strong>Wagner–Fischer</strong></p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Wagner%E2%80%93Fischer_algorithm" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Wagner%E2%80%93Fischer_algorithm</a>)</li>
<li><a href="http://davedelong.tumblr.com/post/134367865668/edit-distance-and-edit-steps" target="_blank" rel="noopener">http://davedelong.tumblr.com/post/134367865668/edit-distance-and-edit-steps</a></li>
<li><a href="https://github.com/osteslag/Changeset" target="_blank" rel="noopener">https://github.com/osteslag/Changeset</a></li>
<li><a href="https://github.com/onmyway133/DeepDiff" target="_blank" rel="noopener">https://github.com/onmyway133/DeepDiff</a></li>
</ul>
<p><strong>Common Longest Subsequence</strong></p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Longest_common_subsequence_problem" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Longest_common_subsequence_problem</a></li>
<li><a href="https://github.com/jflinter/Dwifft" target="_blank" rel="noopener">https://github.com/jflinter/Dwifft</a></li>
<li><a href="https://github.com/Frugghi/SwiftLCS" target="_blank" rel="noopener">https://github.com/Frugghi/SwiftLCS</a></li>
</ul>
<p><strong>Heckel</strong></p>
<ul>
<li><a href="http://documents.scribd.com/docs/10ro9oowpo1h81pgh1as.pdf" target="_blank" rel="noopener">http://documents.scribd.com/docs/10ro9oowpo1h81pgh1as.pdf</a></li>
<li><a href="https://dl.acm.org/citation.cfm?id=359467" target="_blank" rel="noopener">A technique for isolating differences between files</a></li>
<li><a href="https://github.com/mcudich/HeckelDiff" target="_blank" rel="noopener">https://github.com/mcudich/HeckelDiff</a></li>
<li><a href="https://github.com/Instagram/IGListKit/blob/40625f8ff960cc1fd73400bf57a7a367470d1ef3/Source/Common/IGListDiff.mm" target="_blank" rel="noopener">IGListDiff</a></li>
<li><a href="https://github.com/andre-alves/PHDiff" target="_blank" rel="noopener">https://github.com/andre-alves/PHDiff</a></li>
<li><a href="https://gist.github.com/ndarville/3166060" target="_blank" rel="noopener">https://gist.github.com/ndarville/3166060</a></li>
<li><a href="https://github.com/myndzi/heckel-diff" target="_blank" rel="noopener">https://github.com/myndzi/heckel-diff</a></li>
<li><a href="https://johnresig.com/projects/javascript-diff-algorithm/" target="_blank" rel="noopener">https://johnresig.com/projects/javascript-diff-algorithm/</a></li>
<li><a href="https://stackoverflow.com/questions/42755035/difficulty-understanding-paul-heckels-diff-algorithm" target="_blank" rel="noopener">https://stackoverflow.com/questions/42755035/difficulty-understanding-paul-heckels-diff-algorithm</a></li>
<li><a href="https://github.com/RACCommunity/FlexibleDiff/blob/diffing/FlexibleDiff/Changeset.swift" target="_blank" rel="noopener">https://github.com/RACCommunity/FlexibleDiff/blob/diffing/FlexibleDiff/Changeset.swift</a></li>
<li><a href="https://github.com/onmyway133/DeepDiff" target="_blank" rel="noopener">https://github.com/onmyway133/DeepDiff</a></li>
<li><a href="https://github.com/ra1028/DifferenceKit" target="_blank" rel="noopener">https://github.com/ra1028/DifferenceKit</a></li>
</ul>
<p><strong>Hunt-Szymanski</strong></p>
<ul>
<li><a href="http://www.imada.sdu.dk/~rolf/Edu/DM823/E16/HuntSzymanski.pdf" target="_blank" rel="noopener">The Hunt-Szymanski Algorithm for LCS</a></li>
</ul>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="http://wiki.c2.com/?DiffAlgorithm" target="_blank" rel="noopener">http://wiki.c2.com/?DiffAlgorithm</a></li>
<li><a href="https://stackoverflow.com/questions/9065536/text-comparison-algorithm" target="_blank" rel="noopener">https://stackoverflow.com/questions/9065536/text-comparison-algorithm</a></li>
<li><a href="https://neil.fraser.name/writing/diff/" target="_blank" rel="noopener">https://neil.fraser.name/writing/diff/</a></li>
<li><a href="https://github.com/davedelong/SE-0240" target="_blank" rel="noopener">https://github.com/davedelong/SE-0240</a></li>
<li><a href="https://forums.swift.org/t/se-0240-ordered-collection-diffing/19514" target="_blank" rel="noopener">https://forums.swift.org/t/se-0240-ordered-collection-diffing/19514</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-safeAreaLayoutGuide-in-iOS-10"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-safeAreaLayoutGuide-in-iOS-10/">How to use safeAreaLayoutGuide in iOS 10</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-safeAreaLayoutGuide-in-iOS-10/" class="article-date">
	  <time datetime="2017-10-31T10:46:53.000Z" itemprop="datePublished">October 31, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/98" target="_blank" rel="noopener">#98</a></strong></p>
<p>The <a href="https://developer.apple.com/documentation/uikit/uiview/2891102-safearealayoutguide" target="_blank" rel="noopener">safeAreaLayoutGuide</a> was introduced in iOS 11. And it is advised to stop using <code>topLayoutGuide</code> <code>bottomLayoutGuide</code> as these are deprecated.</p>
<p>To use <code>safeAreaLayoutGuide</code>, you need to do iOS version check</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> #available(iOS <span class="number">11.0</span>, *) &#123;</span><br><span class="line">  headerView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor, constant: <span class="number">20</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  headerView.topAnchor.constraint(equalTo: view.topAnchor, constant: <span class="number">20</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Maybe we can introduce a common property that can be used across many iOS versions, let’s call it <code>compatibleSafeAreaLayoutGuide</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIView</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// Use safeAreaLayoutGuide on iOS 11+, otherwise default to dummy layout guide</span></span><br><span class="line">  <span class="keyword">var</span> compatibleSafeAreaLayoutGuide: <span class="type">UILayoutGuide</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> #available(iOS <span class="number">11</span>, *) &#123;</span><br><span class="line">      <span class="keyword">return</span> safeAreaLayoutGuide</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">let</span> layoutGuide = <span class="keyword">self</span>.associatedLayoutGuide &#123;</span><br><span class="line">        <span class="keyword">return</span> layoutGuide</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> layoutGuide = <span class="type">UILayoutGuide</span>()</span><br><span class="line">        <span class="type">Constraint</span>.on(</span><br><span class="line">          layoutGuide.topAnchor.constraint(equalTo: topAnchor),</span><br><span class="line">          layoutGuide.bottomAnchor.constraint(equalTo: bottomAnchor),</span><br><span class="line">          layoutGuide.leftAnchor.constraint(equalTo: leftAnchor),</span><br><span class="line">          layoutGuide.rightAnchor.constraint(equalTo: rightAnchor)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.associatedLayoutGuide = layoutGuide</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> layoutGuide</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="class"><span class="keyword">struct</span> <span class="title">AssociatedKeys</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> layoutGuide = <span class="string">"layoutGuide"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">fileprivate</span> <span class="keyword">var</span> associatedLayoutGuide: <span class="type">UILayoutGuide?</span> &#123;</span><br><span class="line">    <span class="keyword">get</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> objc_getAssociatedObject(<span class="keyword">self</span>, &amp;<span class="type">AssociatedKeys</span>.layoutGuide) <span class="keyword">as</span>? <span class="type">UILayoutGuide</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">let</span> newValue = newValue &#123;</span><br><span class="line">        objc_setAssociatedObject(</span><br><span class="line">          <span class="keyword">self</span>, &amp;<span class="type">AssociatedKeys</span>.layoutGuide,</span><br><span class="line">          newValue <span class="keyword">as</span> <span class="type">UILayoutGuide?</span>,</span><br><span class="line">         .<span class="type">OBJC_ASSOCIATION_RETAIN_NONATOMIC</span></span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>This way we can simply do</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">headerView.topAnchor.constraint(equalTo: view.compatibleSafeAreaLayoutGuide.topAnchor, constant: <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://useyourloaf.com/blog/safe-area-layout-guide/" target="_blank" rel="noopener">https://useyourloaf.com/blog/safe-area-layout-guide/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Learning-from-Open-Source-Using-Coordinator"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Learning-from-Open-Source-Using-Coordinator/">Learning from Open Source  Using Coordinator</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Learning-from-Open-Source-Using-Coordinator/" class="article-date">
	  <time datetime="2017-10-25T10:19:33.000Z" itemprop="datePublished">October 25, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/97" target="_blank" rel="noopener">#97</a></strong></p>
<p>The <a href="http://khanlou.com/2015/10/coordinators-redux/" target="_blank" rel="noopener">Coordinator</a> pattern can be useful to manage dependencies and handle navigation for your view controllers. It can be seen from <a href="https://github.com/backchannel/BackchannelSDK-iOS" target="_blank" rel="noopener">BackchannelSDK-iOS</a>, take a look at <a href="https://github.com/backchannel/BackchannelSDK-iOS/blob/611de61611a9609d708920e2b602b2edbcc26b20/Source/Authentication/BAKCreateProfileCoordinator.m" target="_blank" rel="noopener">BAKCreateProfileCoordinator</a> for example</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">BAKCreateProfileCoordinator</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithUser:(BAKUser *)user navigationController:(<span class="built_in">UINavigationController</span> *)navigationController configuration:(BAKRemoteConfiguration *)configuration &#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">self</span>) <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    </span><br><span class="line">    _navigationController = navigationController;</span><br><span class="line">    _user = user;</span><br><span class="line">    _profileViewController = [[BAKProfileFormViewController alloc] init];</span><br><span class="line">    [<span class="keyword">self</span> configureProfileForm];</span><br><span class="line">    _configuration = configuration;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)start &#123;</span><br><span class="line">    [<span class="keyword">self</span>.profileViewController updateDisplayName:<span class="keyword">self</span>.user.displayName];</span><br><span class="line">    [<span class="keyword">self</span>.navigationController pushViewController:<span class="keyword">self</span>.profileViewController animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)profileViewControllerDidTapAvatarButton:(BAKProfileFormViewController *)profileViewController &#123;</span><br><span class="line">    BAKChooseImageCoordinator *imageChooser = [[BAKChooseImageCoordinator alloc] initWithViewController:<span class="keyword">self</span>.navigationController];</span><br><span class="line">    imageChooser.delegate = <span class="keyword">self</span>;</span><br><span class="line">    [<span class="keyword">self</span>.childCoordinators addObject:imageChooser];</span><br><span class="line">    [imageChooser start];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)imageChooserDidCancel:(BAKChooseImageCoordinator *)imageChooser &#123;</span><br><span class="line">    [<span class="keyword">self</span>.childCoordinators removeObject:imageChooser];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Look how it holds <code>navigationController</code> as root element to do navigation, and how it manages <code>childCoordinators</code></p>
<p><img src="https://user-images.githubusercontent.com/2284279/32437135-a56f3294-c2e6-11e7-8a65-801d542fed4e.png" alt="coordinator"></p>
<h3 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h3><ul>
<li><a href="https://www.youtube.com/watch?v=a1g3k3NObkE" target="_blank" rel="noopener">Coordinators – Soroush Khanlou</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Learning-from-Open-Source-Managing-dependencies"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Learning-from-Open-Source-Managing-dependencies/">Learning from Open Source  Managing dependencies</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Learning-from-Open-Source-Managing-dependencies/" class="article-date">
	  <time datetime="2017-10-25T09:54:22.000Z" itemprop="datePublished">October 25, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/96" target="_blank" rel="noopener">#96</a></strong></p>
<p>Another cool thing about <a href="https://github.com/kickstarter/ios-oss" target="_blank" rel="noopener">ios-oss</a> is how it manages dependencies. Usually you have a lot of dependencies, and it’s good to keep them in one place, and inject it to the objects that need.</p>
<p>The <a href="https://github.com/kickstarter/ios-oss/blob/master/Library/Environment.swift" target="_blank" rel="noopener">Environment</a> is simply a struct that holds all dependencies throughout the app</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> A collection of **all** global variables and singletons that the app wants access to.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">Environment</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// A type that exposes endpoints for fetching Kickstarter data.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">let</span> apiService: <span class="type">ServiceType</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// The amount of time to delay API requests by. Used primarily for testing. Default value is `0.0`.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">let</span> apiDelayInterval: <span class="type">DispatchTimeInterval</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A type that exposes how to extract a still image from an AVAsset.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">let</span> assetImageGeneratorType: <span class="type">AssetImageGeneratorType</span>.<span class="type">Type</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/// A type that stores a cached dictionary.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">let</span> cache: <span class="type">KSCache</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">/// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then there’s global object called <a href="https://github.com/kickstarter/ios-oss/blob/master/Library/AppEnvironment.swift" target="_blank" rel="noopener">AppEnvironment</a> that manages all these <code>Environment</code> in a stack</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">AppEnvironment</span> </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   A global stack of environments.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">fileprivate</span> <span class="keyword">static</span> <span class="keyword">var</span> stack: [<span class="type">Environment</span>] = [<span class="type">Environment</span>()]</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   Invoke when an access token has been acquired and you want to log the user in. Replaces the current</span></span><br><span class="line"><span class="comment">   environment with a new one that has the authenticated api service and current user model.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   - parameter envelope: An access token envelope with the api access token and user.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">login</span><span class="params">(<span class="number">_</span> envelope: AccessTokenEnvelope)</span></span> &#123;</span><br><span class="line">    replaceCurrentEnvironment(</span><br><span class="line">      apiService: current.apiService.login(<span class="type">OauthToken</span>(token: envelope.accessToken)),</span><br><span class="line">      currentUser: envelope.user,</span><br><span class="line">      koala: current.koala |&gt; <span class="type">Koala</span>.lens.loggedInUser .~ envelope.user</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   Invoke when we have acquired a fresh current user and you want to replace the current environment's</span></span><br><span class="line"><span class="comment">   current user with the fresh one.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   - parameter user: A user model.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">updateCurrentUser</span><span class="params">(<span class="number">_</span> user: User)</span></span> &#123;</span><br><span class="line">    replaceCurrentEnvironment(</span><br><span class="line">      currentUser: user,</span><br><span class="line">      koala: current.koala |&gt; <span class="type">Koala</span>.lens.loggedInUser .~ user</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">updateConfig</span><span class="params">(<span class="number">_</span> config: Config)</span></span> &#123;</span><br><span class="line">    replaceCurrentEnvironment(</span><br><span class="line">      config: config,</span><br><span class="line">      koala: <span class="type">AppEnvironment</span>.current.koala |&gt; <span class="type">Koala</span>.lens.config .~ config</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Invoke when you want to end the user's session.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">logout</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> storage = <span class="type">AppEnvironment</span>.current.cookieStorage</span><br><span class="line">    storage.cookies?.forEach(storage.deleteCookie)</span><br><span class="line"></span><br><span class="line">    replaceCurrentEnvironment(</span><br><span class="line">      apiService: <span class="type">AppEnvironment</span>.current.apiService.logout(),</span><br><span class="line">      cache: type(of: <span class="type">AppEnvironment</span>.current.cache).<span class="keyword">init</span>(),</span><br><span class="line">      currentUser: <span class="literal">nil</span>,</span><br><span class="line">      koala: current.koala |&gt; <span class="type">Koala</span>.lens.loggedInUser .~ <span class="literal">nil</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// The most recent environment on the stack.</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">var</span> current: <span class="type">Environment!</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> stack.last</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then whenever there’s event that triggers dependencies update, we call it like </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.viewModel.outputs.logIntoEnvironment</span><br><span class="line">  .observeValues &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] accessTokenEnv <span class="keyword">in</span></span><br><span class="line">    <span class="type">AppEnvironment</span>.login(accessTokenEnv)</span><br><span class="line">    <span class="keyword">self</span>?.viewModel.inputs.environmentLoggedIn()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The cool thing about <code>Environment</code> is that we can store and retrieve them</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Returns the last saved environment from user defaults.</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">fromStorage</span><span class="params">(ubiquitousStore: KeyValueStoreType,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 userDefaults: KeyValueStoreType)</span></span> -&gt; <span class="type">Environment</span> &#123;</span><br><span class="line">  <span class="comment">// retrieval</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And we can mock in tests</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">AppEnvironment</span>.replaceCurrentEnvironment(</span><br><span class="line">  apiService: <span class="type">MockService</span>(</span><br><span class="line">    fetchDiscoveryResponse: .template |&gt; <span class="type">DiscoveryEnvelope</span>.lens.projects .~ [</span><br><span class="line">      .todayByScottThrift,</span><br><span class="line">      .cosmicSurgery,</span><br><span class="line">      .anomalisa</span><br><span class="line">    ]</span><br><span class="line">  )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-debug-iOS-apps"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-debug-iOS-apps/">How to debug iOS apps</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-debug-iOS-apps/" class="article-date">
	  <time datetime="2017-10-24T11:37:32.000Z" itemprop="datePublished">October 24, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/95" target="_blank" rel="noopener">#95</a></strong></p>
<p>Hi, here are some projects to help us debugging apps easier</p>
<ul>
<li><a href="https://github.com/krzysztofzablocki/LifetimeTracker" target="_blank" rel="noopener">https://github.com/krzysztofzablocki/LifetimeTracker</a></li>
<li><a href="https://github.com/fastred/DeallocationChecker" target="_blank" rel="noopener">https://github.com/fastred/DeallocationChecker</a></li>
<li><a href="https://github.com/Flipboard/FLEX" target="_blank" rel="noopener">https://github.com/Flipboard/FLEX</a></li>
<li><a href="https://github.com/facebook/flipper" target="_blank" rel="noopener">https://github.com/facebook/flipper</a></li>
<li><a href="https://github.com/wojteklu/Watchdog" target="_blank" rel="noopener">https://github.com/wojteklu/Watchdog</a></li>
<li><a href="https://github.com/yagiz/Bagel" target="_blank" rel="noopener">https://github.com/yagiz/Bagel</a></li>
<li><a href="https://github.com/isavynskyi/LayoutInspector" target="_blank" rel="noopener">https://github.com/isavynskyi/LayoutInspector</a></li>
<li><a href="https://github.com/kasketis/netfox" target="_blank" rel="noopener">https://github.com/kasketis/netfox</a></li>
<li><a href="https://github.com/meitu/MTHawkeye" target="_blank" rel="noopener">https://github.com/meitu/MTHawkeye</a></li>
<li><a href="https://github.com/indragiek/InAppViewDebugger" target="_blank" rel="noopener">https://github.com/indragiek/InAppViewDebugger</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Learning-from-Open-Source-Using-Playground"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Learning-from-Open-Source-Using-Playground/">Learning from Open Source  Using Playground</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Learning-from-Open-Source-Using-Playground/" class="article-date">
	  <time datetime="2017-10-23T12:26:26.000Z" itemprop="datePublished">October 23, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/94" target="_blank" rel="noopener">#94</a></strong></p>
<p>One thing I like about <a href="https://github.com/kickstarter/ios-oss" target="_blank" rel="noopener">kickstarter-ios</a> is how they use <code>Playground</code> to quickly protoyping views.</p>
<blockquote>
<p>We use Swift Playgrounds for iterative development and styling. Most major screens in the app get a corresponding playground where we can see a wide variety of devices, languages and data in real time. </p>
</blockquote>
<p>This way we don’t need <a href="http://johnholdsworth.com/injection.html" target="_blank" rel="noopener">Injection</a> or using React Native anymore. Take a look at all the pages <a href="https://github.com/kickstarter/ios-oss/tree/master/Kickstarter-iOS.playground/Pages" target="_blank" rel="noopener">https://github.com/kickstarter/ios-oss/tree/master/Kickstarter-iOS.playground/Pages</a></p>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://talk.objc.io/episodes/S01E51-playground-driven-development-at-kickstarter" target="_blank" rel="noopener">Playground-Driven Development at Kickstarter</a></li>
<li><a href="https://www.youtube.com/watch?v=DrdxSNG-_DE" target="_blank" rel="noopener">FrenchKit 2017 - Playground Driven Development</a></li>
<li><a href="https://www.youtube.com/watch?v=A0VaIKK2ijM" target="_blank" rel="noopener">Finding Happiness in Functional Programming</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macOS/">macOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Indenting-Swift-code"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Indenting-Swift-code/">Indenting Swift code</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Indenting-Swift-code/" class="article-date">
	  <time datetime="2017-10-20T08:51:16.000Z" itemprop="datePublished">October 20, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/93" target="_blank" rel="noopener">#93</a></strong></p>
<p>Hi, here is how I indent my code. Let me know what you think 😉 </p>
<h4 id="Using-2-spaces-indentation"><a href="#Using-2-spaces-indentation" class="headerlink" title="Using 2 spaces indentation"></a>Using 2 spaces indentation</h4><p>When possible, configure your editor to use <code>2 spaces</code> for <code>tab size</code>. You will love it ❤️ </p>
<p><img src="https://user-images.githubusercontent.com/2284279/31818654-56a24868-b599-11e7-858e-86137f1cbb16.png" alt="spaces"></p>
<h4 id="Move-first-parameter-to-new-line"><a href="#Move-first-parameter-to-new-line" class="headerlink" title="Move first parameter to new line"></a>Move first parameter to new line</h4><p>If there are many parameters, move the first parameter to a new line, and align the other parameters. Remember that the last parenthesis <code>)</code> should align to the function call</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> event = <span class="type">NSAppleEventDescriptor</span>(</span><br><span class="line">  eventClass: <span class="type">UInt32</span>(kASAppleScriptSuite),</span><br><span class="line">  eventID: <span class="type">UInt32</span>(kASSubroutineEvent),</span><br><span class="line">  targetDescriptor: target,</span><br><span class="line">  returnID: <span class="type">Int16</span>(kAutoGenerateReturnID),</span><br><span class="line">  transactionID: <span class="type">Int32</span>(kAnyTransactionID)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>You can do the same for function declaration</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">  <span class="number">_</span> collectionView: UICollectionView,</span></span></span><br><span class="line"><span class="function"><span class="params">  viewForSupplementaryElementOfKind kind: String,</span></span></span><br><span class="line"><span class="function"><span class="params">  at indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionReusableView</span> &#123;</span><br><span class="line">  <span class="comment">// your code goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Shouldn’t-use-trailing-closure-if-there-are-more-than-2-closures"><a href="#Shouldn’t-use-trailing-closure-if-there-are-more-than-2-closures" class="headerlink" title="Shouldn’t use trailing closure if there are more than 2 closures"></a>Shouldn’t use trailing closure if there are more than 2 closures</h4><p>Here is how to use <code>UIView.animate</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UIView</span>.animate(</span><br><span class="line">  withDuration: <span class="number">5</span>,</span><br><span class="line">  delay: <span class="number">5</span>,</span><br><span class="line">  usingSpringWithDamping: <span class="number">1</span>,</span><br><span class="line">  initialSpringVelocity: <span class="number">1</span>,</span><br><span class="line">  options: .curveEaseIn,</span><br><span class="line">  animations: &#123;</span><br><span class="line">    <span class="keyword">self</span>.tableView.alpha = <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  completion: &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">self</span>.view.isHidden = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>Here is how to use <code>RxSwift subscribe</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">friendsObservable.subscribe(</span><br><span class="line">  onNext: &#123; friends <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">  &#125;, </span><br><span class="line">  onError: &#123; error <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">  &#125;, </span><br><span class="line">  onCompleted: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;, </span><br><span class="line">  onDisposed: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="Shouldn’t-use-trailing-closure-when-chaining-methods"><a href="#Shouldn’t-use-trailing-closure-when-chaining-methods" class="headerlink" title="Shouldn’t use trailing closure when chaining methods"></a>Shouldn’t use trailing closure when chaining methods</h4><p>Also, the next method call should start on same line</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> items = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> results = items.<span class="built_in">map</span>(&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">String</span>($<span class="number">0</span>)</span><br><span class="line">&#125;).flatMap(&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">Int</span>($<span class="number">0</span>)</span><br><span class="line">&#125;).<span class="built_in">filter</span>(&#123;</span><br><span class="line">  <span class="keyword">return</span> $<span class="number">0</span> &gt; <span class="number">2</span></span><br><span class="line">&#125;).sorted()</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Testing-keychain-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Testing-keychain-in-iOS/">Testing keychain in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Testing-keychain-in-iOS/" class="article-date">
	  <time datetime="2017-10-20T08:23:25.000Z" itemprop="datePublished">October 20, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/92" target="_blank" rel="noopener">#92</a></strong></p>
<p>Today I was upgrading <a href="https://github.com/hyperoslo/Keychains" target="_blank" rel="noopener">Keychain</a> to swift 4, and take this opportunity to fix the test. The tests pass on macOS, but on iOS, I get <code>-25300</code> error for</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> status = <span class="type">SecItemCopyMatching</span>(query <span class="keyword">as</span> <span class="type">CFDictionary</span>, <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure>

<p>It is because there is no Keychain entitlement for test target. But this is a framework, how can I add entitlement 🤔 The solution is to use a <a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/testing_with_xcode/chapters/05-running_tests.html" target="_blank" rel="noopener">Test Host</a> to host the <code>XCTest</code> tests. See my <a href="https://github.com/hyperoslo/Keychains/pull/14" target="_blank" rel="noopener">pull request</a></p>
<p><strong>Create test host target</strong></p>
<p><img src="https://user-images.githubusercontent.com/2284279/31816541-059750f6-b591-11e7-9348-4119d07e57ca.png" alt="target"></p>
<p>First create an iOS app to act as a test host, you can name it <code>TestHost_iOS</code></p>
<p><strong>Enable Keychain capability</strong></p>
<p>Then enable Keychain capability to let Xcode automatically create an entitlement file for you. Note that you can just enter the <code>Keychain group</code>. You don’t need go to <code>Apple Developer dashboard</code> to configure anything </p>
<p><img src="https://user-images.githubusercontent.com/2284279/31816756-ce3155c0-b591-11e7-916e-8ebc06e9a847.png" alt="keychain"></p>
<p><strong>Specify Test Host</strong></p>
<p>Then in you test target, specify <code>Test Host</code> by using <code>$(BUILT_PRODUCTS_DIR)/TestHost_iOS.app/TestHost_iOS</code></p>
<p><img src="https://user-images.githubusercontent.com/2284279/31816646-68d8c7c6-b591-11e7-8ae8-e04d52e41e09.png" alt="test host"></p>
<p>Now run your test again, it should pass 🎉 </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Learning-from-Open-Source-Making-macOS-app-in-code"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Learning-from-Open-Source-Making-macOS-app-in-code/">Learning from Open Source  Making macOS app in code</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Learning-from-Open-Source-Making-macOS-app-in-code/" class="article-date">
	  <time datetime="2017-10-19T12:20:19.000Z" itemprop="datePublished">October 19, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/91" target="_blank" rel="noopener">#91</a></strong></p>
<p>I’m familiar with the whole app structure that Xcode gives me when I’m creating new macOS project, together with Storyboard. The other day I was reading <a href="https://github.com/sindresorhus/touch-bar-simulator" target="_blank" rel="noopener">touch-bar-simulator</a> and see how it declares app using only code. See this <a href="https://github.com/sindresorhus/touch-bar-simulator/blob/master/Touch%20Bar%20Simulator/main.swift" target="_blank" rel="noopener">main.swift</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> app = <span class="type">NSApplication</span>.shared</span><br><span class="line"><span class="keyword">let</span> delegate = <span class="type">AppDelegate</span>()</span><br><span class="line">app.delegate = delegate</span><br><span class="line">app.run()</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">NSObject</span>, <span class="title">NSApplicationDelegate</span>, <span class="title">NSWindowDelegate</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> controller = <span class="type">IDETouchBarSimulatorHostWindowController</span>.simulatorHostWindowController()!</span><br><span class="line">  <span class="built_in">lazy</span> <span class="keyword">var</span> window: <span class="type">NSWindow</span> = <span class="keyword">self</span>.controller.window!</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macOS/">macOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Designing-for-iPhone-X"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Designing-for-iPhone-X/">Designing for iPhone X</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Designing-for-iPhone-X/" class="article-date">
	  <time datetime="2017-10-19T08:58:13.000Z" itemprop="datePublished">October 19, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/90" target="_blank" rel="noopener">#90</a></strong></p>
<ul>
<li><a href="http://blog.maxrudberg.com/post/166045445103/ui-design-for-iphone-x-top-elements-and-the-notch" target="_blank" rel="noopener">http://blog.maxrudberg.com/post/166045445103/ui-design-for-iphone-x-top-elements-and-the-notch</a></li>
<li><a href="https://designcode.io/ios11-iphone-x" target="_blank" rel="noopener">https://designcode.io/ios11-iphone-x</a></li>
<li><a href="https://medium.muz.li/ui-design-tips-for-iphone-x-2652b2b248ce" target="_blank" rel="noopener">https://medium.muz.li/ui-design-tips-for-iphone-x-2652b2b248ce</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-String-manipulation-in-Apple-Script"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/String-manipulation-in-Apple-Script/">String manipulation in Apple Script</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/String-manipulation-in-Apple-Script/" class="article-date">
	  <time datetime="2017-10-18T11:13:53.000Z" itemprop="datePublished">October 18, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/89" target="_blank" rel="noopener">#89</a></strong></p>
<p>Today I find that <code>AppleScript</code> allows us to import <code>Foundation</code>, with that we have lots of power, including <code>NSString</code>. See <a href="https://github.com/onmyway133/XcodeWay/blob/master/XcodeWayExtensions/Script/XcodeWayScript.scpt" target="_blank" rel="noopener">my script</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">use scripting additions</span><br><span class="line">use framework &quot;Foundation&quot;</span><br><span class="line">property NSString : a reference to current application&apos;s NSString</span><br></pre></td></tr></table></figure>

<p>Here is how I can remove last path component from a string</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">on myRemoveLastPath(myPath)</span><br><span class="line">  set myString to NSString&apos;s stringWithString:myPath</span><br><span class="line">  set removedLastPathString to myString&apos;s stringByDeletingLastPathComponent</span><br><span class="line">  removedLastPathString as text</span><br><span class="line">end myRemoveLastPath</span><br></pre></td></tr></table></figure>

<p>You need to cast to <code>NSString</code> with <code>NSString&#39;s stringWithString:</code> and cast back to Apple Script string with <code>as text</code>. The <code>&#39;s</code> is how you can invoke functions.</p>
<p>One more thing is that we can support parameters to function, like this <a href="http://applehelpwriter.com/2016/09/06/applescript-remove-characters-from-a-string/" target="_blank" rel="noopener">script</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">on remove:remove_string fromString:source_string	</span><br><span class="line">  set s_String to NSString&apos;s stringWithString:source_string</span><br><span class="line">  set r_String to NSString&apos;s stringWithString:remove_string</span><br><span class="line">  return s_String&apos;s stringByReplacingOccurrencesOfString:r_String withString:&quot;&quot;</span><br><span class="line">end remove:fromString:</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apple-script/">apple script</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-call-function-inside-Apple-Script"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-call-function-inside-Apple-Script/">How to call function inside Apple Script</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-call-function-inside-Apple-Script/" class="article-date">
	  <time datetime="2017-10-18T09:26:32.000Z" itemprop="datePublished">October 18, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/88" target="_blank" rel="noopener">#88</a></strong></p>
<p>I ‘ve been using <a href="https://developer.apple.com/library/content/documentation/AppleScript/Conceptual/AppleScriptX/AppleScriptX.html" target="_blank" rel="noopener">Apple Script</a> to for my Finder extension <a href="https://github.com/onmyway133/FinderGo" target="_blank" rel="noopener">FinderGo</a>. Because of <a href="https://www.objc.io/issues/14-mac/sandbox-scripting/" target="_blank" rel="noopener">sandboxing</a>, all scripts must lie inside <code>Application Scripts</code> folder.</p>
<p>Today, I was rewriting my Xcode extension <a href="https://github.com/onmyway133/XcodeWay" target="_blank" rel="noopener">XcodeWay</a>. Before Xcode 8, we could use Xcode plugin and all kinds of magic to make our dreams come true <a href="https://github.com/onmyway133/XcodeWay/blob/1.0/XcodeWay/Helper/FTGEnvironmentManager.m#L50" target="_blank" rel="noopener">https://github.com/onmyway133/XcodeWay/blob/1.0/XcodeWay/Helper/FTGEnvironmentManager.m#L50</a>. But then it does not work since Xcode Source Editor Extension was introduced. So I rewrote XcodeWay as an extension <a href="https://github.com/onmyway133/XcodeWay/releases/tag/1.1.0" target="_blank" rel="noopener">https://github.com/onmyway133/XcodeWay/releases/tag/1.1.0</a></p>
<p>Extension must run inside sandbox. If you switch <code>App Sandbox</code> in your <code>XcodeWayExtensions.entitlements</code> to <code>NO</code>, it won’t load. So sandbox restricts me a lot in what kinds of things I want to do. And under Xcode 9, I can’t use <code>NSWorkspace</code> to open <code>Finder</code>.</p>
<p>So I think I could use <code>Apple Script</code> too, and it worked like a charm. The only restriction is code reuse, since I only know how to run an entire script. One way is to import other Apple scripts <a href="https://stackoverflow.com/questions/2606136/import-applescript-methods-in-another-applescript" target="_blank" rel="noopener">https://stackoverflow.com/questions/2606136/import-applescript-methods-in-another-applescript</a> but I think I will write all the functions inside 1 script, and find out how to call specific function.</p>
<p>By function, I also mean handler, procedure. I come across this snippet <a href="https://github.com/chockenberry/Scriptinator/blob/master/Scriptinator/AppDelegate.m" target="_blank" rel="noopener">Scriptinator</a> that pretty much inspires me, thanks to open source.</p>
<p>So here is my <a href="https://github.com/onmyway133/XcodeWay/blob/master/XcodeWayExtensions/Script/XcodeWayScript.scpt" target="_blank" rel="noopener">script</a> that contains lots of functions . And here is <a href="https://github.com/onmyway133/XcodeWay/blob/master/XcodeWayExtensions/Helper/ScriptRunner.swift#L28" target="_blank" rel="noopener">ScriptRunner</a> that explains how to build <code>NSAppleEventDescriptor</code>. Note that you need to <code>import Carbon</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Carbon</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">eventDescriptior</span><span class="params">(functionName: String)</span></span> -&gt; <span class="type">NSAppleEventDescriptor</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> psn = <span class="type">ProcessSerialNumber</span>(highLongOfPSN: <span class="number">0</span>, lowLongOfPSN: <span class="type">UInt32</span>(kCurrentProcess))</span><br><span class="line">  <span class="keyword">let</span> target = <span class="type">NSAppleEventDescriptor</span>(</span><br><span class="line">    descriptorType: typeProcessSerialNumber,</span><br><span class="line">    bytes: &amp;psn,</span><br><span class="line">    length: <span class="type">MemoryLayout</span>&lt;<span class="type">ProcessSerialNumber</span>&gt;.size</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> event = <span class="type">NSAppleEventDescriptor</span>(</span><br><span class="line">    eventClass: <span class="type">UInt32</span>(kASAppleScriptSuite),</span><br><span class="line">    eventID: <span class="type">UInt32</span>(kASSubroutineEvent),</span><br><span class="line">    targetDescriptor: target,</span><br><span class="line">    returnID: <span class="type">Int16</span>(kAutoGenerateReturnID),</span><br><span class="line">    transactionID: <span class="type">Int32</span>(kAnyTransactionID)</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> function = <span class="type">NSAppleEventDescriptor</span>(string: functionName)</span><br><span class="line">  event.setParam(function, forKeyword: <span class="type">AEKeyword</span>(keyASSubroutineName))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> event</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apple-script/">apple script</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-Input-and-output-container-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-Input-and-output-container-in-Swift/">How to use Input and output container in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-Input-and-output-container-in-Swift/" class="article-date">
	  <time datetime="2017-10-17T11:52:37.000Z" itemprop="datePublished">October 17, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/87" target="_blank" rel="noopener">#87</a></strong></p>
<p>This is a very nifty trick from <a href="https://github.com/kickstarter/ios-oss" target="_blank" rel="noopener">ios-oss</a> which was built around MVVM pattern. It uses protocol to define input and output, and a container protocol to contain them. Take <a href="https://github.com/kickstarter/ios-oss/blob/1f5643f6a769995ccd1bb3826699745e64597ab7/Library/ViewModels/LoginViewModel.swift" target="_blank" rel="noopener">https://github.com/kickstarter/ios-oss/blob/1f5643f6a769995ccd1bb3826699745e64597ab7/Library/ViewModels/LoginViewModel.swift</a> for example</p>
<pre><code class="swift"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">LoginViewModelInputs</span> </span>{

}

<span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">LoginViewModelOutputs</span> </span>{

}

<span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">LoginViewModelType</span> </span>{
  <span class="keyword">var</span> inputs: <span class="type">LoginViewModelInputs</span> { <span class="keyword">get</span> }
  <span class="keyword">var</span> outputs: <span class="type">LoginViewModelOutputs</span> { <span class="keyword">get</span> }
}

<span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginViewModel</span>: <span class="title">LoginViewModelType</span>, <span class="title">LoginViewModelInputs</span>, <span class="title">LoginViewModelOutputs</span> </span>{
  <span class="keyword">public</span> <span class="keyword">var</span> inputs: <span class="type">LoginViewModelInputs</span> { <span class="keyword">return</span> <span class="keyword">self</span> }
  <span class="keyword">public</span> <span class="keyword">var</span> outputs: <span class="type">LoginViewModelOutputs</span> { <span class="keyword">return</span> <span class="keyword">self</span> }
}</code></pre>
<p>Look how <code>LoginViewModel</code> conforms to 3 protocols. And when you access its <code>input</code> or <code>output</code> properties, you are constrained to only <code>LoginViewModelInputs</code> and <code>LoginViewModelOutputs</code></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Fixing-login-hanging-in-macOS-High-Sierra"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Fixing-login-hanging-in-macOS-High-Sierra/">Fixing login hanging in macOS High Sierra</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Fixing-login-hanging-in-macOS-High-Sierra/" class="article-date">
	  <time datetime="2017-10-16T17:22:51.000Z" itemprop="datePublished">October 16, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/86" target="_blank" rel="noopener">#86</a></strong></p>
<p>Today I met a strange problem. After I enter my password, the progress bar runs to the end, and it is stuck there forever. No matter how many times I try to restart.</p>
<p>I finally need to go to <a href="https://support.apple.com/el-gr/HT201314" target="_blank" rel="noopener">Recovery mode</a> by pressing <code>Cmd+R</code> at start up. I then select <code>Get Help Online</code> to open Safari. Strangely enough I wasn’t connected to Internet</p>
<p><img src="https://support.apple.com/library/content/dam/edam/applecare/images/en_US/macos/highsierra/macos-high-sierra-recovery-mode-reinstall.jpg" alt></p>
<p>After select the wifi icon on the status bar to connect internet, I then restart and can login again. It seems that macOS is checking for something before allowing user to login</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macOS/">macOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/">tech</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-What-about-performance"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/What-about-performance/">What about performance?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/What-about-performance/" class="article-date">
	  <time datetime="2017-10-10T07:53:47.000Z" itemprop="datePublished">October 10, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/85" target="_blank" rel="noopener">#85</a></strong></p>
<p>That’s the question I hear often when people are introduced to a new framework. It’s a valid concern. But it seems to me that they ask this just for fun. To my surprise, most people just don’t care, and the frameworks with the most stars often perform the worst.</p>
<p>Now take a look back at performance. Here are some benchmarks </p>
<p>From <a href="https://github.com/ibireme/YYModel" target="_blank" rel="noopener">https://github.com/ibireme/YYModel</a>, compare different JSON mappers for ObjC</p>
<p><img src="https://camo.githubusercontent.com/73e6774154cfe8652b61f62e8ea32cac48969033/68747470733a2f2f7261772e6769746875622e636f6d2f69626972656d652f59594d6f64656c2f6d61737465722f42656e63686d61726b2f526573756c742e706e67" alt></p>
<p>From <a href="https://github.com/bwhiteley/JSONShootout" target="_blank" rel="noopener">https://github.com/bwhiteley/JSONShootout</a>, compare different JSON mappers for Swift</p>
<p><img src="https://raw.githubusercontent.com/bwhiteley/JSONShootout/master/images/performance.png" alt></p>
<p>From <a href="https://github.com/onmyway133/DeepDiff#among-different-frameworks" target="_blank" rel="noopener">https://github.com/onmyway133/DeepDiff#among-different-frameworks</a>, compare different diffing frameworks</p>
<p><img src="https://github.com/onmyway133/DeepDiff/raw/master/Screenshots/benchmark3d.png" alt></p>
<p><strong><em>I use it because it has many stars</em></strong></p>
<p>Take a look at the stars, the ones with the most stars often perform the slowest 🙀 </p>
<p> I don’t say that more stars mean better. I don’t believe in stars. Stars may just be a result of your marketing effort. The same framework, without any code change, but after featured in some newsletters, gets additional thousand stars. The code remains the same, so what do stars really tell here?</p>
<p>I’m not talking about closed source. I like open source. When deciding an open source framework, there are many factors. It can be issues and pull requests that indicate how the community care about it. It can be good code and good tests, that make it easy to maintain. It can be good documentation, that says how much dedication the developers have put in. </p>
<p>And here’s the fact, when you see a project with many stars, you tend to star it too 😉 for the sake of bookmarking. Stars mean little, but they give us some ideas on how popular a project is.</p>
<p><strong><em>I just need to get work done</em></strong></p>
<p>OK.</p>
<p><strong><em>What about performance?</em></strong></p>
<p>Honestly, do you really care?</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Dear-SDK-developers"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Dear-SDK-developers/">Dear SDK developers</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Dear-SDK-developers/" class="article-date">
	  <time datetime="2017-10-10T07:45:38.000Z" itemprop="datePublished">October 10, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/84" target="_blank" rel="noopener">#84</a></strong></p>
<p>Dear SDK developers,</p>
<ul>
<li><strong><em>Please don’t do swizzling</em></strong>. Give us instructions on where to call your APIs instead of doing unnecessary swizzling. You’re making it for developers to use, and they know how to write code. Most of the time, you don’t know how to do swizzling right ⚠️ </li>
<li><strong><em>Please don’t use configuration file</em></strong>. If possible, please consider configuration via pure code, instead of the plist file that is more exposable in the app bundle.</li>
<li><strong><em>Please don’t make assumption about the app</em></strong>. Your assumptions about the app the SDK is going to be integrated are not always correct. Every app has its own use case and view hierarchy.</li>
<li><strong><em>Please provide proper releases</em></strong>. Tag and make releases for new changes in the SDK. If there are major changes, there should be migration guide and affect of that to older apps. Also, please write proper change logs, either in release notes or change log file. </li>
<li><strong><em>Please don’t leave us with a dump header file</em></strong>. Please add documentations to all the functions.</li>
<li><strong><em>Please improve the README</em></strong>. To avoid all the guessing, please improve the README with detail instructions.</li>
<li><strong><em>Please include a sample demo project</em></strong>. When making a demo project, you possible have chances to deal with potential problems. And developers have a clue on which steps they might be missing.</li>
<li><strong><em>Please open source it</em></strong>. You’re selling your service, not the code. By open sourcing it, the code is clear to everybody, and they might help you with bug fixing and suggestion.</li>
</ul>
<p>To be honest, I was very scared when asked to integrate the SDK with poor documentation and closed source. It’s like playing the guessing and praying game.</p>
<p>If the service is not important to you, and you’re doing it for fun, then you can ignore these requests. But if you’re serious about it, then please consider doing. We know you can do better 💪  </p>
<p>Thanks ❤️ </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/">tech</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-migrate-Codable-object-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-migrate-Codable-object-in-Swift/">How to migrate Codable object in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-migrate-Codable-object-in-Swift/" class="article-date">
	  <time datetime="2017-10-09T08:51:55.000Z" itemprop="datePublished">October 9, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/83" target="_blank" rel="noopener">#83</a></strong></p>
<p>As of swift 4 migration, we updated <a href="https://github.com/hyperoslo/Cache" target="_blank" rel="noopener">Cache</a> to fully take advantage of Codable. It works for most cases, as we should usually declare our entity as typed safe object instead of array or json dictionary. And by conforming to <code>Codable</code>, it is easily encoded and decoded to and from json data. And persisting them to <code>Cache</code> is as easy as eating cookie.</p>
<p>The other day, I saw someone asking on how to migrate if the model changes <a href="https://github.com/hyperoslo/Cache/issues/153" target="_blank" rel="noopener">https://github.com/hyperoslo/Cache/issues/153</a>, and he likes the way <code>Realm</code> does <a href="https://realm.io/docs/swift/latest/#migrations" target="_blank" rel="noopener">https://realm.io/docs/swift/latest/#migrations</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">Realm</span>.<span class="type">Configuration</span>.defaultConfiguration = <span class="type">Realm</span>.<span class="type">Configuration</span>(</span><br><span class="line">  schemaVersion: <span class="number">1</span>,</span><br><span class="line">  migrationBlock: &#123; migration, oldSchemaVersion <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">if</span> (oldSchemaVersion &lt; <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">// The enumerateObjects(ofType:_:) method iterates</span></span><br><span class="line">          <span class="comment">// over every Person object stored in the Realm file</span></span><br><span class="line">          migration.enumerateObjects(ofType: <span class="type">Person</span>.className()) &#123; oldObject, newObject <span class="keyword">in</span></span><br><span class="line">              <span class="comment">// combine name fields into a single field</span></span><br><span class="line">              <span class="keyword">let</span> firstName = oldObject![<span class="string">"firstName"</span>] <span class="keyword">as</span>! <span class="type">String</span></span><br><span class="line">              <span class="keyword">let</span> lastName = oldObject![<span class="string">"lastName"</span>] <span class="keyword">as</span>! <span class="type">String</span></span><br><span class="line">              newObject![<span class="string">"fullName"</span>] = <span class="string">"\(firstName) \(lastName)"</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>I think we can rely on <code>Codable</code> to the migration. FYI, here is the PR <a href="https://github.com/hyperoslo/Cache/pull/154" target="_blank" rel="noopener">https://github.com/hyperoslo/Cache/pull/154</a></p>
<h3 id="Class-name-change"><a href="#Class-name-change" class="headerlink" title="Class name change"></a>Class name change</h3><p>I see <code>Codable</code> is based on json, and the importance of json is its data structure, not the class name. So if you change the class name, it still works. </p>
<p>First, we save model of type <code>Person</code>, later we load model of type <code>Alien</code>. It works because the structure stays the same</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> firstName: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> lastName: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Alien</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> firstName: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> lastName: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="type">Person</span>(firstName: <span class="string">"John"</span>, lastName: <span class="string">"Snow"</span>)</span><br><span class="line"><span class="keyword">try</span>! storage.setObject(person, forKey: <span class="string">"person"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// As long as it has same properties, it works too</span></span><br><span class="line"><span class="keyword">let</span> cachedObject = <span class="keyword">try</span>! storage.object(ofType: <span class="type">Alien</span>.<span class="keyword">self</span>, forKey: <span class="string">"person"</span>)</span><br><span class="line"><span class="type">XCTAssertEqual</span>(cachedObject.firstName, <span class="string">"John"</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Property-change"><a href="#Property-change" class="headerlink" title="Property change"></a>Property change</h3><p>If the property changes, then you need to do a little work of migration. </p>
<p>First, we save model of type <code>Person1</code>, it has just <code>fullName</code>. Later we change the model to <code>Person2</code> with some new properties. To do the migration, we need to load model with old <code>Person1</code> first, then construct a new model <code>Person2</code> based on this <code>Person1</code>. Finally, save that to <code>Cache</code> with the same key.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person1</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> fullName: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person2</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> firstName: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> lastName: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Firstly, save object of type Person1</span></span><br><span class="line"><span class="keyword">let</span> person = <span class="type">Person1</span>(fullName: <span class="string">"John Snow"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>! storage.setObject(person, forKey: <span class="string">"person"</span>)</span><br><span class="line"><span class="type">XCTAssertNil</span>(<span class="keyword">try</span>? storage.object(ofType: <span class="type">Person2</span>.<span class="keyword">self</span>, forKey: <span class="string">"person"</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// Later, convert to Person2, do the migration, then overwrite</span></span><br><span class="line"><span class="keyword">let</span> tempPerson = <span class="keyword">try</span>! storage.object(ofType: <span class="type">Person1</span>.<span class="keyword">self</span>, forKey: <span class="string">"person"</span>)</span><br><span class="line"><span class="keyword">let</span> parts = tempPerson.fullName.<span class="built_in">split</span>(separator: <span class="string">" "</span>)</span><br><span class="line"><span class="keyword">let</span> migratedPerson = <span class="type">Person2</span>(firstName: <span class="type">String</span>(parts[<span class="number">0</span>]), lastName: <span class="type">String</span>(parts[<span class="number">1</span>]))</span><br><span class="line"><span class="keyword">try</span>! storage.setObject(migratedPerson, forKey: <span class="string">"person"</span>)</span><br><span class="line"></span><br><span class="line"><span class="type">XCTAssertEqual</span>(</span><br><span class="line">  <span class="keyword">try</span>! storage.object(ofType: <span class="type">Person2</span>.<span class="keyword">self</span>, forKey: <span class="string">"person"</span>).firstName,</span><br><span class="line">  <span class="string">"John"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-handle-alert-in-UITests-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-handle-alert-in-UITests-in-iOS/">How to handle alert in UITests in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-handle-alert-in-UITests-in-iOS/" class="article-date">
	  <time datetime="2017-10-02T07:55:28.000Z" itemprop="datePublished">October 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/82" target="_blank" rel="noopener">#82</a></strong></p>
<p>Usually in an app, you have the onboarding with steps that require push notification and location permission to be turned on. And you want to automate these steps via <code>UITests</code></p>
<p>Firstly, you need to add <code>interruption handler</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">addUIInterruptionMonitor(withDescription: <span class="string">"Alert"</span>) &#123;</span><br><span class="line">    element <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="comment">// Push Notification</span></span><br><span class="line">      <span class="keyword">let</span> button = element.buttons[<span class="string">"Allow"</span>]</span><br><span class="line">      <span class="keyword">let</span> title = element.staticTexts[<span class="string">"“MyAwesomeApp” Would Like to Send You Notifications"</span>]</span><br><span class="line">      <span class="keyword">if</span> title.exists &amp;&amp; button.exists &#123;</span><br><span class="line">        button.tap()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="comment">// Location</span></span><br><span class="line">      <span class="keyword">let</span> button = element.buttons[<span class="string">"Only While Using the App"</span>]</span><br><span class="line">      <span class="keyword">if</span> button.exists &#123;</span><br><span class="line">        button.tap()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then you need to call <code>tap</code> on <code>XCUIApplication</code> to make the app responsive</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">turnOnPushNotificationButton.tap()</span><br><span class="line">tap()</span><br></pre></td></tr></table></figure>

<p>Sometimes the alert handling is slow and you get <code>Did not receive view did disappear notification within 2.0s</code>. Well, the workaround is to wait for the element on next onboarding step to appear. Starting with Xcode 9, you can use <code>waitForExistence</code>.</p>
<p>This is how you can go to last step after user has enabled push notification</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> label = staticTexts[<span class="string">"Congratulation. You've granted us permission. Now enjoy the app."</span>]</span><br><span class="line"><span class="number">_</span> = label.waitForExistence(timeout: <span class="number">5</span>)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-integrate-library-via-custom-podspec"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-integrate-library-via-custom-podspec/">How to integrate library via custom podspec</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-integrate-library-via-custom-podspec/" class="article-date">
	  <time datetime="2017-09-29T07:24:57.000Z" itemprop="datePublished">September 29, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/81" target="_blank" rel="noopener">#81</a></strong></p>
<p>Today I am about to integrate a library that does not support Cocoapods yet. It would be cumbersome to do it manually, because you have to configure <code>xcconfig</code>, <code>framework search path</code>, <code>assets</code>, and these steps are not well documented.</p>
<p>You can do this with custom podspec. In my case, I need to install <a href="https://bitbucket.org/fluxloop/pinch.installpackage/wiki/Home" target="_blank" rel="noopener">PinchSDK</a>. First, declare a <code>PinchSDK.podspec</code> in your project folder.</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Pod::Spec.new <span class="keyword">do</span> <span class="params">|s|</span></span><br><span class="line">  s.name             = <span class="string">"PinchSDK"</span></span><br><span class="line">  s.version          = <span class="string">"1.9.14"</span></span><br><span class="line">  s.summary          = <span class="string">"Pinch samler dessuten inn data hver gang en mobilapplikasjon oppdager en Pinch-beacon."</span></span><br><span class="line">  s.homepage         = <span class="string">"https://bitbucket.org/fluxloop/pinch.installpackage"</span></span><br><span class="line">  s.source           = &#123; <span class="symbol">:http</span> =&gt; <span class="string">"https://bitbucket.org/fluxloop/pinch.installpackage/raw/master/iOS/PinchSDK.zip"</span> &#125;</span><br><span class="line">  s.authors = <span class="string">'Fluxloop'</span></span><br><span class="line">  s.license = &#123; <span class="symbol">type:</span> <span class="string">'MIT'</span> &#125;</span><br><span class="line">  s.platform     = <span class="symbol">:ios</span>, <span class="string">'8.0'</span></span><br><span class="line">  s.requires_arc = <span class="literal">true</span></span><br><span class="line">  s.resource = <span class="string">'PinchSDK/Pinch.bundle'</span></span><br><span class="line">  s.vendored_frameworks = <span class="string">'PinchSDK/PinchLibrary.framework'</span></span><br><span class="line">  s.xcconfig = &#123; <span class="string">'OTHER_LDFLAGS'</span>: <span class="string">'-ObjC'</span> &#125;</span><br><span class="line">  s.public_header_files = <span class="string">'PinchSDK/PinchLibrary.framework/Headers/PinchLibrary.h'</span></span><br><span class="line">  s.source_files = <span class="string">'PinchSDK/PinchLibrary.framework/Headers/PinchLibrary.h'</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>Then, in your <code>Podfile</code>, you can point to this <code>podspec</code></p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'PinchSDK'</span>, <span class="symbol">podspec:</span> <span class="string">'PinchSDK.podspec'</span></span><br></pre></td></tr></table></figure>

<p>Finally, since this PinchSDK uses <code>objc</code>, you need to declare it in your <code>bridging header</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;PinchLibrary/PinchLibrary.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>Now, just <code>pod install</code> and you’re done 🎉 </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-handle-Swift-version-with-Cocoapods"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-handle-Swift-version-with-Cocoapods/">How to handle Swift version with Cocoapods</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-handle-Swift-version-with-Cocoapods/" class="article-date">
	  <time datetime="2017-09-25T06:38:57.000Z" itemprop="datePublished">September 25, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/80" target="_blank" rel="noopener">#80</a></strong></p>
<p>Today I was migrating <a href="http://github.com/hyperoslo/Imaginary" target="_blank" rel="noopener">Imaginary</a> to Swift 4. But I get</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- ERROR | [OSX] xcodebuild: Returned an unsuccessful exit code.</span><br><span class="line">- ERROR | [OSX] xcodebuild:  Cache/Source/Mac/NSImage+Extensions.swift:32:64: error: &apos;png&apos; has been renamed to &apos;PNG&apos;</span><br><span class="line">- NOTE  | [OSX] xcodebuild:  AppKit.NSBitmapImageRep:57:27: note: &apos;png&apos; was introduced in Swift 4</span><br><span class="line">- ERROR | [OSX] xcodebuild:  Cache/Source/Mac/NSImage+Extensions.swift:32:71: error: &apos;jpeg&apos; has been renamed to &apos;JPEG&apos;</span><br><span class="line">- NOTE  | [OSX] xcodebuild:  AppKit.NSBitmapImageRep:52:27: note: &apos;jpeg&apos; was introduced in Swift 4</span><br></pre></td></tr></table></figure>

<p><img src="https://user-images.githubusercontent.com/2284279/30799522-68280de0-a1dd-11e7-8494-e2938ba070e2.png" alt="swift4 png"></p>
<p>The project is configured to use <code>Swift 4</code> and its dependency Cache correctly uses <code>.png</code> and <code>.jpeg</code> <a href="https://github.com/hyperoslo/Cache/blob/master/Source/Mac/NSImage%2BExtensions.swift" target="_blank" rel="noopener">https://github.com/hyperoslo/Cache/blob/master/Source/Mac/NSImage%2BExtensions.swift</a></p>
<p>Why is that 🤔 </p>
<p>It turns out that the <code>.swift-version</code> is still showing <code>3.0</code>. Change it to <code>4.0</code> fixes the issue. The <code>.swift-version</code> is a hint to specify which Swift version should be used for a pod <a href="https://github.com/CocoaPods/CocoaPods/pull/5841" target="_blank" rel="noopener">https://github.com/CocoaPods/CocoaPods/pull/5841</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Ikigai"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Ikigai/">Ikigai</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Ikigai/" class="article-date">
	  <time datetime="2017-09-21T10:27:01.000Z" itemprop="datePublished">September 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/79" target="_blank" rel="noopener">#79</a></strong></p>
<p>I really like the concept of <a href="https://en.wikipedia.org/wiki/Ikigai" target="_blank" rel="noopener">Ikigai</a></p>
<blockquote>
<p>Ikigai (生き甲斐, pronounced [ikiɡai]) is a Japanese concept that means “a reason for being.” It is similar to the French phrase Raison d’être. Everyone, according to Japanese culture, has an ikigai. Finding it requires a deep and often lengthy search of self. Such a search is important to the cultural belief that discovering one’s ikigai brings satisfaction and meaning to life.[1]</p>
</blockquote>
<blockquote>
<p>The term ikigai compounds two Japanese words: iki (wikt:生き) meaning “life; alive” and kai (甲斐) “(an) effect; (a) result; (a) fruit; (a) worth; (a) use; (a) benefit; (no, little) avail” (sequentially voiced as gai) “a reason for living [being alive]; a meaning for [to] life; what [something that] makes life worth living; a raison d’etre”.[3]</p>
</blockquote>
<p><img src="https://assets.weforum.org/editor/tyvToPYsyaZXtaFiUISw-P6abde6j84YSh5o3tXq81c.jpg" alt></p>
<h3 id="About-college-degree"><a href="#About-college-degree" class="headerlink" title="About college degree"></a>About college degree</h3><ul>
<li><a href="https://www.youtube.com/watch?v=e8QY0NDWqzk" target="_blank" rel="noopener">https://www.youtube.com/watch?v=e8QY0NDWqzk</a></li>
<li>What you learn is more important</li>
<li>Surrounded with smart people</li>
<li>Safe way</li>
<li>College degree is nothing. But without that, you’re no thing. </li>
<li>Visa</li>
</ul>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://www.ted.com/talks/dan_buettner_how_to_live_to_be_100" target="_blank" rel="noopener">Dan Buettnet - How to live to be 100+
</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Reading-list"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Reading-list/">Reading list</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Reading-list/" class="article-date">
	  <time datetime="2017-09-21T10:06:35.000Z" itemprop="datePublished">September 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/78" target="_blank" rel="noopener">#78</a></strong></p>
<p>These are my favorite books, screencasts, languages, tech and services that I have been exploring</p>
<h2 id="Books"><a href="#Books" class="headerlink" title="Books"></a>Books</h2><h4 id="Programming"><a href="#Programming" class="headerlink" title="Programming"></a>Programming</h4><ul>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" target="_blank" rel="noopener">Clean Code: A Handbook of Agile Software Craftsmanship</a></li>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Pragmatic-Programmer-Journeyman-Master/dp/020161622X" target="_blank" rel="noopener">The Pragmatic Programmer: From Journeyman to Master</a></li>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Code-Complete-Practical-Handbook-Construction/dp/0735619670" target="_blank" rel="noopener">Code Complete: A Practical Handbook of Software Construction, Second Edition 2nd Edition</a></li>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Clean-Coder-Conduct-Professional-Programmers/dp/0137081073" target="_blank" rel="noopener">The Clean Coder: A Code of Conduct for Professional Programmers</a></li>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Refactoring-Improving-Design-Existing-Code/dp/0201485672" target="_blank" rel="noopener">Refactoring: Improving the Design of Existing Code</a></li>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Agile-Principles-Patterns-Practices-C/dp/0131857258" target="_blank" rel="noopener">Agile Principles, Patterns, and Practices in C#</a></li>
<li><input checked disabled type="checkbox"> <a href="http://www.amazon.com/Refactoring-Patterns-Joshua-Kerievsky/dp/0321213351" target="_blank" rel="noopener">Refactoring to Patterns</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.amazon.com/Art-Unit-Testing-examples/dp/1617290890" target="_blank" rel="noopener">The Art of Unit Testing: with examples in C#</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.amazon.co.uk/Clean-Architecture-Craftsmans-Software-Structure/dp/0134494164" target="_blank" rel="noopener">Clean Architecture: A Craftsman’s Guide to Software Structure and Design </a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.amazon.com/Head-First-Design-Patterns-Brain-Friendly/dp/0596007124" target="_blank" rel="noopener">Head First Design Patterns</a></li>
<li><input disabled type="checkbox"> <a href="https://www.amazon.com/Clean-Architecture-Craftsmans-Software-Structure/dp/0134494164" target="_blank" rel="noopener">Clean Architecture: A Craftsman’s Guide to Software Structure and Design</a></li>
<li><a href="https://www.amazon.com/Living-Code-First-Developers-Innovators/dp/1942878826/" target="_blank" rel="noopener">Living by the Code</a></li>
</ul>
<h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><ul>
<li><input checked disabled type="checkbox"> <a href="https://www.amazon.com/Effective-Java-3rd-Joshua-Bloch/dp/0134685997" target="_blank" rel="noopener">Effective Java (3rd Edition) </a></li>
</ul>
<h4 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h4><ul>
<li><input checked disabled type="checkbox"> <a href="https://eloquentjavascript.net/" target="_blank" rel="noopener">Eloquent Javascript</a></li>
<li><input checked disabled type="checkbox"> <a href="https://github.com/MostlyAdequate/mostly-adequate-guide" target="_blank" rel="noopener">Mostly adequate guide to Functional Programming in Javascript</a></li>
</ul>
<h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><ul>
<li><input checked disabled type="checkbox"> <a href="http://www.effectiveobjectivec.com/" target="_blank" rel="noopener">Effective Objective-C 2.0</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.objc.io/books/advanced-swift/" target="_blank" rel="noopener">Advanced Swift</a></li>
<li><input disabled type="checkbox"> <a href="https://store.raywenderlich.com/products/design-patterns-by-tutorials" target="_blank" rel="noopener">Design Patterns by Tutorials</a></li>
<li><input disabled type="checkbox"> <a href="https://www.objc.io/books/app-architecture/" target="_blank" rel="noopener">App Architecture</a></li>
</ul>
<h4 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h4><ul>
<li><input checked disabled type="checkbox"> <a href="http://learnyouahaskell.com/" target="_blank" rel="noopener">Learn you a Haskell for great good</a></li>
</ul>
<h4 id="Life"><a href="#Life" class="headerlink" title="Life"></a>Life</h4><ul>
<li><input checked disabled type="checkbox"> <a href="https://www.amazon.com/Smart-Gets-Things-Done-Technical/dp/1590598385" target="_blank" rel="noopener">Smart and Gets Things Done: Joel Spolsky’s Concise Guide to Finding the Best Technical Talent</a></li>
<li><input disabled type="checkbox"> <a href="https://www.amazon.com/Power-Habit-What-Life-Business/dp/081298160X" target="_blank" rel="noopener">The Power of Habit: Why We Do What We Do in Life and Business</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.kokev.in/hired-fast" target="_blank" rel="noopener">Hired fast</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.amazon.com/Never-Eat-Alone-Expanded-Updated/dp/0385346654" target="_blank" rel="noopener">Never Eat Alone</a></li>
<li><input disabled type="checkbox"> <a href="http://www.abramsbooks.com/product/shape-of-ideas_9781419723179/" target="_blank" rel="noopener">The shape of ideas</a></li>
<li><input disabled type="checkbox"> <a href="https://www.amazon.ca/Good-They-Cant-Ignore-You/dp/1455509124" target="_blank" rel="noopener">So Good They Can’t Ignore You: Why Skills Trump Passion in the Quest for Work You Love</a></li>
</ul>
<h2 id="Screencasts"><a href="#Screencasts" class="headerlink" title="Screencasts"></a>Screencasts</h2><ul>
<li><input checked disabled type="checkbox"> <a href="https://www.pointfree.co/" target="_blank" rel="noopener">Pointfree</a></li>
<li><input checked disabled type="checkbox"> <a href="https://cleancoders.com/" target="_blank" rel="noopener">Clean coders</a></li>
<li><input disabled type="checkbox"> <a href="https://basecodefieldguide.com/" target="_blank" rel="noopener">BaseCode</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.destroyallsoftware.com/screencasts" target="_blank" rel="noopener">Destroy All Software</a></li>
<li><input disabled type="checkbox"> <a href="https://www.youtube.com/playlist?list=PLkOyNuxGl9jx02vhWRCSPwbcSRvV9wWh1" target="_blank" rel="noopener">Can it be done in React Native?</a></li>
</ul>
<h2 id="Blog"><a href="#Blog" class="headerlink" title="Blog"></a>Blog</h2><ul>
<li><input checked disabled type="checkbox"> <a href="https://www.pointfree.co/blog" target="_blank" rel="noopener">Pointfree</a></li>
<li><input checked disabled type="checkbox"> <a href="https://nshipster.com/" target="_blank" rel="noopener">NSHipster</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.objc.io/blog/" target="_blank" rel="noopener">Objc.io</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.swiftbysundell.com/" target="_blank" rel="noopener">Swift by Sundell</a></li>
<li><input checked disabled type="checkbox"> <a href="http://khanlou.com/" target="_blank" rel="noopener">Khanlou</a></li>
<li><input checked disabled type="checkbox"> <a href="https://oleb.net/" target="_blank" rel="noopener">Ole Begemann</a></li>
<li><input checked disabled type="checkbox"> <a href="https://matt.diephouse.com/" target="_blank" rel="noopener">Matt Diephouse</a></li>
<li><input checked disabled type="checkbox"> <a href="https://overreacted.io/" target="_blank" rel="noopener">Overreacted</a></li>
<li><input checked disabled type="checkbox"> <a href="https://www.kode24.no/" target="_blank" rel="noopener">kode24</a></li>
<li><input checked disabled type="checkbox"> <a href="https://sandofsky.com/" target="_blank" rel="noopener">Ben Sandofsky</a></li>
</ul>
<h2 id="Language"><a href="#Language" class="headerlink" title="Language"></a>Language</h2><ul>
<li><input checked disabled type="checkbox"> C</li>
<li><input checked disabled type="checkbox"> C++</li>
<li><input checked disabled type="checkbox"> Objective C</li>
<li><input checked disabled type="checkbox"> Swift</li>
<li><input checked disabled type="checkbox"> C#</li>
<li><input checked disabled type="checkbox"> Java</li>
<li><input checked disabled type="checkbox"> Kotlin</li>
<li><input checked disabled type="checkbox"> Javascript</li>
<li><input checked disabled type="checkbox"> Applescript</li>
<li><input checked disabled type="checkbox"> Dart</li>
<li><input checked disabled type="checkbox"> Go</li>
<li><input checked disabled type="checkbox"> Haskell</li>
</ul>
<h2 id="Tech-amp-Service"><a href="#Tech-amp-Service" class="headerlink" title="Tech &amp; Service"></a>Tech &amp; Service</h2><ul>
<li><input checked disabled type="checkbox"> iOS, macOS</li>
<li><input disabled type="checkbox"> tvOS, watchOS</li>
<li><input checked disabled type="checkbox"> react.js</li>
<li><input checked disabled type="checkbox"> electron.js</li>
<li><input checked disabled type="checkbox"> Android</li>
<li><input checked disabled type="checkbox"> Flutter</li>
<li><input checked disabled type="checkbox"> React Native</li>
<li><input checked disabled type="checkbox"> Chrome extension</li>
<li><input checked disabled type="checkbox"> Sketch plugin</li>
<li><input checked disabled type="checkbox"> Xcode extension</li>
<li><input checked disabled type="checkbox"> Slack bot</li>
<li><input checked disabled type="checkbox"> Windows Phone</li>
<li><input checked disabled type="checkbox"> Windows Mobile 6</li>
<li><input checked disabled type="checkbox"> Symbian</li>
<li><input checked disabled type="checkbox"> J2ME</li>
<li><input checked disabled type="checkbox"> Windows Metro</li>
<li><input checked disabled type="checkbox"> ASP.NET</li>
<li><input checked disabled type="checkbox"> XNA</li>
<li><input checked disabled type="checkbox"> Unity</li>
<li><input checked disabled type="checkbox"> node.js</li>
<li><input disabled type="checkbox"> Docker</li>
<li><input disabled type="checkbox"> Kubernetes</li>
<li><input disabled type="checkbox"> Heroku</li>
<li><input disabled type="checkbox"> Google Cloud</li>
<li><input checked disabled type="checkbox"> Firebase</li>
<li><input checked disabled type="checkbox"> TravisCI, CircleCI, Bitrise, BuddyBuild, Jenkins</li>
<li><input checked disabled type="checkbox"> GitHub, Bitbucket</li>
<li><input checked disabled type="checkbox"> JIRA, Pivotal, Trello</li>
<li><input checked disabled type="checkbox"> Sketch</li>
<li><input checked disabled type="checkbox"> GRPC</li>
<li><input checked disabled type="checkbox"> Protobuf</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/">tech</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-What-if-there-is-no-inheritance"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/What-if-there-is-no-inheritance/">What if there is no inheritance?</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/What-if-there-is-no-inheritance/" class="article-date">
	  <time datetime="2017-09-21T06:56:40.000Z" itemprop="datePublished">September 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/77" target="_blank" rel="noopener">#77</a></strong></p>
<p>My question </p>
<blockquote>
<p>What if there is no inheritance, so that everybody has the same start, does that make life fairer?</p>
</blockquote>
<ul>
<li>Hacker News <a href="https://news.ycombinator.com/item?id=13857327" target="_blank" rel="noopener">https://news.ycombinator.com/item?id=13857327</a></li>
<li>Quora <a href="https://www.quora.com/What-if-there-is-no-inheritance-so-that-everybody-has-the-same-start-does-that-make-life-fairer" target="_blank" rel="noopener">https://www.quora.com/What-if-there-is-no-inheritance-so-that-everybody-has-the-same-start-does-that-make-life-fairer</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Ad-Hominem"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Ad-Hominem/">Ad Hominem</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Ad-Hominem/" class="article-date">
	  <time datetime="2017-09-21T06:51:11.000Z" itemprop="datePublished">September 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/76" target="_blank" rel="noopener">#76</a></strong></p>
<p>I use <a href="https://twitter.com/" target="_blank" rel="noopener">Twitter</a> a lot, mostly to follow people I like. They tweet cool things about tech and life. I learned a lot.</p>
<blockquote>
<p>Please don’t show me the evil sides of the world ~ Michael Learn To Rock - How Many Hours</p>
</blockquote>
<p>But there’s also bad side of the story. I see many retweets of people saying bad things about others, mostly in form of <a href="https://www.logicallyfallacious.com/tools/lp/Bo/LogicalFallacies/1/Ad-Hominem-Abusive" target="_blank" rel="noopener">Ad Hominem</a></p>
<blockquote>
<p>Attacking the person making the argument, rather than the argument itself, when the attack on the person is completely irrelevant to the argument the person is making.</p>
</blockquote>
<p>From <a href="http://wiki.c2.com/?AdHominem" target="_blank" rel="noopener">Ad Hominem on c2.com</a></p>
<blockquote>
<p>An argumentum ad hominem is any kind of argument that criticizes an idea by pointing something out about the people who hold the idea rather than directly addressing the merits of the idea. ‘’Ad hominem’’ is Latin for “directed toward the man (as opposed to the issue at hand)”. An alternative expression is “playing the man and not the ball”.</p>
</blockquote>
<p>Most of these people have the <a href="https://support.twitter.com/groups/31-twitter-basics/topics/111-features/articles/119135-about-verified-accounts" target="_blank" rel="noopener">Twitter verified badge</a>. They complain that they have so many followers while they themselves follow hundreds of thousands. They say bad things about others’ hair style and appearance while actively supporting equality. They argue who owns the original gif. They follow one person just to be the first to insult them.</p>
<blockquote>
<p>The blue verified badge  on Twitter lets people know that an account of public interest is authentic.</p>
</blockquote>
<blockquote>
<p>Blowing out someone else’s candle doesn’t make yours shine any brighter ~ Anonymous</p>
</blockquote>
<p>The only thing I can do is <code>I don&#39;t like this tweet</code> 😞</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Sync-and-async-code-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Sync-and-async-code-in-Swift/">Sync and async code in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Sync-and-async-code-in-Swift/" class="article-date">
	  <time datetime="2017-09-14T10:00:58.000Z" itemprop="datePublished">September 14, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/75" target="_blank" rel="noopener">#75</a></strong></p>
<p>We should use <code>DispatchQueue</code> to build thread safe code. The idea is to prevent two <code>read and write</code> from happening at the same time from 2 different threads, which cause data corruption and unexpected behaviors. Note that you should try to avoid deadlock <a href="https://stackoverflow.com/questions/15381209/how-do-i-create-a-deadlock-in-grand-central-dispatch" target="_blank" rel="noopener">https://stackoverflow.com/questions/15381209/how-do-i-create-a-deadlock-in-grand-central-dispatch</a></p>
<h2 id="All-sync"><a href="#All-sync" class="headerlink" title="All sync"></a>All sync</h2><p>Use <code>try catch</code>, together with <code>serial queue</code>. Use <code>sync</code> function to block current queue.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUser</span><span class="params">(id: String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">User</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> user: <span class="type">User!</span></span><br><span class="line">  <span class="keyword">try</span> serialQueue.sync &#123;</span><br><span class="line">    user = <span class="keyword">try</span> storage.getUser(id)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setUser</span><span class="params">(<span class="number">_</span> user: User)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> serialQueue.sync &#123;</span><br><span class="line">    <span class="keyword">try</span> storage.setUser(user)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="All-async"><a href="#All-async" class="headerlink" title="All async"></a>All async</h2><p>Use <code>Result</code>, toget with <code>serial queue</code>. Use <code>async</code> function to return to current queue.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Result</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">case</span> value(<span class="type">T</span>)</span><br><span class="line">  <span class="keyword">case</span> error(<span class="type">Error</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUser</span><span class="params">(id: String, completion: <span class="params">(Result&lt;User&gt;)</span></span></span> - <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> serialQueue.async &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      user = <span class="keyword">try</span> storage.getUser(id)</span><br><span class="line">      completion(.value(user))</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      completion(.error(error))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setUser</span><span class="params">(<span class="number">_</span> user: User, completion: <span class="params">(Result&lt;<span class="params">()</span></span></span></span>&gt;) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> serialQueue.async &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> storage.setUser(user)</span><br><span class="line">      completion(.value(())</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      completion(.error(error))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Sync-read-async-write"><a href="#Sync-read-async-write" class="headerlink" title="Sync read, async write"></a>Sync read, async write</h2><p>Use <code>try catch</code> for read, <code>Result</code> for write, together with <code>concurrent queue</code>. Use <code>sync</code> function for read to block current thread, while using <code>async</code> function with <code>barrier</code> flag for write to return to current queue. This is good for when multiple reads is preferred when there is no write. When write with <code>barrier</code> comes into the queue, other operations must wait.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUser</span><span class="params">(id: String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">User</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> user: <span class="type">User!</span></span><br><span class="line">  <span class="keyword">try</span> concurrentQueue.sync &#123;</span><br><span class="line">    user = <span class="keyword">try</span> storage.getUser(id)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setUser</span><span class="params">(<span class="number">_</span> user: User, completion: <span class="params">(Result&lt;<span class="params">()</span></span></span></span>&gt;) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> concurrentQueue.async(flags: .barrier) &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> storage.setUser(user)</span><br><span class="line">      completion(.value(())</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      completion(.error(error))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Testing-for-asynchrony"><a href="#Testing-for-asynchrony" class="headerlink" title="Testing for asynchrony"></a>Testing for asynchrony</h2><p>Before we could use <a href="https://developer.apple.com/documentation/dispatch/1453050-dispatch_apply" target="_blank" rel="noopener">dispatch_apply</a> to submits a block to a dispatch queue for multiple invocations. Starting with Swift, the equivalence is <a href="https://developer.apple.com/documentation/dispatch/dispatchqueue/2016088-concurrentperform" target="_blank" rel="noopener">concurrentPerform</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.concurrentPerform(iterations: <span class="number">1000</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> last = array.last ?? <span class="number">0</span></span><br><span class="line">    array.append(last + <span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://basememara.com/creating-thread-safe-arrays-in-swift/" target="_blank" rel="noopener">http://basememara.com/creating-thread-safe-arrays-in-swift/</a></li>
<li><a href="https://oleb.net/blog/2013/07/parallelize-for-loops-gcd-dispatch_apply/" target="_blank" rel="noopener">https://oleb.net/blog/2013/07/parallelize-for-loops-gcd-dispatch_apply/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/12/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/14/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Ohayou</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/onmyway133" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href="https://twitter.com/onmyway133" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:onmyway133@gmail.com?subject=Hello&body=World" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-full-width-list-row-in-SwiftUI/">How to make full width list row in SwiftUI</a></h6>
              <span>November 14, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-full-screen-TabView-in-SwiftUI/">How to make full screen TabView in SwiftUI</a></h6>
              <span>November 14, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-map-error-in-Combine/">How to map error in Combine</a></h6>
              <span>November 14, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-fix-unable-to-infer-complex-closure-return-type-in-SwiftUI/">How to fix unable to infer complex closure return type in SwiftUI</a></h6>
              <span>November 13, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-Swift-Package-Manager-package-for-multiple-platforms/">How to make Swift Package Manager package for multiple platforms</a></h6>
              <span>November 13, 2019</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/Links-for-Catalyst/">Links for Catalyst</a></h6>
              <span>November 13, 2019</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/accessibility/" style="font-size: 10px;">accessibility</a> <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/android/" style="font-size: 17.5px;">android</a> <a href="/tags/apple-script/" style="font-size: 11.25px;">apple script</a> <a href="/tags/catalyst/" style="font-size: 10.63px;">catalyst</a> <a href="/tags/ci/" style="font-size: 11.25px;">ci</a> <a href="/tags/cloud/" style="font-size: 10.63px;">cloud</a> <a href="/tags/cocoapods/" style="font-size: 11.88px;">cocoapods</a> <a href="/tags/combine/" style="font-size: 10.63px;">combine</a> <a href="/tags/csharp/" style="font-size: 10px;">csharp</a> <a href="/tags/css/" style="font-size: 10.63px;">css</a> <a href="/tags/dart/" style="font-size: 11.88px;">dart</a> <a href="/tags/database/" style="font-size: 10.63px;">database</a> <a href="/tags/design/" style="font-size: 10.63px;">design</a> <a href="/tags/electron/" style="font-size: 11.88px;">electron</a> <a href="/tags/firebase/" style="font-size: 11.88px;">firebase</a> <a href="/tags/flutter/" style="font-size: 11.88px;">flutter</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 11.88px;">github</a> <a href="/tags/go/" style="font-size: 10.63px;">go</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/iOS/" style="font-size: 19.38px;">iOS</a> <a href="/tags/javascript/" style="font-size: 18.13px;">javascript</a> <a href="/tags/kotlin/" style="font-size: 16.88px;">kotlin</a> <a href="/tags/layout/" style="font-size: 11.88px;">layout</a> <a href="/tags/life/" style="font-size: 13.75px;">life</a> <a href="/tags/links/" style="font-size: 14.38px;">links</a> <a href="/tags/macOS/" style="font-size: 18.75px;">macOS</a> <a href="/tags/machine-learning/" style="font-size: 10.63px;">machine learning</a> <a href="/tags/maps/" style="font-size: 11.88px;">maps</a> <a href="/tags/networking/" style="font-size: 10px;">networking</a> <a href="/tags/node/" style="font-size: 13.13px;">node</a> <a href="/tags/objc/" style="font-size: 10.63px;">objc</a> <a href="/tags/push-notification/" style="font-size: 10px;">push notification</a> <a href="/tags/react/" style="font-size: 11.25px;">react</a> <a href="/tags/react-native/" style="font-size: 15px;">react native</a> <a href="/tags/realm/" style="font-size: 10px;">realm</a> <a href="/tags/rx/" style="font-size: 11.25px;">rx</a> <a href="/tags/script/" style="font-size: 10.63px;">script</a> <a href="/tags/spm/" style="font-size: 10px;">spm</a> <a href="/tags/swift/" style="font-size: 20px;">swift</a> <a href="/tags/swiftUI/" style="font-size: 16.25px;">swiftUI</a> <a href="/tags/tech/" style="font-size: 15.63px;">tech</a> <a href="/tags/terminal/" style="font-size: 10.63px;">terminal</a> <a href="/tags/testing/" style="font-size: 12.5px;">testing</a> <a href="/tags/unity/" style="font-size: 10px;">unity</a> <a href="/tags/voip/" style="font-size: 11.88px;">voip</a> <a href="/tags/watchOS/" style="font-size: 13.13px;">watchOS</a> <a href="/tags/web/" style="font-size: 10.63px;">web</a> <a href="/tags/wwdc/" style="font-size: 10.63px;">wwdc</a> <a href="/tags/xcode/" style="font-size: 13.75px;">xcode</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">49</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">50</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">46</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">6</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/accessibility/">accessibility</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">34</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apple-script/">apple script</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/catalyst/">catalyst</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci/">ci</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/">cloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoapods/">cocoapods</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/combine/">combine</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/">csharp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dart/">dart</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/">design</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electron/">electron</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firebase/">firebase</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter/">flutter</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">135</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">36</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kotlin/">kotlin</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layout/">layout</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/links/">links</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macOS/">macOS</a><span class="tag-list-count">68</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/">machine learning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maps/">maps</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/networking/">networking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/objc/">objc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/push-notification/">push notification</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/realm/">realm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rx/">rx</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/script/">script</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spm/">spm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift/">swift</a><span class="tag-list-count">184</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swiftUI/">swiftUI</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tech/">tech</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/terminal/">terminal</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/">testing</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity/">unity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/voip/">voip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/watchOS/">watchOS</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wwdc/">wwdc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xcode/">xcode</a><span class="tag-list-count">10</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2019 onmyway133 All Rights Reserved.
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about/" class="mobile-nav-link">About</a>
  
    <a href="/writing/" class="mobile-nav-link">Writing</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/speaking/" class="mobile-nav-link">Speaking</a>
  
    <a href="/opensource/" class="mobile-nav-link">Open Source</a>
  
    <a href="/projects/" class="mobile-nav-link">Projects</a>
  
    <a href="/news/" class="mobile-nav-link">News</a>
  
    <a href="/gumroad/" class="mobile-nav-link">Gumroad</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>













  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
