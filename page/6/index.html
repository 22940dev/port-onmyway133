<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>onmyway133</title><meta description="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:type" content="blog"><meta property="og:title" content="onmyway133"><meta property="og:url" content="https://onmyway133.github.io/"><meta property="og:site_name" content="onmyway133"><meta property="og:description" content="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://onmyway133.github.io/img/og_image.png"><meta property="article:author" content="Khoa Pham"><meta property="article:tag" content="ios"><meta property="article:tag" content=" android"><meta property="article:tag" content="javascript"><meta property="article:tag" content=" react"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><meta property="twitter:creator" content="@onmyway133"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://onmyway133.github.io"},"headline":"onmyway133","image":["https://onmyway133.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Khoa Pham"},"description":"What you don&#39;t know is what you haven&#39;t learned"}</script><link rel="alternative" href="/atom.xml" title="onmyway133" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-40119591-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-40119591-5');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script data-ad-client="ca-pub-3656459401405265" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/apps">Apps</a><a class="navbar-item" href="/gumroad">Gumroad</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/opensource">Open Source</a><a class="navbar-item" href="/writing">Writing</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/speaking">Speaking</a><a class="navbar-item" href="/news">News</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-09T20:53:31.000Z" title="2019-12-09T20:53:31.000Z">2019-12-09</time><span class="level-item">a few seconds read (About 33 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-show-localized-text-in-SwiftUi/">How to show localized text in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/533">#533</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Environment</span>(\.locale) <span class="keyword">var</span> locale: <span class="type">Locale</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Text</span>(<span class="type">LocalizedStringKey</span>(<span class="string">"hello"</span>))</span><br><span class="line">                .font(.largeTitle)</span><br><span class="line">            <span class="type">Text</span>(flag(from: locale.regionCode!))</span><br><span class="line">                .font(.largeTitle)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-09T20:49:19.000Z" title="2019-12-09T20:49:19.000Z">2019-12-09</time><span class="level-item">a few seconds read (About 56 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-show-flag-emoji-from-country-code-in-Swift/">How to show flag emoji from country code in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/532">#532</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">flag</span><span class="params">(from country: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> base : <span class="type">UInt32</span> = <span class="number">127397</span></span><br><span class="line">    <span class="keyword">var</span> s = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> country.uppercased().unicodeScalars &#123;</span><br><span class="line">        s.unicodeScalars.append(<span class="type">UnicodeScalar</span>(base + v.value)!)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-moree"><a href="#Read-moree" class="headerlink" title="Read moree"></a>Read moree</h2><ul>
<li><a href="https://stackoverflow.com/a/36964988/1418457">Swift turn a country code into a emoji flag via unicode</a></li>
<li><a href="https://github.com/onmyway133/Smile">https://github.com/onmyway133/Smile</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-09T13:53:40.000Z" title="2019-12-09T13:53:40.000Z">2019-12-09</time><span class="level-item">a few seconds read (About 110 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-work-with-git/">How to work with git</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/531">#531</a></strong></p>
<h2 id="Expand-commits-in-Sublime-Merge"><a href="#Expand-commits-in-Sublime-Merge" class="headerlink" title="Expand commits in Sublime Merge"></a>Expand commits in Sublime Merge</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;expand_merge_commits_by_default&quot;: true,</span><br><span class="line">	&quot;translate_tabs_to_spaces&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="local-hooks-git-hooks-vs-hooksPath"><a href="#local-hooks-git-hooks-vs-hooksPath" class="headerlink" title="local hooks .git/hooks vs hooksPath"></a>local hooks .git/hooks vs hooksPath</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config core.hooksPath ~&#x2F;.git-templates&#x2F;hooks</span><br></pre></td></tr></table></figure>

<p>Only hooksPath gets run. Removing hooksPath make local hooks work</p>
<p><a href="https://stackoverflow.com/questions/39332407/git-hooks-applying-git-config-core-hookspath">https://stackoverflow.com/questions/39332407/git-hooks-applying-git-config-core-hookspath</a></p>
<h2 id="Use-git-templates"><a href="#Use-git-templates" class="headerlink" title="Use git templates"></a>Use git templates</h2><p><a href="https://coderwall.com/p/jp7d5q/create-a-global-git-commit-hook">https://coderwall.com/p/jp7d5q/create-a-global-git-commit-hook</a></p>
<h2 id="Define-alias-in-zshrc"><a href="#Define-alias-in-zshrc" class="headerlink" title="Define alias in zshrc"></a>Define alias in zshrc</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;.zshrc</span><br><span class="line">alias check&#x3D;&quot;~&#x2F;.git-templates&#x2F;hooks&#x2F;check.sh&quot;</span><br><span class="line">source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>

<h2 id="pre-commit"><a href="#pre-commit" class="headerlink" title="pre-commit"></a>pre-commit</h2><p><a href="https://itnext.io/using-git-hooks-to-enforce-branch-naming-policy-ffd81fa01e5e">https://itnext.io/using-git-hooks-to-enforce-branch-naming-policy-ffd81fa01e5e</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(feature|fix|refactor)\&#x2F;[a-z0-9-]+$</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-06T09:08:23.000Z" title="2019-12-06T09:08:23.000Z">2019-12-06</time><span class="level-item">a few seconds read (About 24 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-fix-cropped-image-in-UIImageView/">How to fix cropped image in UIImageView</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/530">#530</a></strong></p>
<p>Although <code>UIImageView</code> frame is correct, image is still cropped. Watch out for any <code>layer.mask</code> within view  </p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-05T11:23:22.000Z" title="2019-12-05T11:23:22.000Z">2019-12-05</time><span class="level-item">a few seconds read (About 79 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-decoration-view-in-UICollectionView/">How to use decoration view in UICollectionView</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/529">#529</a></strong></p>
<h2 id="indexPath"><a href="#indexPath" class="headerlink" title="indexPath"></a>indexPath</h2><p><a href="https://developer.apple.com/documentation/uikit/uicollectionviewlayoutattributes/1617786-layoutattributesfordecorationvie">https://developer.apple.com/documentation/uikit/uicollectionviewlayoutattributes/1617786-layoutattributesfordecorationvie</a></p>
<blockquote>
<p>It is up to you to decide how to use the indexPath parameter to identify a given decoration view. Typically, you use the decorationViewKind parameter to identify the type of the decoration view and the indexPath information to distinguish between different instances of that view.</p>
</blockquote>
<h2 id="Posts"><a href="#Posts" class="headerlink" title="Posts"></a>Posts</h2><ul>
<li>Add separator <a href="https://gist.github.com/tomaskraina/1eb291e4717f14ad6e0f8e60ffe9b7d3">https://gist.github.com/tomaskraina/1eb291e4717f14ad6e0f8e60ffe9b7d3</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-04T19:28:11.000Z" title="2019-12-04T19:28:11.000Z">2019-12-04</time><span class="level-item">a minute read (About 218 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-do-lense-in-Swift/">How to do lense in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/528">#528</a></strong></p>
<h2 id="What-is-lense"><a href="#What-is-lense" class="headerlink" title="What is lense"></a>What is lense</h2><p><a href="https://www.schoolofhaskell.com/school/to-infinity-and-beyond/pick-of-the-week/a-little-lens-starter-tutorial">https://www.schoolofhaskell.com/school/to-infinity-and-beyond/pick-of-the-week/a-little-lens-starter-tutorial</a></p>
<blockquote>
<p>A lens is a first-class reference to a subpart of some data type. For instance, we have _1 which is the lens that “focuses on” the first element of a pair. Given a lens there are essentially three things you might want to do</p>
</blockquote>
<blockquote>
<p>View the subpart<br>Modify the whole by changing the subpart<br>Combine this lens with another lens to look even deeper</p>
</blockquote>
<h2 id="Before-use-functional-approach"><a href="#Before-use-functional-approach" class="headerlink" title="Before, use functional approach"></a>Before, use functional approach</h2><p><a href="http://chris.eidhof.nl/post/lenses-in-swift/">http://chris.eidhof.nl/post/lenses-in-swift/</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name_ : <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> address_ : <span class="type">Address</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> street_ : <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> city_ : <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Lens</span>&lt;<span class="title">A</span>,<span class="title">B</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> from : <span class="type">A</span> -&gt; <span class="type">B</span></span><br><span class="line">    <span class="keyword">let</span> to : (<span class="type">B</span>, <span class="type">A</span>) -&gt; <span class="type">A</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> address : <span class="type">Lens</span>&lt;<span class="type">Person</span>,<span class="type">Address</span>&gt; = <span class="type">Lens</span>(from: &#123; $<span class="number">0</span>.address_ &#125;, to: &#123;</span><br><span class="line">    <span class="type">Person</span>(name_: $<span class="number">1</span>.name_, address_: $<span class="number">0</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> street : <span class="type">Lens</span>&lt;<span class="type">Address</span>,<span class="type">String</span>&gt; = <span class="type">Lens</span>(from: &#123; $<span class="number">0</span>.street_ &#125;, to: &#123;</span><br><span class="line">    <span class="type">Address</span>(street_: $<span class="number">0</span>, city_: $<span class="number">1</span>.city_)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newAddress = street.to(<span class="string">"My new street name"</span>, existingAddress)</span><br></pre></td></tr></table></figure>

<h2 id="Now-with-Keypath"><a href="#Now-with-Keypath" class="headerlink" title="Now, with Keypath"></a>Now, with Keypath</h2><p><a href="https://iankeen.tech/2018/06/05/type-safe-temporary-models/">https://iankeen.tech/2018/06/05/type-safe-temporary-models/</a><br><a href="https://swiftbysundell.com/articles/defining-testing-data-in-swift/">https://swiftbysundell.com/articles/defining-testing-data-in-swift/</a></p>
<p>Use KeyPath to modify struct data</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Stubbable</span>: <span class="title">Identifiable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">stub</span><span class="params">(withID id: Identifier&lt;<span class="keyword">Self</span>&gt;)</span></span> -&gt; <span class="type">Self</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stubbable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">setting</span>&lt;T&gt;<span class="params">(<span class="number">_</span> keyPath: WritableKeyPath&lt;<span class="keyword">Self</span>, T&gt;,</span></span></span><br><span class="line"><span class="function"><span class="params">                    to value: T)</span></span> -&gt; <span class="type">Self</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> stub = <span class="keyword">self</span></span><br><span class="line">        stub[keyPath: keyPath] = value</span><br><span class="line">        <span class="keyword">return</span> stub</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-02T10:11:38.000Z" title="2019-12-02T10:11:38.000Z">2019-12-02</time><span class="level-item">a few seconds read (About 65 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-convert-from-callback-to-Future-Publisher-in-Combine/">How to convert from callback to Future Publisher in Combine</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/527">#527</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Combine</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">TaskCompletion</span> = (<span class="type">Result</span>&lt;(), <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Task</span>: <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">(workflow: Workflow, completion: TaskCompletion)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">asPublisher</span><span class="params">(workflow: Workflow)</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;(), <span class="type">Error</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Future</span>(&#123; completion <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.run(workflow: workflow, completion: completion)</span><br><span class="line">        &#125;).eraseToAnyPublisher()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sequence = <span class="type">Publishers</span>.<span class="type">Sequence</span>&lt;[<span class="type">AnyPublisher</span>&lt;(), <span class="type">Error</span>&gt;], <span class="type">Error</span>&gt;(</span><br><span class="line">    sequence: tasks.<span class="built_in">map</span>(&#123; $<span class="number">0</span>.asPublisher(workflow: <span class="keyword">self</span>) &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-12-01T21:14:55.000Z" title="2019-12-01T21:14:55.000Z">2019-12-01</time><span class="level-item">a few seconds read (About 97 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-init-with-closure-in-Swift/">How to make init with closure in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/526">#526</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Build</span>: <span class="title">UsesXcodeBuild</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> arguments = [<span class="type">String</span>]()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(<span class="number">_</span> closure: (<span class="type">Build</span>) -&gt; <span class="type">Void</span> = &#123; <span class="number">_</span> <span class="keyword">in</span> &#125;) &#123;</span><br><span class="line">        closure(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-function-builder"><a href="#Use-function-builder" class="headerlink" title="Use function builder"></a>Use function builder</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Workflow</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> workingDirectory: <span class="type">String</span> = <span class="string">"."</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> tasks: [<span class="type">Task</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(@<span class="type">TaskBuilder</span> builder: () -&gt; [<span class="type">Task</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.tasks = builder()</span><br><span class="line">        <span class="keyword">self</span>.tasks.forEach &#123; task <span class="keyword">in</span></span><br><span class="line">            task.workflow = <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(@<span class="type">TaskBuilder</span> builder: () -&gt; <span class="type">Task</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.tasks = [builder()]</span><br><span class="line">        <span class="keyword">self</span>.tasks.forEach &#123; task <span class="keyword">in</span></span><br><span class="line">            task.workflow = <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">(@TaskBuilder builder: <span class="params">()</span></span></span> -&gt; [<span class="type">Task</span>]) &#123;</span><br><span class="line">    <span class="keyword">let</span> workflow = <span class="type">Workflow</span>(builder: builder)</span><br><span class="line">    workflow.run()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">(@TaskBuilder builder: <span class="params">()</span></span></span> -&gt; <span class="type">Task</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> workflow = <span class="type">Workflow</span>(builder: builder)</span><br><span class="line">    workflow.run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-30T20:42:11.000Z" title="2019-11-30T20:42:11.000Z">2019-11-30</time><span class="level-item">2 minutes read (About 309 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-test-a-developing-package-with-Swift-Package-Manager/">How to test a developing package with Swift Package Manager</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/525">#525</a></strong></p>
<h2 id="Use-macOS-Command-Line-project"><a href="#Use-macOS-Command-Line-project" class="headerlink" title="Use macOS Command Line project"></a>Use macOS Command Line project</h2><p>Example <a href="https://github.com/pumaswift/Puma">Puma</a></p>
<ul>
<li>Create a new macOS project, select Command Line Tool<img width="749" alt="Screenshot 2019-11-30 at 22 40 35" src="https://user-images.githubusercontent.com/2284279/69906344-6d816080-13c2-11ea-9592-43c037e6a226.png"></li>
<li>Drag <code>Puma.xcodeproj</code> as a sub project of our test project</li>
<li>Go to our TestPuma target, under <code>Link Binary with Libraries</code>, select Puma framework</li>
</ul>
<img width="1679" alt="Screenshot 2019-11-30 at 22 41 18" src="https://user-images.githubusercontent.com/2284279/69906361-97d31e00-13c2-11ea-9102-f75b66458fda.png">

<ul>
<li><p>Puma has dependencies on PumaCore and PumaiOS, but in Xcode we only need to select Puma framework</p>
</li>
<li><p>In code, we need to explicitly import PumaiOS framework if we use any of its classes</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Puma</span><br><span class="line"><span class="keyword">import</span> PumaiOS</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testDrive</span><span class="params">()</span></span> &#123;</span><br><span class="line">    run &#123;</span><br><span class="line">        <span class="type">SetVersionNumber</span> &#123;</span><br><span class="line">            $<span class="number">0</span>.buildNumberForAllTarget(<span class="string">"1.1"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>As our Puma.xcodeproj is inside this test project, we can drill down into our Puma.xcodeproj and update the code.</li>
</ul>
<h2 id="Workspace"><a href="#Workspace" class="headerlink" title="Workspace"></a>Workspace</h2><p>Instead of dragging Puma as a subproject of TestPuma, we can use workspace, and link Puma frameworks</p>
<img width="1680" alt="Screenshot 2019-12-14 at 21 36 32" src="https://user-images.githubusercontent.com/2284279/70854277-d33d1480-1eb9-11ea-90be-734f150ce418.png">

<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="Code-signing-for-frameworks"><a href="#Code-signing-for-frameworks" class="headerlink" title="Code signing for frameworks"></a>Code signing for frameworks</h3><p>To avoid signing issue, we need to select a Team for all  frameworks</p>
<blockquote>
<p>not valid for use in process using Library Validation: mapped file has no Team ID and is not a platform binary (signed with custom identity or adhoc?</p>
</blockquote>
<h3 id="Library-not-loaded"><a href="#Library-not-loaded" class="headerlink" title="Library not loaded"></a>Library not loaded</h3><p>Need to set runpath search path, read <a href="https://stackoverflow.com/questions/28577692/macos-command-line-tool-with-swift-cocoa-framework-library-not-loaded">https://stackoverflow.com/questions/28577692/macos-command-line-tool-with-swift-cocoa-framework-library-not-loaded</a></p>
<p>Specify <code>LD_RUNPATH_SEARCH_PATHS = @executable_path</code> in Build Settings</p>
<h3 id="missing-required-module-‘clibc’"><a href="#missing-required-module-‘clibc’" class="headerlink" title="missing required module ‘clibc’"></a>missing required module ‘clibc’</h3><p>Take a look at Puma -&gt; SPMLibc, there’s header search path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(SRCROOT)&#x2F;.build&#x2F;checkouts&#x2F;swift-package-manager&#x2F;Sources&#x2F;clibc&#x2F;include</span><br></pre></td></tr></table></figure>

<p>which is at the <code>.build</code> folder inside root</p>
<img width="897" alt="Screenshot 2019-12-14 at 21 55 30" src="https://user-images.githubusercontent.com/2284279/70854478-9888ab80-1ebc-11ea-8020-2389ae32a987.png">


<p>So for our TestPuma target, we need to add this header search path with the correct path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(SRCROOT)&#x2F;..&#x2F;..&#x2F;.build&#x2F;checkouts&#x2F;swift-package-manager&#x2F;Sources&#x2F;clibc&#x2F;include</span><br></pre></td></tr></table></figure>

<img width="1680" alt="Screenshot 2019-12-14 at 21 55 55" src="https://user-images.githubusercontent.com/2284279/70854477-9292ca80-1ebc-11ea-900d-57b2419f9d41.png">


<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://github.com/apple/swift-package-manager/blob/master/Documentation/Development.md#developing-using-xcode">Swift Package Manager Developing using Xcode</a></li>
<li><a href="https://useyourloaf.com/blog/editing-a-swift-package">Editing A Swift Package</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-30T20:28:40.000Z" title="2019-11-30T20:28:40.000Z">2019-11-30</time><span class="level-item">a few seconds read (About 62 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-method-from-protocol-extension-in-Swift/">How to use method from protocol extension in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/524">#524</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Any task that uses command line</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UsesCommandLine</span>: <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> program: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> arguments: <span class="type">Set</span>&lt;<span class="type">String</span>&gt; &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">UsesCommandLine</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> command = <span class="string">"\(program) \(arguments.joined(separator: "</span> <span class="string">"))"</span></span><br><span class="line">        <span class="type">Log</span>.command(command)</span><br><span class="line">        <span class="number">_</span> = <span class="keyword">try</span> <span class="type">Process</span>().run(command: command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Build</span>: <span class="title">UsesCommandLine</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"build"</span>)</span><br><span class="line">        <span class="keyword">try</span> (<span class="keyword">self</span> <span class="keyword">as</span> <span class="type">UsesCommandLine</span>).run()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-30T19:37:30.000Z" title="2019-11-30T19:37:30.000Z">2019-11-30</time><span class="level-item">a minute read (About 148 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-organize-dependencies-in-Swift-Package-Manager/">How to organize dependencies in Swift Package Manager</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/523">#523</a></strong></p>
<p>In <a href="https://github.com/pumaswift/Puma">Puma</a> I want to make build tools for iOS and Android, which should share some common infrastructure. So we can organize dependencies like.</p>
<p><code>Puma -&gt; PumaAndroid, PumaiOS -&gt; PumaCore -&gt; xcbeautify, Files, Colorizer</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// swift-tools-version:5.1</span></span><br><span class="line"><span class="comment">// The swift-tools-version declares the minimum version of Swift required to build this package.</span></span><br><span class="line"><span class="keyword">import</span> PackageDescription</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> package = <span class="type">Package</span>(</span><br><span class="line">    name: <span class="string">"Puma"</span>,</span><br><span class="line">    platforms: [.macOS(<span class="string">"10.15"</span>)],</span><br><span class="line">    products: [</span><br><span class="line">        .library(name: <span class="string">"Puma"</span>, targets: [<span class="string">"Puma"</span>])</span><br><span class="line">    ],</span><br><span class="line">    dependencies: [</span><br><span class="line">        .package(</span><br><span class="line">            url: <span class="string">"https://github.com/thii/xcbeautify.git"</span>,</span><br><span class="line">            .upToNextMajor(from: <span class="string">"0.4.1"</span>)</span><br><span class="line">        ),</span><br><span class="line">        .package(</span><br><span class="line">            url: <span class="string">"https://github.com/getGuaka/Colorizer"</span>,</span><br><span class="line">            .upToNextMajor(from: <span class="string">"0.2.0"</span>)</span><br><span class="line">        ),</span><br><span class="line">        .package(</span><br><span class="line">            url: <span class="string">"https://github.com/JohnSundell/Files.git"</span>,</span><br><span class="line">            .upToNextMajor(from : <span class="string">"3.1.0"</span>)</span><br><span class="line">        )</span><br><span class="line">    ],</span><br><span class="line">    targets: [</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"Puma"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"PumaiOS"</span>,</span><br><span class="line">                <span class="string">"PumaAndroid"</span>,</span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/Puma"</span></span><br><span class="line">        ),</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"PumaCore"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"XcbeautifyLib"</span>,</span><br><span class="line">                <span class="string">"Colorizer"</span>,</span><br><span class="line">                <span class="string">"Files"</span></span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/Core"</span></span><br><span class="line">        ),</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"PumaiOS"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"PumaCore"</span></span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/iOS"</span></span><br><span class="line">        ),</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"PumaAndroid"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"PumaCore"</span></span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/Android"</span></span><br><span class="line">        ),</span><br><span class="line">        .testTarget(</span><br><span class="line">            name: <span class="string">"PumaTests"</span>,</span><br><span class="line">            dependencies: [<span class="string">"Puma"</span></span><br><span class="line">            ]</span><br><span class="line">        )</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-30T19:26:25.000Z" title="2019-11-30T19:26:25.000Z">2019-11-30</time><span class="level-item">4 minutes read (About 621 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-provide-configurations-in-Swift/">How to provide configurations in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/522">#522</a></strong></p>
<p>Sometimes ago I created <a href="https://github.com/pumaswift/Puma">Puma</a>, which is a thin wrapper around Xcode commandline tools, for example <code>xcodebuild</code></p>
<p>There’s lots of arguments to pass in xcodebuild, and there are many tasks like build, test and archive that all uses this command.</p>
<h2 id="Use-Options-struct-to-encapsulate-parameters"><a href="#Use-Options-struct-to-encapsulate-parameters" class="headerlink" title="Use Options struct to encapsulate parameters"></a>Use Options struct to encapsulate parameters</h2><p>To avoid passing many parameters into a class, I tend to make an <code>Options</code> struct to encapsulate all passing parameters. I also use composition, where <code>Build.Options</code> and <code>Test.Options</code> contains <code>Xcodebuild.Options</code></p>
<p>This ensures that the caller must provide all needed parameters, when you can compile you are ensured that all required parameters are provided.</p>
<p>This is OK, but a bit rigid in a way that there are many more parameters we can pass into <code>xcodebuild</code> command, so we must provide a way for user to alter or add more parameters.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xcodebuildOptions = <span class="type">Xcodebuild</span>.<span class="type">Options</span>(</span><br><span class="line">    workspace: <span class="literal">nil</span>,</span><br><span class="line">    project: <span class="string">"TestApp"</span>,</span><br><span class="line">    scheme: <span class="string">"TestApp"</span>,</span><br><span class="line">    configuration: <span class="type">Configuration</span>.release,</span><br><span class="line">    sdk: <span class="type">Sdk</span>.iPhone,</span><br><span class="line">    signing: .auto(automaticSigning),</span><br><span class="line">    usesModernBuildSystem: <span class="literal">true</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">run &#123;</span><br><span class="line">    <span class="type">SetVersionNumber</span>(options: .<span class="keyword">init</span>(buildNumber: <span class="string">"1.1"</span>))</span><br><span class="line">    <span class="type">SetBuildNumber</span>(options: .<span class="keyword">init</span>(buildNumber: <span class="string">"2"</span>))</span><br><span class="line">    <span class="type">Build</span>(options: .<span class="keyword">init</span>(</span><br><span class="line">        buildOptions: xcodebuildOptions,</span><br><span class="line">        buildsForTesting: <span class="literal">true</span></span><br><span class="line">    ))</span><br><span class="line">    </span><br><span class="line">    <span class="type">Test</span>(options: .<span class="keyword">init</span>(</span><br><span class="line">        buildOptions: xcodebuildOptions,</span><br><span class="line">        destination: <span class="type">Destination</span>(</span><br><span class="line">            platform: <span class="type">Destination</span>.<span class="type">Platform</span>.iOSSimulator,</span><br><span class="line">            name: <span class="type">Destination</span>.<span class="type">Name</span>.iPhoneXr,</span><br><span class="line">            os: <span class="type">Destination</span>.<span class="type">OS</span>.os12_2</span><br><span class="line">        )</span><br><span class="line">    ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here is how to convert from Options to arguments to pass to our command. Because each parameter has different specifiers, like with double hyphens <code>--flag=true</code>, single hyphen <code>-flag=true</code> or just hyphen with a space between parameter key and value <code>-flag true</code>, we need to manually specify that, and concat them with string. Luckily, the order of parameters is not important</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">Xcodebuild</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">Options</span> </span>&#123;</span><br><span class="line">        <span class="comment">///  build the workspace NAME</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> workspace: <span class="type">String?</span></span><br><span class="line">        <span class="comment">/// build the project NAME</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> project: <span class="type">String</span></span><br><span class="line">        <span class="comment">/// build the scheme NAME</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> scheme: <span class="type">String</span></span><br><span class="line">        <span class="comment">/// use the build configuration NAME for building each target</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> configuration: <span class="type">String</span></span><br><span class="line">        <span class="comment">/// use SDK as the name or path of the base SDK when building the project</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> sdk: <span class="type">String?</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> signing: <span class="type">Signing?</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> usesModernBuildSystem: <span class="type">Bool</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">init</span>(</span><br><span class="line">            workspace: <span class="type">String?</span> = <span class="literal">nil</span>,</span><br><span class="line">            project: <span class="type">String</span>,</span><br><span class="line">            scheme: <span class="type">String</span>,</span><br><span class="line">            configuration: <span class="type">String</span> = <span class="type">Configuration</span>.debug,</span><br><span class="line">            sdk: <span class="type">String?</span> = <span class="type">Sdk</span>.iPhoneSimulator,</span><br><span class="line">            signing: <span class="type">Signing?</span> = <span class="literal">nil</span>,</span><br><span class="line">            usesModernBuildSystem: <span class="type">Bool</span> = <span class="literal">true</span>) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">self</span>.workspace = workspace</span><br><span class="line">            <span class="keyword">self</span>.project = project</span><br><span class="line">            <span class="keyword">self</span>.scheme = scheme</span><br><span class="line">            <span class="keyword">self</span>.configuration = configuration</span><br><span class="line">            <span class="keyword">self</span>.sdk = sdk</span><br><span class="line">            <span class="keyword">self</span>.signing = signing</span><br><span class="line">            <span class="keyword">self</span>.usesModernBuildSystem = usesModernBuildSystem</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Xcodebuild</span>.<span class="title">Options</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toArguments</span><span class="params">()</span></span> -&gt; [<span class="type">String?</span>] &#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            workspace.<span class="built_in">map</span>&#123; <span class="string">"-workspace \($0.addingFileExtension("</span>xcworkspace<span class="string">"))"</span> &#125;,</span><br><span class="line">            <span class="string">"-project \(project.addingFileExtension("</span>xcodeproj<span class="string">"))"</span>,</span><br><span class="line">            <span class="string">"-scheme \(scheme)"</span>,</span><br><span class="line">            <span class="string">"-configuration \(configuration)"</span>,</span><br><span class="line">            sdk.<span class="built_in">map</span> &#123; <span class="string">"-sdk \($0)"</span> &#125;,</span><br><span class="line">            <span class="string">"-UseModernBuildSystem=\(usesModernBuildSystem ? "</span><span class="type">YES</span><span class="string">": "</span><span class="type">NO</span><span class="string">")"</span></span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-convenient-methods"><a href="#Use-convenient-methods" class="headerlink" title="Use convenient methods"></a>Use convenient methods</h2><p>Another way is to have a <code>Set&lt;String&gt;</code> as a container of parameters, and provide common method via protocol extension</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Any task that uses command line</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UsesCommandLine</span>: <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> program: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> arguments: <span class="type">Set</span>&lt;<span class="type">String</span>&gt; &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">UsesCommandLine</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> command = <span class="string">"\(program) \(arguments.joined(separator: "</span> <span class="string">"))"</span></span><br><span class="line">        <span class="type">Log</span>.command(command)</span><br><span class="line">        <span class="number">_</span> = <span class="keyword">try</span> <span class="type">Process</span>().run(command: command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// Any task that uses xcodebuild</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UsesXcodeBuild</span>: <span class="title">UsesCommandLine</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">UsesXcodeBuild</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> program: <span class="type">String</span> &#123; <span class="string">"xcodebuild"</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> `<span class="title">default</span>`<span class="params">(project: String, scheme: String)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.project(project)</span><br><span class="line">        <span class="keyword">self</span>.scheme(scheme)</span><br><span class="line">        <span class="keyword">self</span>.configuration(<span class="type">Configuration</span>.debug)</span><br><span class="line">        <span class="keyword">self</span>.sdk(<span class="type">Sdk</span>.iPhoneSimulator)</span><br><span class="line">        <span class="keyword">self</span>.usesModernBuildSystem(enabled: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">project</span><span class="params">(<span class="number">_</span> name: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-project \(name.addingFileExtension("</span>xcodeproj<span class="string">"))"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">workspace</span><span class="params">(<span class="number">_</span> name: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-workspace \(name.addingFileExtension("</span>xcworkspace<span class="string">"))"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">scheme</span><span class="params">(<span class="number">_</span> name: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-scheme \(name)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">configuration</span><span class="params">(<span class="number">_</span> configuration: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-configuration \(configuration)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sdk</span><span class="params">(<span class="number">_</span> sdk: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-sdk \(sdk)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">usesModernBuildSystem</span><span class="params">(enabled: Bool)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-UseModernBuildSystem=\(enabled ? "</span><span class="type">YES</span><span class="string">": "</span><span class="type">NO</span><span class="string">")"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Build</span>: <span class="title">Task</span>, <span class="title">UsesXcodeBuild</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>: <span class="title">Task</span>, <span class="title">UsesXcodeBuild</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>Now the call site looks like this</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">run &#123;</span><br><span class="line">    <span class="type">SetVersionNumber</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.versionNumberForAllTargets(<span class="string">"1.1"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">SetBuildNumber</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.buildNumberForAllTargets(<span class="string">"2"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">Build</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.<span class="keyword">default</span>(project: <span class="string">"TestApp"</span>, scheme: <span class="string">"TestApp"</span>)</span><br><span class="line">        $<span class="number">0</span>.buildsForTesting(enabled: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">Test</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.<span class="keyword">default</span>(project: <span class="string">"TestApp"</span>, scheme: <span class="string">"TestApp"</span>)</span><br><span class="line">        $<span class="number">0</span>.testsWithoutBuilding(enabled: <span class="literal">true</span>)</span><br><span class="line">        $<span class="number">0</span>.destination(<span class="type">Destination</span>(</span><br><span class="line">            platform: <span class="type">Destination</span>.<span class="type">Platform</span>.iOSSimulator,</span><br><span class="line">            name: <span class="type">Destination</span>.<span class="type">Name</span>.iPhoneXr,</span><br><span class="line">            os: <span class="type">Destination</span>.<span class="type">OS</span>.os12_2</span><br><span class="line">        ))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-29T11:21:20.000Z" title="2019-11-29T11:21:20.000Z">2019-11-29</time><span class="level-item">a minute read (About 116 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-SurveyMonkey-in-React-Native/">How to use SurveyMonkey in React Native</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/521">#521</a></strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;React/RCTBridgeModule.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RNSurveyManager</span> : <span class="title">NSObject</span> &lt;<span class="title">RCTBridgeModule</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RNSurveyManager.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;React/RCTLog.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;SurveyMonkeyiOSSDK/SurveyMonkeyiOSSDK.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RNSurveyManager</span>()&lt;<span class="title">SMFeedbackDelegate</span>&gt;</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) SMFeedbackViewController * feedbackController;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RNSurveyManager</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)init &#123;</span><br><span class="line">  <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.feedbackController = [[SMFeedbackViewController alloc] initWithSurvey:<span class="string">@"VV8X5QA"</span>];</span><br><span class="line">    <span class="keyword">self</span>.feedbackController.delegate = <span class="keyword">self</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">BOOL</span>)requiresMainQueueSetup &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">dispatch_queue_t</span>)methodQueue &#123;</span><br><span class="line">  <span class="keyword">return</span> dispatch_get_main_queue();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">RCT_EXPORT_MODULE(SurveyManager);</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)respondentDidEndSurvey:(SMRespondent *)respondent error:(<span class="built_in">NSError</span> *)error &#123;</span><br><span class="line">  <span class="built_in">NSLog</span>(<span class="string">@"respondent %@ error %@"</span>, respondent, error);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">RCT_EXPORT_METHOD(show:(RCTResponseSenderBlock)callback) &#123;</span><br><span class="line">  [<span class="built_in">UIApplication</span>.sharedApplication.keyWindow.rootViewController</span><br><span class="line">   presentViewController:<span class="keyword">self</span>.feedbackController</span><br><span class="line">   animated:<span class="literal">YES</span></span><br><span class="line">   completion:^() &#123;</span><br><span class="line">     callback(@[]);</span><br><span class="line">   &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; NativeModules &#125; <span class="keyword">from</span> <span class="string">'react-native'</span></span><br><span class="line"></span><br><span class="line">type SurveyManagerType = &#123;</span><br><span class="line">  show: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> SurveyManager: SurveyManagerType = NativeModules.SurveyManager</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> SurveyManager</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-28T07:28:34.000Z" title="2019-11-28T07:28:34.000Z">2019-11-28</time><span class="level-item">a few seconds read (About 18 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-allow-unnotarized-app-to-run-on-macOS-Catalina/">How to allow unnotarized app to run on macOS Catalina</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/520">#520</a></strong></p>
<p>Remove quarantine</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xattr -d com.apple.quarantine /Applications/Flipper.app</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-27T08:06:51.000Z" title="2019-11-27T08:06:51.000Z">2019-11-27</time><span class="level-item">a few seconds read (About 45 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-flipper/">How to use flipper</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/519">#519</a></strong></p>
<h2 id="Run-the-app"><a href="#Run-the-app" class="headerlink" title="Run the app"></a>Run the app</h2><ul>
<li><a href="https://github.com/facebook/flipper">https://github.com/facebook/flipper</a><br><a href="https://facebook.github.io/watchman/docs/install.html#installing-on-os-x-via-homebrew">https://facebook.github.io/watchman/docs/install.html#installing-on-os-x-via-homebrew</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">brew install watchman</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;facebook&#x2F;flipper.git</span><br><span class="line">cd flipper</span><br><span class="line">yarn</span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-25T11:58:42.000Z" title="2019-11-25T11:58:42.000Z">2019-11-25</time><span class="level-item">a few seconds read (About 81 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-test-UserDefaults-in-iOS/">How to test UserDefaults in iOS</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/518">#518</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>(suiteName: suiteName)</span><br><span class="line">userDefaults.removePersistentDomain(forName: suiteName)</span><br></pre></td></tr></table></figure>

<p><a href="https://developer.apple.com/documentation/foundation/userdefaults/1417339-removepersistentdomain">https://developer.apple.com/documentation/foundation/userdefaults/1417339-removepersistentdomain</a></p>
<blockquote>
<p>Calling this method is equivalent to initializing a user defaults object with init(suiteName:) passing domainName, and calling the removeObject(forKey:) method on each of its keys.</p>
</blockquote>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://www.swiftbysundell.com/articles/the-power-of-userdefaults-in-swift/">https://www.swiftbysundell.com/articles/the-power-of-userdefaults-in-swift/</a></li>
<li><a href="http://dscoder.com/defaults.html">http://dscoder.com/defaults.html</a></li>
<li><a href="https://medium.com/swift-india/userdefaults-under-the-hood-457461c8d262">https://medium.com/swift-india/userdefaults-under-the-hood-457461c8d262</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-22T21:57:50.000Z" title="2019-11-22T21:57:50.000Z">2019-11-22</time><span class="level-item">a few seconds read (About 98 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-ForEach-with-ScrollView-in-SwiftUI/">How to use ForEach with ScrollView in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/517">#517</a></strong></p>
<p>Use <code>ScrollView -&gt; VStack -&gt; ForEach -&gt; Content</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SearchScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> searchObjects: [<span class="type">SearchObject</span>] = [</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By name"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byName: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By calling code"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byCallingCode: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By domain"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byDomain: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By language"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byLanguage: $<span class="number">0</span>) &#125;)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(searchObjects.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;), id: \.element.name, content: &#123; index, searchObject <span class="keyword">in</span></span><br><span class="line">                    <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                        <span class="type">Text</span>(searchObject.name)</span><br><span class="line">                            .styleLabel()</span><br><span class="line">                        <span class="type">TextField</span>(searchObject.textFieldName, text: <span class="keyword">self</span>.$searchObjects[index].text)</span><br><span class="line">                            .styleTitle()</span><br><span class="line">                        <span class="keyword">self</span>.makeButton(searchObject: <span class="keyword">self</span>.searchObjects[index])</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-22T21:56:34.000Z" title="2019-11-22T21:56:34.000Z">2019-11-22</time><span class="level-item">a minute read (About 177 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-modify-data-inside-array-in-SwiftUI/">How to modify data inside array in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/516">#516</a></strong></p>
<p>Suppose we have an array of <code>SearchObject</code>, and user can enter search query into <code>text</code> property.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SearchObject</span>: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> search: (<span class="type">String</span>) -&gt; [<span class="type">Country</span>]</span><br><span class="line">    <span class="keyword">var</span> text: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, search: @escaping (<span class="type">String</span>) -&gt; [<span class="type">Country</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.search = search</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Although <code>SearchObject</code> is class, when we use <code>ForEach</code>, the changes to passed object won’t be reflected in our array and there is no reload trigger, we need to point to object in array directly, like</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.$searchObjects[index].text</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SearchScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> searchObjects: [<span class="type">SearchObject</span>] = [</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By name"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byName: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By calling code"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byCallingCode: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By domain"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byDomain: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By language"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byLanguage: $<span class="number">0</span>) &#125;)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(searchObjects.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;), id: \.element.name, content: &#123; index, searchObject <span class="keyword">in</span></span><br><span class="line">                    <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                        <span class="type">Text</span>(searchObject.name)</span><br><span class="line">                            .styleLabel()</span><br><span class="line">                        <span class="type">TextField</span>(searchObject.textFieldName, text: <span class="keyword">self</span>.$searchObjects[index].text)</span><br><span class="line">                            .styleTitle()</span><br><span class="line">                        <span class="keyword">self</span>.makeButton(searchObject: <span class="keyword">self</span>.searchObjects[index])</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-22T20:34:37.000Z" title="2019-11-22T20:34:37.000Z">2019-11-22</time><span class="level-item">a few seconds read (About 52 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-index-in-SwiftUI-list/">How to use index in SwiftUI list</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/515">#515</a></strong></p>
<p>Use <code>enumerated</code> and <code>id: \.element.name</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CountriesView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> countries: [<span class="type">Country</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> withIndex = countries.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="type">List</span>(withIndex, id: \.element.name) &#123; index, country <span class="keyword">in</span></span><br><span class="line">            <span class="type">NavigationLink</span>(</span><br><span class="line">                destination: <span class="type">CountryView</span>(country: country),</span><br><span class="line">                label: &#123;</span><br><span class="line">                    <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                        <span class="type">Text</span>(country.name)</span><br><span class="line">                            .styleMultiline()</span><br><span class="line">                    &#125;</span><br><span class="line">                    .paddingVertically()</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-22T11:52:44.000Z" title="2019-11-22T11:52:44.000Z">2019-11-22</time><span class="level-item">a minute read (About 139 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-setup-multiple-git-accounts-for-GitHub-and-Bitbucket/">How to setup multiple git accounts for GitHub and Bitbucket</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/514">#514</a></strong></p>
<h2 id="Generate-SSH-keys"><a href="#Generate-SSH-keys" class="headerlink" title="Generate SSH keys"></a>Generate SSH keys</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;onmyway133@gmail.com&quot; -f &quot;id_rsa_github&quot;</span><br><span class="line">ssh-keygen -t rsa -C &quot;onmyway133bitbucket@gmail.com&quot; -f &quot;id_rsa_bitbucket&quot;</span><br><span class="line"></span><br><span class="line">pbcopy &lt; ~&#x2F;.ssh&#x2F;id_rsa_github.pub</span><br><span class="line">pbcopy &lt; ~&#x2F;.ssh&#x2F;id_rsa_bitbucket.pub</span><br><span class="line"></span><br><span class="line">ssh-add -D</span><br><span class="line">ssh-add id_rsa_github</span><br><span class="line">ssh-add id_rsa_bitbucket</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;.ssh&#x2F;config</span><br><span class="line"></span><br><span class="line">#Github (personal)</span><br><span class="line">  Host gh</span><br><span class="line">  HostName github.com</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_github</span><br><span class="line"></span><br><span class="line">#Bitbucket (work)</span><br><span class="line">  Host bb</span><br><span class="line">  HostName bitbucket.org</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_bitbucket</span><br></pre></td></tr></table></figure>

<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;onmyway133@gmail.com&quot;</span><br><span class="line">git config --local user.email &quot;onmyway133bitbucket@gmail.com&quot;</span><br></pre></td></tr></table></figure>


<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://medium.com/avocoders/github-and-bitbucket-accounts-in-a-same-pc-5f8c67fd89d2">https://medium.com/avocoders/github-and-bitbucket-accounts-in-a-same-pc-5f8c67fd89d2</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-config">https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-config</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-21T21:19:47.000Z" title="2019-11-21T21:19:47.000Z">2019-11-21</time><span class="level-item">a few seconds read (About 62 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-objectWillChange-in-Combine/">How to use objectWillChange in Combine</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/513">#513</a></strong></p>
<blockquote>
<p>A publisher that emits before the object has changed</p>
</blockquote>
<p>Use workaround <code>DispatchQueue</code> to wait another run loop to access <code>newValue</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.onReceive(store.objectWillChange, perform: &#123;</span><br><span class="line">    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">        <span class="keyword">self</span>.reload()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reload</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.isFavorite = store.isFavorite(country: country)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://forums.swift.org/t/combine-observableobject-in-uikit/28433">https://forums.swift.org/t/combine-observableobject-in-uikit/28433</a></li>
<li><a href="https://twitter.com/luka_bernardi/status/1155944329363349504">https://twitter.com/luka_bernardi/status/1155944329363349504</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-19T07:29:04.000Z" title="2019-11-19T07:29:04.000Z">2019-11-19</time><span class="level-item">a few seconds read (About 58 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-enable-z-and-zsh-autosuggestions-on-zsh/">How to enable z and zsh-autosuggestions on zsh</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/512">#512</a></strong></p>
<ul>
<li><a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md">https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md</a></li>
<li><a href="https://github.com/robbyrussell/oh-my-zsh/tree/master/plugins/z">https://github.com/robbyrussell/oh-my-zsh/tree/master/plugins/z</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-autosuggestions</span><br><span class="line"></span><br><span class="line">vim ~&#x2F;.zsh.rc</span><br><span class="line">&#x2F;plugins</span><br><span class="line">plugins&#x3D;(</span><br><span class="line">  git</span><br><span class="line">  z</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">source ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-16T21:57:51.000Z" title="2019-11-16T21:57:51.000Z">2019-11-16</time><span class="level-item">a few seconds read (About 51 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-show-list-with-section-in-SwiftUI/">How to show list with section in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/511">#511</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CountriesView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> groups: [<span class="type">Group</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(countries: [<span class="type">Country</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.groups = <span class="type">CountryManager</span>.shared.groups(countries: countries)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(groups) &#123; group <span class="keyword">in</span></span><br><span class="line">                <span class="type">Section</span>(</span><br><span class="line">                    header:</span><br><span class="line">                        <span class="type">Text</span>(group.initial)</span><br><span class="line">                            .foregroundColor(<span class="type">Color</span>.yellow)</span><br><span class="line">                            .styleTitle(),</span><br><span class="line">                    content: &#123;</span><br><span class="line">                        <span class="type">ForEach</span>(group.countries) &#123; country <span class="keyword">in</span></span><br><span class="line">                            <span class="type">CountryRow</span>(country: country)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-16T21:29:38.000Z" title="2019-11-16T21:29:38.000Z">2019-11-16</time><span class="level-item">a few seconds read (About 48 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-group-array-by-property-in-Swift/">How to  group array by property in  Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/510">#510</a></strong></p>
<p>Use <code>Dictionary(grouping:by:)</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">groups</span><span class="params">(countries: [Country])</span></span> -&gt; [<span class="type">Group</span>] &#123;</span><br><span class="line">    <span class="keyword">let</span> dictionary = <span class="type">Dictionary</span>(grouping: countries, by: &#123; <span class="type">String</span>($<span class="number">0</span>.name.<span class="keyword">prefix</span>(<span class="number">1</span>)) &#125;)</span><br><span class="line">    <span class="keyword">let</span> groups = dictionary</span><br><span class="line">        .<span class="built_in">map</span>(&#123; (key: <span class="type">String</span>, value: [<span class="type">Country</span>]) -&gt; <span class="type">Group</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> <span class="type">Group</span>(initial: key, countries: value)</span><br><span class="line">        &#125;)</span><br><span class="line">        .sorted(by: &#123; $<span class="number">0</span>.initial &lt; $<span class="number">1</span>.initial &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> groups</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-14T13:44:23.000Z" title="2019-11-14T13:44:23.000Z">2019-11-14</time><span class="level-item">a few seconds read (About 102 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-full-width-list-row-in-SwiftUI/">How to make full width list row in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/508">#508</a></strong></p>
<p>We need to use <code>frame(minWidth: 0, maxWidth: .infinity, alignment: .leading)</code>. Note that order is important, and <code>padding</code> should be first, and <code>background</code> after <code>frame</code> to apply color to the entire <code>frame</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BooksScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">BooksViewModel</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(viewModel.books) &#123; book <span class="keyword">in</span></span><br><span class="line">                <span class="type">RowView</span>(vault: book)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .listStyle(<span class="type">GroupedListStyle</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">struct</span> <span class="title">RowView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> book: <span class="type">Book</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">            <span class="type">Text</span>(book.name)</span><br><span class="line">                .foregroundColor(.white)</span><br><span class="line">                .font(.headline)</span><br><span class="line">            <span class="type">Text</span>(book.text)</span><br><span class="line">                .foregroundColor(.white)</span><br><span class="line">                .font(.subheadline)</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">        .frame(minWidth: <span class="number">0</span>, maxWidth: .infinity, alignment: .leading)</span><br><span class="line">        .background(<span class="type">Color</span>(hex: book.color))</span><br><span class="line">        .cornerRadius(<span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-14T11:27:24.000Z" title="2019-11-14T11:27:24.000Z">2019-11-14</time><span class="level-item">a minute read (About 115 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-full-screen-TabView-in-SwiftUI/">How to make full screen TabView in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/507">#507</a></strong></p>
<p><code>View</code> extends to the bottom, but not to the notch. We need to add <code>.edgesIgnoringSafeArea(.top)</code> to our <code>TabView</code> to tell <code>TabView</code> to extend all the way to the top.</p>
<p>Note that if we use <code>edgesIgnoringSafeArea(.all)</code> then <code>TabView</code> ‘s bar will be  dragged very down and broken.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MainScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="type">UITabBar</span>.appearance().backgroundColor = <span class="type">R</span>.color.barBackground</span><br><span class="line">        <span class="type">UITableView</span>.appearance().backgroundColor = .clear</span><br><span class="line">        <span class="type">UITableViewCell</span>.appearance().backgroundColor = .clear</span><br><span class="line">        <span class="type">UITableView</span>.appearance().tableFooterView = <span class="type">UIView</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="type">R</span>.color.background</span><br><span class="line">                .edgesIgnoringSafeArea(.all)</span><br><span class="line"></span><br><span class="line">            <span class="type">TabView</span> &#123;</span><br><span class="line">                <span class="type">PersonalScreen</span>()</span><br><span class="line">                    .tabItem(&#123;</span><br><span class="line">                        <span class="type">Image</span>(sfSymbol: .bagFill)</span><br><span class="line">                        <span class="type">Text</span>(<span class="string">"Personal"</span>)</span><br><span class="line">                            .styleTabBarItem()</span><br><span class="line">                    &#125;)</span><br><span class="line">                <span class="type">CloudScreen</span>()</span><br><span class="line">                    .tabItem(&#123;</span><br><span class="line">                        <span class="type">Image</span>(sfSymbol: .cloudFill)</span><br><span class="line">                        <span class="type">Text</span>(<span class="string">"Cloud"</span>)</span><br><span class="line">                            .styleTabBarItem()</span><br><span class="line">                    &#125;)</span><br><span class="line">                <span class="type">SettingsScreen</span>()</span><br><span class="line">                    .tabItem(&#123;</span><br><span class="line">                        <span class="type">Image</span>(sfSymbol: .gear)</span><br><span class="line">                        <span class="type">Text</span>(<span class="string">"Settings"</span>)</span><br><span class="line">                            .styleTabBarItem()</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            .edgesIgnoringSafeArea(.top)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-14T09:23:12.000Z" title="2019-11-14T09:23:12.000Z">2019-11-14</time><span class="level-item">a few seconds read (About 106 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-map-error-in-Combine/">How to map error in Combine</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/506">#506</a></strong></p>
<p>When a function expects <code>AnyPublisher&lt;[Book], Error&gt;</code> but in mock, we have <code>Just</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getBooks</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;[<span class="type">Book</span>], <span class="type">Error</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Just</span>([</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"1"</span>, name: <span class="string">"Book 1"</span>),</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"2"</span>, name: <span class="string">"Book 2"</span>),</span><br><span class="line">    ])</span><br><span class="line">    .eraseToAnyPublisher()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>There will be a mismatch, hence compile error</p>
<blockquote>
<p>Cannot convert return expression of type ‘AnyPublisher&lt;[Book], Just<Output>.Failure&gt;’ (aka ‘AnyPublisher&lt;Array<Book>, Never&gt;’) to return type ‘AnyPublisher&lt;[Book], Error&gt;’</p>
</blockquote>
<p>The reason is because Just produces <code>Never</code>, not <code>Error</code>. The workaround is to introduce <code>Error</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AppError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> impossible</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getBooks</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;[<span class="type">Book</span>], <span class="type">Error</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Just</span>([</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"1"</span>, name: <span class="string">"Book 1"</span>),</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"2"</span>, name: <span class="string">"Book 2"</span>),</span><br><span class="line">    ])</span><br><span class="line">    .mapError(&#123; <span class="number">_</span> <span class="keyword">in</span>  <span class="type">AppError</span>.impossible &#125;)</span><br><span class="line">    .eraseToAnyPublisher()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-13T19:48:58.000Z" title="2019-11-13T19:48:58.000Z">2019-11-13</time><span class="level-item">a few seconds read (About 28 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-fix-unable-to-infer-complex-closure-return-type-in-SwiftUI/">How to fix unable to infer complex closure return type in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/505">#505</a></strong></p>
<p>Make sure all <code>String</code> are passed into <code>Text</code>, not <code>Optional&lt;String&gt;</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(data.title)</span><br><span class="line">    <span class="type">Text</span>(data.description!)</span><br><span class="line">    <span class="type">Text</span>(data.text!)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-13T11:23:55.000Z" title="2019-11-13T11:23:55.000Z">2019-11-13</time><span class="level-item">a minute read (About 156 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-Swift-Package-Manager-package-for-multiple-platforms/">How to make Swift Package Manager package for multiple platforms</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/504">#504</a></strong></p>
<p><a href="https://twitter.com/NeoNacho/status/1181245484867801088?s=20">https://twitter.com/NeoNacho/status/1181245484867801088?s=20</a></p>
<blockquote>
<p>There’s no way to have platform specific sources or targets today, so you’ll have to take a different approach. I would recommend wrapping all OS specific files in #if os and just having one target. For tests, you could do something similar, one test target, but conditional tests</p>
</blockquote>
<p>Every files are in <code>Sources</code> folder, so we can use platform and version checks. For example <a href="https://github.com/onmyway133/Omnia">Omnia</a> is a Swift Package Manager that supports iOS, tvOS, watchOS, macOS and Catalyst.</p>
<p>For macOS only code, need to check for AppKit and Catalyst</p>
<p><code>https://github.com/onmyway133/Omnia/blob/master/Sources/macOS/ClickedCollectionView.swift</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">if</span> canImport(<span class="type">AppKit</span>) &amp;&amp; !targetEnvironment(macCatalyst)</span><br></pre></td></tr></table></figure>

<p>For SwiftUI feature, need to check for iOS 13 and macOS 10.15</p>
<p><code>https://github.com/onmyway133/Omnia/blob/master/Sources/SwiftUI/Utils/ImageLoader.swift</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@available</span>(iOS <span class="number">13.0</span>, <span class="type">OSX</span> <span class="number">10.15</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-11-13T10:10:29.000Z" title="2019-11-13T10:10:29.000Z">2019-11-13</time><span class="level-item">2 minutes read (About 307 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-simple-Redux-for-SwiftUI/">How to make simple Redux for SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/502">#502</a></strong></p>
<p><code>Mutation</code> is used to mutate state synchronously. <code>Action</code> is like intent, either from app or from user action. <code>Action</code> maps to <code>Mutation</code> in form of <code>Publisher</code> to work  with  async action, similar to <a href="https://github.com/redux-observable/redux-observable">redux-observable</a></p>
<p><code>AnyReducer</code> is a type erasure that takes the <code>reduce</code> function</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Combine</span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Reducer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">State</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Mutation</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">reduce</span><span class="params">(state: State, mutation: Mutation)</span></span> -&gt; <span class="type">State</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">AnyReducer</span>&lt;<span class="title">State</span>, <span class="title">Mutation</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> <span class="built_in">reduce</span>: (<span class="type">State</span>, <span class="type">Mutation</span>) -&gt; <span class="type">State</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>&lt;<span class="type">R</span>: <span class="type">Reducer</span>&gt;(reducer: <span class="type">R</span>) <span class="keyword">where</span> <span class="type">R</span>.<span class="type">State</span> == <span class="type">State</span>, <span class="type">R</span>.<span class="type">Mutation</span> == <span class="type">Mutation</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="built_in">reduce</span> = reducer.<span class="built_in">reduce</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Mutation</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toMutation</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;<span class="type">Mutation</span>, <span class="type">Never</span>&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Store</span>&lt;<span class="title">State</span>, <span class="title">Mutation</span>&gt;: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    @<span class="type">Published</span> <span class="keyword">public</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> state: <span class="type">State</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> reducer: <span class="type">AnyReducer</span>&lt;<span class="type">State</span>, <span class="type">Mutation</span>&gt;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> cancellables = <span class="type">Set</span>&lt;<span class="type">AnyCancellable</span>&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(initialState: <span class="type">State</span>, reducer: <span class="type">AnyReducer</span>&lt;<span class="type">State</span>, <span class="type">Mutation</span>&gt;) &#123;</span><br><span class="line">        <span class="keyword">self</span>.state = initialState</span><br><span class="line">        <span class="keyword">self</span>.reducer = reducer</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">send</span>&lt;A: Action&gt;<span class="params">(action: A)</span></span> <span class="keyword">where</span> <span class="type">A</span>.<span class="type">Mutation</span> == <span class="type">Mutation</span> &#123;</span><br><span class="line">        action</span><br><span class="line">            .toMutation()</span><br><span class="line">            .receive(on: <span class="type">DispatchQueue</span>.main)</span><br><span class="line">            .sink(receiveValue: update(mutation:))</span><br><span class="line">            .store(<span class="keyword">in</span>: &amp;cancellables)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">(mutation: Mutation)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.state = reducer.<span class="built_in">reduce</span>(state, mutation)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To use, conform to all the protocols. Also make typelias <code>AppStore</code> in order to easy specify type in <code>SwiftUI View</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">import</span> Combine</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">AppStore</span> = <span class="type">Store</span>&lt;<span class="type">AppState</span>, <span class="type">AppMutation</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> appStore: <span class="type">AppStore</span> = <span class="type">AppStore</span>(</span><br><span class="line">    initialState: <span class="type">AppState</span>(),</span><br><span class="line">    reducer: appReducer</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AppState</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hasShownOnboaring = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AppReducer</span>: <span class="title">Reducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">reduce</span><span class="params">(state: AppState, mutation: AppMutation)</span></span> -&gt; <span class="type">AppState</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> state = state</span><br><span class="line">        <span class="keyword">switch</span> mutation &#123;</span><br><span class="line">        <span class="keyword">case</span> .finishOnboarding:</span><br><span class="line">            state.hasShownOnboaring = <span class="literal">true</span></span><br><span class="line">        @unknown <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AppMutation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> finishOnboarding</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Use in  SwiftUI</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">RootScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">EnvironmentObject</span> <span class="keyword">var</span> store: <span class="type">AppStore</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> store.state.hasShownOnboaring &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"Welcome"</span>)</span><br><span class="line">                .eraseToAnyView()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">OnboardingScreen</span>()</span><br><span class="line">                .eraseToAnyView()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OnboardingScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">EnvironmentObject</span> <span class="keyword">var</span> store: <span class="type">AppStore</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">done</span><span class="params">()</span></span> &#123;</span><br><span class="line">        store.send(action: <span class="type">AppAction</span>.finishOnboarding)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://swiftwithmajid.com/2019/09/18/redux-like-state-container-in-swiftui/">https://swiftwithmajid.com/2019/09/18/redux-like-state-container-in-swiftui/</a></li>
<li><a href="https://github.com/mecid/swiftui-recipes-app">https://github.com/mecid/swiftui-recipes-app</a></li>
</ul>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/page/5/">Previous</a></div><div class="pagination-next"><a href="/page/7/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/5/">5</a></li><li><a class="pagination-link is-current" href="/page/6/">6</a></li><li><a class="pagination-link" href="/page/7/">7</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/21/">21</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="https://avatars1.githubusercontent.com/u/2284279?s=460&amp;v=4" alt="onmyway133"></figure><p class="title is-size-4 is-block line-height-inherit">onmyway133</p><p class="is-size-6 is-block">iOS, macOS, Android, React. Serial maker. Writer. Speaker.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Oslo, Norway</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">629</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">52</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/onmyway133" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/onmyway133"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://onmyway133.com/apps" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Apps</span></span><span class="level-right"><span class="level-item tag">onmyway133.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://learntalks.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Learn Talks</span></span><span class="level-right"><span class="level-item tag">learntalks.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-11T02:11:14.000Z">2020-10-11</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-test-push-notifications-in-simulator-and-production-iOS-apps/">How to test push notifications in simulator and production iOS apps</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-07T03:01:55.000Z">2020-10-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-style-multiline-Text-in-SwiftUI-for-macOS/">How to style multiline Text in SwiftUI for macOS</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-04T03:14:08.000Z">2020-10-04</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-clear-List-background-color-in-SwiftUI-for-macOS/">How to clear List background color in SwiftUI for macOS</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-01T03:05:30.000Z">2020-10-01</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-avoid-reduced-opacity-when-hiding-view-with-animation-in-SwiftUI/">How to avoid reduced opacity when hiding view with animation in SwiftUI</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-01T02:24:15.000Z">2020-10-01</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-dynamically-add-items-to-VStack-from-list-in-SwiftUI/">How to dynamically add items to VStack from list in SwiftUI</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">38</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">50</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">48</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/06/"><span class="level-start"><span class="level-item">June 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">35</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/04/"><span class="level-start"><span class="level-item">April 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apple-script/"><span class="tag">apple script</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/catalyst/"><span class="tag">catalyst</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ci/"><span class="tag">ci</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cloud/"><span class="tag">cloud</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cocoapods/"><span class="tag">cocoapods</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/combine/"><span class="tag">combine</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/core-data/"><span class="tag">core data</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dart/"><span class="tag">dart</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design/"><span class="tag">design</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/electron/"><span class="tag">electron</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firebase/"><span class="tag">firebase</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flutter/"><span class="tag">flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/google/"><span class="tag">google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">162</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag is-grey-lightest">47</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kotlin/"><span class="tag">kotlin</span><span class="tag is-grey-lightest">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/layout/"><span class="tag">layout</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/links/"><span class="tag">links</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">103</span></a></div><div class="control"><a class="tags has-addons" href="/tags/machine-learning/"><span class="tag">machine learning</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maps/"><span class="tag">maps</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/networking/"><span class="tag">networking</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/objc/"><span class="tag">objc</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag is-grey-lightest">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/realm/"><span class="tag">realm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rx/"><span class="tag">rx</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/script/"><span class="tag">script</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spm/"><span class="tag">spm</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swift/"><span class="tag">swift</span><span class="tag is-grey-lightest">283</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swiftUI/"><span class="tag">swiftUI</span><span class="tag is-grey-lightest">58</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tech/"><span class="tag">tech</span><span class="tag is-grey-lightest">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/testing/"><span class="tag">testing</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tool/"><span class="tag">tool</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/voip/"><span class="tag">voip</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/watchOS/"><span class="tag">watchOS</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wwdc/"><span class="tag">wwdc</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xcode/"><span class="tag">xcode</span><span class="tag is-grey-lightest">23</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=c2r59mmt2n5k0o5dt5vv3nq4u4&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="c2r59mmt2n5k0o5dt5vv3nq4u4" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a><p class="size-small"><span>&copy; 2020 Khoa Pham</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://onmyway133.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>