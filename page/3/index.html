<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>onmyway133</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="ios, android, kotlin, mac, swift, electron, javascript, node">
  
  
  
  
  <meta name="description" content="What you don&apos;t know is what you haven&apos;t learned">
<meta name="keywords" content="ios, android,javascript, react">
<meta property="og:type" content="website">
<meta property="og:title" content="onmyway133">
<meta property="og:url" content="https://onmyway133.github.io/page/3/index.html">
<meta property="og:site_name" content="onmyway133">
<meta property="og:description" content="What you don&apos;t know is what you haven&apos;t learned">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onmyway133">
<meta name="twitter:description" content="What you don&apos;t know is what you haven&apos;t learned">
  
    <link rel="alternate" href="/atom.xml" title="onmyway133" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/about/"] = "About"; 

  themeMenus["/writing/"] = "writing"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/speaking/"] = "speaking"; 

  themeMenus["/opensource/"] = "open source"; 

  themeMenus["/projects/"] = "projects"; 

  themeMenus["/news/"] = "news"; 

  themeMenus["/gumroad/"] = "gumroad"; 

  themeMenus["/atom.xml"] = "rss"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="onmyway133" rel="home"> onmyway133 </a>
            
          </h1>

          
            <div class="site-description">What you don&#39;t know is what you haven&#39;t learned</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about/">About</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/writing/">writing</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/speaking/">speaking</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/opensource/">open source</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/projects/">projects</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/news/">news</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/gumroad/">gumroad</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/atom.xml">rss</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt="" src="">
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "https://avatars1.githubusercontent.com/u/2284279?s=460&v=4".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-How-to-show-flag-emoji-from-country-code-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-show-flag-emoji-from-country-code-in-Swift/">How to show flag emoji from country code in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-show-flag-emoji-from-country-code-in-Swift/" class="article-date">
	  <time datetime="2019-12-09T20:49:19.000Z" itemprop="datePublished">December 9, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/532" target="_blank" rel="noopener">#532</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">flag</span><span class="params">(from country: String)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> base : <span class="type">UInt32</span> = <span class="number">127397</span></span><br><span class="line">    <span class="keyword">var</span> s = <span class="string">""</span></span><br><span class="line">    <span class="keyword">for</span> v <span class="keyword">in</span> country.uppercased().unicodeScalars &#123;</span><br><span class="line">        s.unicodeScalars.append(<span class="type">UnicodeScalar</span>(base + v.value)!)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-moree"><a href="#Read-moree" class="headerlink" title="Read moree"></a>Read moree</h2><ul>
<li><a href="https://stackoverflow.com/a/36964988/1418457" target="_blank" rel="noopener">Swift turn a country code into a emoji flag via unicode</a></li>
<li><a href="https://github.com/onmyway133/Smile" target="_blank" rel="noopener">https://github.com/onmyway133/Smile</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-work-with-git"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-work-with-git/">How to work with git</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-work-with-git/" class="article-date">
	  <time datetime="2019-12-09T13:53:40.000Z" itemprop="datePublished">December 9, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/531" target="_blank" rel="noopener">#531</a></strong></p>
<h2 id="Expand-commits-in-Sublime-Merge"><a href="#Expand-commits-in-Sublime-Merge" class="headerlink" title="Expand commits in Sublime Merge"></a>Expand commits in Sublime Merge</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;expand_merge_commits_by_default&quot;: true,</span><br><span class="line">	&quot;translate_tabs_to_spaces&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="local-hooks-git-hooks-vs-hooksPath"><a href="#local-hooks-git-hooks-vs-hooksPath" class="headerlink" title="local hooks .git/hooks vs hooksPath"></a>local hooks .git/hooks vs hooksPath</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config core.hooksPath ~/.git-templates/hooks</span><br></pre></td></tr></table></figure>

<p>Only hooksPath gets run. Removing hooksPath make local hooks work</p>
<p><a href="https://stackoverflow.com/questions/39332407/git-hooks-applying-git-config-core-hookspath" target="_blank" rel="noopener">https://stackoverflow.com/questions/39332407/git-hooks-applying-git-config-core-hookspath</a></p>
<h2 id="Use-git-templates"><a href="#Use-git-templates" class="headerlink" title="Use git templates"></a>Use git templates</h2><p><a href="https://coderwall.com/p/jp7d5q/create-a-global-git-commit-hook" target="_blank" rel="noopener">https://coderwall.com/p/jp7d5q/create-a-global-git-commit-hook</a></p>
<h2 id="Define-alias-in-zshrc"><a href="#Define-alias-in-zshrc" class="headerlink" title="Define alias in zshrc"></a>Define alias in zshrc</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.zshrc</span><br><span class="line">alias check=&quot;~/.git-templates/hooks/check.sh&quot;</span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>

<h2 id="pre-commit"><a href="#pre-commit" class="headerlink" title="pre-commit"></a>pre-commit</h2><p><a href="https://itnext.io/using-git-hooks-to-enforce-branch-naming-policy-ffd81fa01e5e" target="_blank" rel="noopener">https://itnext.io/using-git-hooks-to-enforce-branch-naming-policy-ffd81fa01e5e</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(feature|fix|refactor)\/[a-z0-9-]+$</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-fix-cropped-image-in-UIImageView"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-fix-cropped-image-in-UIImageView/">How to fix cropped image in UIImageView</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-fix-cropped-image-in-UIImageView/" class="article-date">
	  <time datetime="2019-12-06T09:08:23.000Z" itemprop="datePublished">December 6, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/530" target="_blank" rel="noopener">#530</a></strong></p>
<p>Although <code>UIImageView</code> frame is correct, image is still cropped. Watch out for any <code>layer.mask</code> within view  </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-decoration-view-in-UICollectionView"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-decoration-view-in-UICollectionView/">How to use decoration view in UICollectionView</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-decoration-view-in-UICollectionView/" class="article-date">
	  <time datetime="2019-12-05T11:23:22.000Z" itemprop="datePublished">December 5, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/529" target="_blank" rel="noopener">#529</a></strong></p>
<h2 id="indexPath"><a href="#indexPath" class="headerlink" title="indexPath"></a>indexPath</h2><p><a href="https://developer.apple.com/documentation/uikit/uicollectionviewlayoutattributes/1617786-layoutattributesfordecorationvie" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/uicollectionviewlayoutattributes/1617786-layoutattributesfordecorationvie</a></p>
<blockquote>
<p>It is up to you to decide how to use the indexPath parameter to identify a given decoration view. Typically, you use the decorationViewKind parameter to identify the type of the decoration view and the indexPath information to distinguish between different instances of that view.</p>
</blockquote>
<h2 id="Posts"><a href="#Posts" class="headerlink" title="Posts"></a>Posts</h2><ul>
<li>Add separator <a href="https://gist.github.com/tomaskraina/1eb291e4717f14ad6e0f8e60ffe9b7d3" target="_blank" rel="noopener">https://gist.github.com/tomaskraina/1eb291e4717f14ad6e0f8e60ffe9b7d3</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-do-lense-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-do-lense-in-Swift/">How to do lense in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-do-lense-in-Swift/" class="article-date">
	  <time datetime="2019-12-04T19:28:11.000Z" itemprop="datePublished">December 4, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/528" target="_blank" rel="noopener">#528</a></strong></p>
<h2 id="What-is-lense"><a href="#What-is-lense" class="headerlink" title="What is lense"></a>What is lense</h2><p><a href="https://www.schoolofhaskell.com/school/to-infinity-and-beyond/pick-of-the-week/a-little-lens-starter-tutorial" target="_blank" rel="noopener">https://www.schoolofhaskell.com/school/to-infinity-and-beyond/pick-of-the-week/a-little-lens-starter-tutorial</a></p>
<blockquote>
<p>A lens is a first-class reference to a subpart of some data type. For instance, we have _1 which is the lens that “focuses on” the first element of a pair. Given a lens there are essentially three things you might want to do</p>
</blockquote>
<blockquote>
<p>View the subpart<br>Modify the whole by changing the subpart<br>Combine this lens with another lens to look even deeper</p>
</blockquote>
<h2 id="Before-use-functional-approach"><a href="#Before-use-functional-approach" class="headerlink" title="Before, use functional approach"></a>Before, use functional approach</h2><p><a href="http://chris.eidhof.nl/post/lenses-in-swift/" target="_blank" rel="noopener">http://chris.eidhof.nl/post/lenses-in-swift/</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name_ : <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> address_ : <span class="type">Address</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> street_ : <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> city_ : <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Lens</span>&lt;<span class="title">A</span>,<span class="title">B</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> from : <span class="type">A</span> -&gt; <span class="type">B</span></span><br><span class="line">    <span class="keyword">let</span> to : (<span class="type">B</span>, <span class="type">A</span>) -&gt; <span class="type">A</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> address : <span class="type">Lens</span>&lt;<span class="type">Person</span>,<span class="type">Address</span>&gt; = <span class="type">Lens</span>(from: &#123; $<span class="number">0</span>.address_ &#125;, to: &#123;</span><br><span class="line">    <span class="type">Person</span>(name_: $<span class="number">1</span>.name_, address_: $<span class="number">0</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> street : <span class="type">Lens</span>&lt;<span class="type">Address</span>,<span class="type">String</span>&gt; = <span class="type">Lens</span>(from: &#123; $<span class="number">0</span>.street_ &#125;, to: &#123;</span><br><span class="line">    <span class="type">Address</span>(street_: $<span class="number">0</span>, city_: $<span class="number">1</span>.city_)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> newAddress = street.to(<span class="string">"My new street name"</span>, existingAddress)</span><br></pre></td></tr></table></figure>

<h2 id="Now-with-Keypath"><a href="#Now-with-Keypath" class="headerlink" title="Now, with Keypath"></a>Now, with Keypath</h2><p><a href="https://iankeen.tech/2018/06/05/type-safe-temporary-models/" target="_blank" rel="noopener">https://iankeen.tech/2018/06/05/type-safe-temporary-models/</a><br><a href="https://swiftbysundell.com/articles/defining-testing-data-in-swift/" target="_blank" rel="noopener">https://swiftbysundell.com/articles/defining-testing-data-in-swift/</a></p>
<p>Use KeyPath to modify struct data</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Stubbable</span>: <span class="title">Identifiable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">stub</span><span class="params">(withID id: Identifier&lt;<span class="keyword">Self</span>&gt;)</span></span> -&gt; <span class="type">Self</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stubbable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">setting</span>&lt;T&gt;<span class="params">(<span class="number">_</span> keyPath: WritableKeyPath&lt;<span class="keyword">Self</span>, T&gt;,</span></span></span><br><span class="line"><span class="function"><span class="params">                    to value: T)</span></span> -&gt; <span class="type">Self</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> stub = <span class="keyword">self</span></span><br><span class="line">        stub[keyPath: keyPath] = value</span><br><span class="line">        <span class="keyword">return</span> stub</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-convert-from-callback-to-Future-Publisher-in-Combine"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-convert-from-callback-to-Future-Publisher-in-Combine/">How to convert from callback to Future Publisher in Combine</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-convert-from-callback-to-Future-Publisher-in-Combine/" class="article-date">
	  <time datetime="2019-12-02T10:11:38.000Z" itemprop="datePublished">December 2, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/527" target="_blank" rel="noopener">#527</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Combine</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">typealias</span> <span class="type">TaskCompletion</span> = (<span class="type">Result</span>&lt;(), <span class="type">Error</span>&gt;) -&gt; <span class="type">Void</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Task</span>: <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">(workflow: Workflow, completion: TaskCompletion)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">asPublisher</span><span class="params">(workflow: Workflow)</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;(), <span class="type">Error</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Future</span>(&#123; completion <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.run(workflow: workflow, completion: completion)</span><br><span class="line">        &#125;).eraseToAnyPublisher()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sequence = <span class="type">Publishers</span>.<span class="type">Sequence</span>&lt;[<span class="type">AnyPublisher</span>&lt;(), <span class="type">Error</span>&gt;], <span class="type">Error</span>&gt;(</span><br><span class="line">    sequence: tasks.<span class="built_in">map</span>(&#123; $<span class="number">0</span>.asPublisher(workflow: <span class="keyword">self</span>) &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/combine/">combine</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-make-init-with-closure-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-init-with-closure-in-Swift/">How to make init with closure in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-init-with-closure-in-Swift/" class="article-date">
	  <time datetime="2019-12-01T21:14:55.000Z" itemprop="datePublished">December 1, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/526" target="_blank" rel="noopener">#526</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Build</span>: <span class="title">UsesXcodeBuild</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> arguments = [<span class="type">String</span>]()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(<span class="number">_</span> closure: (<span class="type">Build</span>) -&gt; <span class="type">Void</span> = &#123; <span class="number">_</span> <span class="keyword">in</span> &#125;) &#123;</span><br><span class="line">        closure(<span class="keyword">self</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-function-builder"><a href="#Use-function-builder" class="headerlink" title="Use function builder"></a>Use function builder</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Workflow</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> workingDirectory: <span class="type">String</span> = <span class="string">"."</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> tasks: [<span class="type">Task</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(@<span class="type">TaskBuilder</span> builder: () -&gt; [<span class="type">Task</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.tasks = builder()</span><br><span class="line">        <span class="keyword">self</span>.tasks.forEach &#123; task <span class="keyword">in</span></span><br><span class="line">            task.workflow = <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(@<span class="type">TaskBuilder</span> builder: () -&gt; <span class="type">Task</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.tasks = [builder()]</span><br><span class="line">        <span class="keyword">self</span>.tasks.forEach &#123; task <span class="keyword">in</span></span><br><span class="line">            task.workflow = <span class="keyword">self</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">(@TaskBuilder builder: <span class="params">()</span></span></span> -&gt; [<span class="type">Task</span>]) &#123;</span><br><span class="line">    <span class="keyword">let</span> workflow = <span class="type">Workflow</span>(builder: builder)</span><br><span class="line">    workflow.run()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">(@TaskBuilder builder: <span class="params">()</span></span></span> -&gt; <span class="type">Task</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> workflow = <span class="type">Workflow</span>(builder: builder)</span><br><span class="line">    workflow.run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-test-a-developing-package-with-Swift-Package-Manager"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-test-a-developing-package-with-Swift-Package-Manager/">How to test a developing package with Swift Package Manager</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-test-a-developing-package-with-Swift-Package-Manager/" class="article-date">
	  <time datetime="2019-11-30T20:42:11.000Z" itemprop="datePublished">November 30, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/525" target="_blank" rel="noopener">#525</a></strong></p>
<h2 id="Use-macOS-Command-Line-project"><a href="#Use-macOS-Command-Line-project" class="headerlink" title="Use macOS Command Line project"></a>Use macOS Command Line project</h2><p>Example <a href="https://github.com/pumaswift/Puma" target="_blank" rel="noopener">Puma</a></p>
<ul>
<li>Create a new macOS project, select Command Line Tool<img width="749" alt="Screenshot 2019-11-30 at 22 40 35" src="https://user-images.githubusercontent.com/2284279/69906344-6d816080-13c2-11ea-9592-43c037e6a226.png"></li>
<li>Drag <code>Puma.xcodeproj</code> as a sub project of our test project</li>
<li>Go to our TestPuma target, under <code>Link Binary with Libraries</code>, select Puma framework</li>
</ul>
<img width="1679" alt="Screenshot 2019-11-30 at 22 41 18" src="https://user-images.githubusercontent.com/2284279/69906361-97d31e00-13c2-11ea-9102-f75b66458fda.png">

<ul>
<li><p>Puma has dependencies on PumaCore and PumaiOS, but in Xcode we only need to select Puma framework</p>
</li>
<li><p>In code, we need to explicitly import PumaiOS framework if we use any of its classes</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"><span class="keyword">import</span> Puma</span><br><span class="line"><span class="keyword">import</span> PumaiOS</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testDrive</span><span class="params">()</span></span> &#123;</span><br><span class="line">    run &#123;</span><br><span class="line">        <span class="type">SetVersionNumber</span> &#123;</span><br><span class="line">            $<span class="number">0</span>.buildNumberForAllTarget(<span class="string">"1.1"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>As our Puma.xcodeproj is inside this test project, we can drill down into our Puma.xcodeproj and update the code.</li>
</ul>
<h2 id="Workspace"><a href="#Workspace" class="headerlink" title="Workspace"></a>Workspace</h2><p>Instead of dragging Puma as a subproject of TestPuma, we can use workspace, and link Puma frameworks</p>
<img width="1680" alt="Screenshot 2019-12-14 at 21 36 32" src="https://user-images.githubusercontent.com/2284279/70854277-d33d1480-1eb9-11ea-90be-734f150ce418.png">

<h2 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h2><h3 id="Code-signing-for-frameworks"><a href="#Code-signing-for-frameworks" class="headerlink" title="Code signing for frameworks"></a>Code signing for frameworks</h3><p>To avoid signing issue, we need to select a Team for all  frameworks</p>
<blockquote>
<p>not valid for use in process using Library Validation: mapped file has no Team ID and is not a platform binary (signed with custom identity or adhoc?</p>
</blockquote>
<h3 id="Library-not-loaded"><a href="#Library-not-loaded" class="headerlink" title="Library not loaded"></a>Library not loaded</h3><p>Need to set runpath search path, read <a href="https://stackoverflow.com/questions/28577692/macos-command-line-tool-with-swift-cocoa-framework-library-not-loaded" target="_blank" rel="noopener">https://stackoverflow.com/questions/28577692/macos-command-line-tool-with-swift-cocoa-framework-library-not-loaded</a></p>
<p>Specify <code>LD_RUNPATH_SEARCH_PATHS = @executable_path</code> in Build Settings</p>
<h3 id="missing-required-module-‘clibc’"><a href="#missing-required-module-‘clibc’" class="headerlink" title="missing required module ‘clibc’"></a>missing required module ‘clibc’</h3><p>Take a look at Puma -&gt; SPMLibc, there’s header search path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(SRCROOT)/.build/checkouts/swift-package-manager/Sources/clibc/include</span><br></pre></td></tr></table></figure>

<p>which is at the <code>.build</code> folder inside root</p>
<img width="897" alt="Screenshot 2019-12-14 at 21 55 30" src="https://user-images.githubusercontent.com/2284279/70854478-9888ab80-1ebc-11ea-8020-2389ae32a987.png">


<p>So for our TestPuma target, we need to add this header search path with the correct path</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(SRCROOT)/../../.build/checkouts/swift-package-manager/Sources/clibc/include</span><br></pre></td></tr></table></figure>

<img width="1680" alt="Screenshot 2019-12-14 at 21 55 55" src="https://user-images.githubusercontent.com/2284279/70854477-9292ca80-1ebc-11ea-900d-57b2419f9d41.png">


<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://github.com/apple/swift-package-manager/blob/master/Documentation/Development.md#developing-using-xcode" target="_blank" rel="noopener">Swift Package Manager Developing using Xcode</a></li>
<li><a href="https://useyourloaf.com/blog/editing-a-swift-package" target="_blank" rel="noopener">Editing A Swift Package</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spm/">spm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-method-from-protocol-extension-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-method-from-protocol-extension-in-Swift/">How to use method from protocol extension in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-method-from-protocol-extension-in-Swift/" class="article-date">
	  <time datetime="2019-11-30T20:28:40.000Z" itemprop="datePublished">November 30, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/524" target="_blank" rel="noopener">#524</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Any task that uses command line</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UsesCommandLine</span>: <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> program: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> arguments: <span class="type">Set</span>&lt;<span class="type">String</span>&gt; &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">UsesCommandLine</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> command = <span class="string">"\(program) \(arguments.joined(separator: "</span> <span class="string">"))"</span></span><br><span class="line">        <span class="type">Log</span>.command(command)</span><br><span class="line">        <span class="number">_</span> = <span class="keyword">try</span> <span class="type">Process</span>().run(command: command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Build</span>: <span class="title">UsesCommandLine</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"build"</span>)</span><br><span class="line">        <span class="keyword">try</span> (<span class="keyword">self</span> <span class="keyword">as</span> <span class="type">UsesCommandLine</span>).run()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-organize-dependencies-in-Swift-Package-Manager"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-organize-dependencies-in-Swift-Package-Manager/">How to organize dependencies in Swift Package Manager</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-organize-dependencies-in-Swift-Package-Manager/" class="article-date">
	  <time datetime="2019-11-30T19:37:30.000Z" itemprop="datePublished">November 30, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/523" target="_blank" rel="noopener">#523</a></strong></p>
<p>In <a href="https://github.com/pumaswift/Puma" target="_blank" rel="noopener">Puma</a> I want to make build tools for iOS and Android, which should share some common infrastructure. So we can organize dependencies like.</p>
<p><code>Puma -&gt; PumaAndroid, PumaiOS -&gt; PumaCore -&gt; xcbeautify, Files, Colorizer</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// swift-tools-version:5.1</span></span><br><span class="line"><span class="comment">// The swift-tools-version declares the minimum version of Swift required to build this package.</span></span><br><span class="line"><span class="keyword">import</span> PackageDescription</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> package = <span class="type">Package</span>(</span><br><span class="line">    name: <span class="string">"Puma"</span>,</span><br><span class="line">    platforms: [.macOS(<span class="string">"10.15"</span>)],</span><br><span class="line">    products: [</span><br><span class="line">        .library(name: <span class="string">"Puma"</span>, targets: [<span class="string">"Puma"</span>])</span><br><span class="line">    ],</span><br><span class="line">    dependencies: [</span><br><span class="line">        .package(</span><br><span class="line">            url: <span class="string">"https://github.com/thii/xcbeautify.git"</span>,</span><br><span class="line">            .upToNextMajor(from: <span class="string">"0.4.1"</span>)</span><br><span class="line">        ),</span><br><span class="line">        .package(</span><br><span class="line">            url: <span class="string">"https://github.com/getGuaka/Colorizer"</span>,</span><br><span class="line">            .upToNextMajor(from: <span class="string">"0.2.0"</span>)</span><br><span class="line">        ),</span><br><span class="line">        .package(</span><br><span class="line">            url: <span class="string">"https://github.com/JohnSundell/Files.git"</span>,</span><br><span class="line">            .upToNextMajor(from : <span class="string">"3.1.0"</span>)</span><br><span class="line">        )</span><br><span class="line">    ],</span><br><span class="line">    targets: [</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"Puma"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"PumaiOS"</span>,</span><br><span class="line">                <span class="string">"PumaAndroid"</span>,</span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/Puma"</span></span><br><span class="line">        ),</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"PumaCore"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"XcbeautifyLib"</span>,</span><br><span class="line">                <span class="string">"Colorizer"</span>,</span><br><span class="line">                <span class="string">"Files"</span></span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/Core"</span></span><br><span class="line">        ),</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"PumaiOS"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"PumaCore"</span></span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/iOS"</span></span><br><span class="line">        ),</span><br><span class="line">        .target(</span><br><span class="line">            name: <span class="string">"PumaAndroid"</span>,</span><br><span class="line">            dependencies: [</span><br><span class="line">                <span class="string">"PumaCore"</span></span><br><span class="line">            ],</span><br><span class="line">            path: <span class="string">"Sources/Android"</span></span><br><span class="line">        ),</span><br><span class="line">        .testTarget(</span><br><span class="line">            name: <span class="string">"PumaTests"</span>,</span><br><span class="line">            dependencies: [<span class="string">"Puma"</span></span><br><span class="line">            ]</span><br><span class="line">        )</span><br><span class="line">    ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spm/">spm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-provide-configurations-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-provide-configurations-in-Swift/">How to provide configurations in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-provide-configurations-in-Swift/" class="article-date">
	  <time datetime="2019-11-30T19:26:25.000Z" itemprop="datePublished">November 30, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/522" target="_blank" rel="noopener">#522</a></strong></p>
<p>Sometimes ago I created <a href="https://github.com/pumaswift/Puma" target="_blank" rel="noopener">Puma</a>, which is a thin wrapper around Xcode commandline tools, for example <code>xcodebuild</code></p>
<p>There’s lots of arguments to pass in xcodebuild, and there are many tasks like build, test and archive that all uses this command.</p>
<h2 id="Use-Options-struct-to-encapsulate-parameters"><a href="#Use-Options-struct-to-encapsulate-parameters" class="headerlink" title="Use Options struct to encapsulate parameters"></a>Use Options struct to encapsulate parameters</h2><p>To avoid passing many parameters into a class, I tend to make an <code>Options</code> struct to encapsulate all passing parameters. I also use composition, where <code>Build.Options</code> and <code>Test.Options</code> contains <code>Xcodebuild.Options</code></p>
<p>This ensures that the caller must provide all needed parameters, when you can compile you are ensured that all required parameters are provided.</p>
<p>This is OK, but a bit rigid in a way that there are many more parameters we can pass into <code>xcodebuild</code> command, so we must provide a way for user to alter or add more parameters.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xcodebuildOptions = <span class="type">Xcodebuild</span>.<span class="type">Options</span>(</span><br><span class="line">    workspace: <span class="literal">nil</span>,</span><br><span class="line">    project: <span class="string">"TestApp"</span>,</span><br><span class="line">    scheme: <span class="string">"TestApp"</span>,</span><br><span class="line">    configuration: <span class="type">Configuration</span>.release,</span><br><span class="line">    sdk: <span class="type">Sdk</span>.iPhone,</span><br><span class="line">    signing: .auto(automaticSigning),</span><br><span class="line">    usesModernBuildSystem: <span class="literal">true</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">run &#123;</span><br><span class="line">    <span class="type">SetVersionNumber</span>(options: .<span class="keyword">init</span>(buildNumber: <span class="string">"1.1"</span>))</span><br><span class="line">    <span class="type">SetBuildNumber</span>(options: .<span class="keyword">init</span>(buildNumber: <span class="string">"2"</span>))</span><br><span class="line">    <span class="type">Build</span>(options: .<span class="keyword">init</span>(</span><br><span class="line">        buildOptions: xcodebuildOptions,</span><br><span class="line">        buildsForTesting: <span class="literal">true</span></span><br><span class="line">    ))</span><br><span class="line">    </span><br><span class="line">    <span class="type">Test</span>(options: .<span class="keyword">init</span>(</span><br><span class="line">        buildOptions: xcodebuildOptions,</span><br><span class="line">        destination: <span class="type">Destination</span>(</span><br><span class="line">            platform: <span class="type">Destination</span>.<span class="type">Platform</span>.iOSSimulator,</span><br><span class="line">            name: <span class="type">Destination</span>.<span class="type">Name</span>.iPhoneXr,</span><br><span class="line">            os: <span class="type">Destination</span>.<span class="type">OS</span>.os12_2</span><br><span class="line">        )</span><br><span class="line">    ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here is how to convert from Options to arguments to pass to our command. Because each parameter has different specifiers, like with double hyphens <code>--flag=true</code>, single hyphen <code>-flag=true</code> or just hyphen with a space between parameter key and value <code>-flag true</code>, we need to manually specify that, and concat them with string. Luckily, the order of parameters is not important</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">Xcodebuild</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">Options</span> </span>&#123;</span><br><span class="line">        <span class="comment">///  build the workspace NAME</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> workspace: <span class="type">String?</span></span><br><span class="line">        <span class="comment">/// build the project NAME</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> project: <span class="type">String</span></span><br><span class="line">        <span class="comment">/// build the scheme NAME</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> scheme: <span class="type">String</span></span><br><span class="line">        <span class="comment">/// use the build configuration NAME for building each target</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> configuration: <span class="type">String</span></span><br><span class="line">        <span class="comment">/// use SDK as the name or path of the base SDK when building the project</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> sdk: <span class="type">String?</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> signing: <span class="type">Signing?</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">let</span> usesModernBuildSystem: <span class="type">Bool</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">init</span>(</span><br><span class="line">            workspace: <span class="type">String?</span> = <span class="literal">nil</span>,</span><br><span class="line">            project: <span class="type">String</span>,</span><br><span class="line">            scheme: <span class="type">String</span>,</span><br><span class="line">            configuration: <span class="type">String</span> = <span class="type">Configuration</span>.debug,</span><br><span class="line">            sdk: <span class="type">String?</span> = <span class="type">Sdk</span>.iPhoneSimulator,</span><br><span class="line">            signing: <span class="type">Signing?</span> = <span class="literal">nil</span>,</span><br><span class="line">            usesModernBuildSystem: <span class="type">Bool</span> = <span class="literal">true</span>) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">self</span>.workspace = workspace</span><br><span class="line">            <span class="keyword">self</span>.project = project</span><br><span class="line">            <span class="keyword">self</span>.scheme = scheme</span><br><span class="line">            <span class="keyword">self</span>.configuration = configuration</span><br><span class="line">            <span class="keyword">self</span>.sdk = sdk</span><br><span class="line">            <span class="keyword">self</span>.signing = signing</span><br><span class="line">            <span class="keyword">self</span>.usesModernBuildSystem = usesModernBuildSystem</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Xcodebuild</span>.<span class="title">Options</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toArguments</span><span class="params">()</span></span> -&gt; [<span class="type">String?</span>] &#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            workspace.<span class="built_in">map</span>&#123; <span class="string">"-workspace \($0.addingFileExtension("</span>xcworkspace<span class="string">"))"</span> &#125;,</span><br><span class="line">            <span class="string">"-project \(project.addingFileExtension("</span>xcodeproj<span class="string">"))"</span>,</span><br><span class="line">            <span class="string">"-scheme \(scheme)"</span>,</span><br><span class="line">            <span class="string">"-configuration \(configuration)"</span>,</span><br><span class="line">            sdk.<span class="built_in">map</span> &#123; <span class="string">"-sdk \($0)"</span> &#125;,</span><br><span class="line">            <span class="string">"-UseModernBuildSystem=\(usesModernBuildSystem ? "</span><span class="type">YES</span><span class="string">": "</span><span class="type">NO</span><span class="string">")"</span></span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-convenient-methods"><a href="#Use-convenient-methods" class="headerlink" title="Use convenient methods"></a>Use convenient methods</h2><p>Another way is to have a <code>Set&lt;String&gt;</code> as a container of parameters, and provide common method via protocol extension</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// Any task that uses command line</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UsesCommandLine</span>: <span class="title">AnyObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> program: <span class="type">String</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> arguments: <span class="type">Set</span>&lt;<span class="type">String</span>&gt; &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">UsesCommandLine</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">run</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> command = <span class="string">"\(program) \(arguments.joined(separator: "</span> <span class="string">"))"</span></span><br><span class="line">        <span class="type">Log</span>.command(command)</span><br><span class="line">        <span class="number">_</span> = <span class="keyword">try</span> <span class="type">Process</span>().run(command: command)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// Any task that uses xcodebuild</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">UsesXcodeBuild</span>: <span class="title">UsesCommandLine</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">extension</span> <span class="title">UsesXcodeBuild</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> program: <span class="type">String</span> &#123; <span class="string">"xcodebuild"</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> `<span class="title">default</span>`<span class="params">(project: String, scheme: String)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.project(project)</span><br><span class="line">        <span class="keyword">self</span>.scheme(scheme)</span><br><span class="line">        <span class="keyword">self</span>.configuration(<span class="type">Configuration</span>.debug)</span><br><span class="line">        <span class="keyword">self</span>.sdk(<span class="type">Sdk</span>.iPhoneSimulator)</span><br><span class="line">        <span class="keyword">self</span>.usesModernBuildSystem(enabled: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">project</span><span class="params">(<span class="number">_</span> name: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-project \(name.addingFileExtension("</span>xcodeproj<span class="string">"))"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">workspace</span><span class="params">(<span class="number">_</span> name: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-workspace \(name.addingFileExtension("</span>xcworkspace<span class="string">"))"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">scheme</span><span class="params">(<span class="number">_</span> name: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-scheme \(name)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">configuration</span><span class="params">(<span class="number">_</span> configuration: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-configuration \(configuration)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">sdk</span><span class="params">(<span class="number">_</span> sdk: String)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-sdk \(sdk)"</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">usesModernBuildSystem</span><span class="params">(enabled: Bool)</span></span> &#123;</span><br><span class="line">        arguments.insert(<span class="string">"-UseModernBuildSystem=\(enabled ? "</span><span class="type">YES</span><span class="string">": "</span><span class="type">NO</span><span class="string">")"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Build</span>: <span class="title">Task</span>, <span class="title">UsesXcodeBuild</span> </span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>: <span class="title">Task</span>, <span class="title">UsesXcodeBuild</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>Now the call site looks like this</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">run &#123;</span><br><span class="line">    <span class="type">SetVersionNumber</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.versionNumberForAllTargets(<span class="string">"1.1"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">SetBuildNumber</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.buildNumberForAllTargets(<span class="string">"2"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">Build</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.<span class="keyword">default</span>(project: <span class="string">"TestApp"</span>, scheme: <span class="string">"TestApp"</span>)</span><br><span class="line">        $<span class="number">0</span>.buildsForTesting(enabled: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">Test</span> &#123;</span><br><span class="line">        $<span class="number">0</span>.<span class="keyword">default</span>(project: <span class="string">"TestApp"</span>, scheme: <span class="string">"TestApp"</span>)</span><br><span class="line">        $<span class="number">0</span>.testsWithoutBuilding(enabled: <span class="literal">true</span>)</span><br><span class="line">        $<span class="number">0</span>.destination(<span class="type">Destination</span>(</span><br><span class="line">            platform: <span class="type">Destination</span>.<span class="type">Platform</span>.iOSSimulator,</span><br><span class="line">            name: <span class="type">Destination</span>.<span class="type">Name</span>.iPhoneXr,</span><br><span class="line">            os: <span class="type">Destination</span>.<span class="type">OS</span>.os12_2</span><br><span class="line">        ))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-SurveyMonkey-in-React-Native"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-SurveyMonkey-in-React-Native/">How to use SurveyMonkey in React Native</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-SurveyMonkey-in-React-Native/" class="article-date">
	  <time datetime="2019-11-29T11:21:20.000Z" itemprop="datePublished">November 29, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/521" target="_blank" rel="noopener">#521</a></strong></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;React/RCTBridgeModule.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RNSurveyManager</span> : <span class="title">NSObject</span> &lt;<span class="title">RCTBridgeModule</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"RNSurveyManager.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;React/RCTLog.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;SurveyMonkeyiOSSDK/SurveyMonkeyiOSSDK.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">RNSurveyManager</span>()&lt;<span class="title">SMFeedbackDelegate</span>&gt;</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) SMFeedbackViewController * feedbackController;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">RNSurveyManager</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)init &#123;</span><br><span class="line">  <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.feedbackController = [[SMFeedbackViewController alloc] initWithSurvey:<span class="string">@"VV8X5QA"</span>];</span><br><span class="line">    <span class="keyword">self</span>.feedbackController.delegate = <span class="keyword">self</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">BOOL</span>)requiresMainQueueSetup &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">dispatch_queue_t</span>)methodQueue &#123;</span><br><span class="line">  <span class="keyword">return</span> dispatch_get_main_queue();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">RCT_EXPORT_MODULE(SurveyManager);</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)respondentDidEndSurvey:(SMRespondent *)respondent error:(<span class="built_in">NSError</span> *)error &#123;</span><br><span class="line">  <span class="built_in">NSLog</span>(<span class="string">@"respondent %@ error %@"</span>, respondent, error);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">RCT_EXPORT_METHOD(show:(RCTResponseSenderBlock)callback) &#123;</span><br><span class="line">  [<span class="built_in">UIApplication</span>.sharedApplication.keyWindow.rootViewController</span><br><span class="line">   presentViewController:<span class="keyword">self</span>.feedbackController</span><br><span class="line">   animated:<span class="literal">YES</span></span><br><span class="line">   completion:^() &#123;</span><br><span class="line">     callback(@[]);</span><br><span class="line">   &#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @flow</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; NativeModules &#125; <span class="keyword">from</span> <span class="string">'react-native'</span></span><br><span class="line"></span><br><span class="line">type SurveyManagerType = &#123;</span><br><span class="line">  show: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> SurveyManager: SurveyManagerType = NativeModules.SurveyManager</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> SurveyManager</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react native</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-allow-unnotarized-app-to-run-on-macOS-Catalina"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-allow-unnotarized-app-to-run-on-macOS-Catalina/">How to allow unnotarized app to run on macOS Catalina</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-allow-unnotarized-app-to-run-on-macOS-Catalina/" class="article-date">
	  <time datetime="2019-11-28T07:28:34.000Z" itemprop="datePublished">November 28, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/520" target="_blank" rel="noopener">#520</a></strong></p>
<p>Remove quarantine</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xattr -d com.apple.quarantine /Applications/Flipper.app</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macOS/">macOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-flipper"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-flipper/">How to use flipper</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-flipper/" class="article-date">
	  <time datetime="2019-11-27T08:06:51.000Z" itemprop="datePublished">November 27, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/519" target="_blank" rel="noopener">#519</a></strong></p>
<h2 id="Run-the-app"><a href="#Run-the-app" class="headerlink" title="Run the app"></a>Run the app</h2><ul>
<li><a href="https://github.com/facebook/flipper" target="_blank" rel="noopener">https://github.com/facebook/flipper</a><br><a href="https://facebook.github.io/watchman/docs/install.html#installing-on-os-x-via-homebrew" target="_blank" rel="noopener">https://facebook.github.io/watchman/docs/install.html#installing-on-os-x-via-homebrew</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">brew install watchman</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git clone https://github.com/facebook/flipper.git</span><br><span class="line">cd flipper</span><br><span class="line">yarn</span><br><span class="line">yarn start</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/">tool</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-test-UserDefaults-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-test-UserDefaults-in-iOS/">How to test UserDefaults in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-test-UserDefaults-in-iOS/" class="article-date">
	  <time datetime="2019-11-25T11:58:42.000Z" itemprop="datePublished">November 25, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/518" target="_blank" rel="noopener">#518</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>(suiteName: suiteName)</span><br><span class="line">userDefaults.removePersistentDomain(forName: suiteName)</span><br></pre></td></tr></table></figure>

<p><a href="https://developer.apple.com/documentation/foundation/userdefaults/1417339-removepersistentdomain" target="_blank" rel="noopener">https://developer.apple.com/documentation/foundation/userdefaults/1417339-removepersistentdomain</a></p>
<blockquote>
<p>Calling this method is equivalent to initializing a user defaults object with init(suiteName:) passing domainName, and calling the removeObject(forKey:) method on each of its keys.</p>
</blockquote>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://www.swiftbysundell.com/articles/the-power-of-userdefaults-in-swift/" target="_blank" rel="noopener">https://www.swiftbysundell.com/articles/the-power-of-userdefaults-in-swift/</a></li>
<li><a href="http://dscoder.com/defaults.html" target="_blank" rel="noopener">http://dscoder.com/defaults.html</a></li>
<li><a href="https://medium.com/swift-india/userdefaults-under-the-hood-457461c8d262" target="_blank" rel="noopener">https://medium.com/swift-india/userdefaults-under-the-hood-457461c8d262</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-ForEach-with-ScrollView-in-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-ForEach-with-ScrollView-in-SwiftUI/">How to use ForEach with ScrollView in SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-ForEach-with-ScrollView-in-SwiftUI/" class="article-date">
	  <time datetime="2019-11-22T21:57:50.000Z" itemprop="datePublished">November 22, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/517" target="_blank" rel="noopener">#517</a></strong></p>
<p>Use <code>ScrollView -&gt; VStack -&gt; ForEach -&gt; Content</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SearchScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> searchObjects: [<span class="type">SearchObject</span>] = [</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By name"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byName: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By calling code"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byCallingCode: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By domain"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byDomain: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By language"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byLanguage: $<span class="number">0</span>) &#125;)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(searchObjects.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;), id: \.element.name, content: &#123; index, searchObject <span class="keyword">in</span></span><br><span class="line">                    <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                        <span class="type">Text</span>(searchObject.name)</span><br><span class="line">                            .styleLabel()</span><br><span class="line">                        <span class="type">TextField</span>(searchObject.textFieldName, text: <span class="keyword">self</span>.$searchObjects[index].text)</span><br><span class="line">                            .styleTitle()</span><br><span class="line">                        <span class="keyword">self</span>.makeButton(searchObject: <span class="keyword">self</span>.searchObjects[index])</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-modify-data-inside-array-in-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-modify-data-inside-array-in-SwiftUI/">How to modify data inside array in SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-modify-data-inside-array-in-SwiftUI/" class="article-date">
	  <time datetime="2019-11-22T21:56:34.000Z" itemprop="datePublished">November 22, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/516" target="_blank" rel="noopener">#516</a></strong></p>
<p>Suppose we have an array of <code>SearchObject</code>, and user can enter search query into <code>text</code> property.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SearchObject</span>: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> search: (<span class="type">String</span>) -&gt; [<span class="type">Country</span>]</span><br><span class="line">    <span class="keyword">var</span> text: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(name: <span class="type">String</span>, search: @escaping (<span class="type">String</span>) -&gt; [<span class="type">Country</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name</span><br><span class="line">        <span class="keyword">self</span>.search = search</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Although <code>SearchObject</code> is class, when we use <code>ForEach</code>, the changes to passed object won’t be reflected in our array and there is no reload trigger, we need to point to object in array directly, like</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.$searchObjects[index].text</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SearchScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">State</span> <span class="keyword">var</span> searchObjects: [<span class="type">SearchObject</span>] = [</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By name"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byName: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By calling code"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byCallingCode: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By domain"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byDomain: $<span class="number">0</span>) &#125;),</span><br><span class="line">        <span class="type">SearchObject</span>(name: <span class="string">"By language"</span>, search: &#123; <span class="type">CountryManager</span>.shared.search(byLanguage: $<span class="number">0</span>) &#125;)</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(searchObjects.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;), id: \.element.name, content: &#123; index, searchObject <span class="keyword">in</span></span><br><span class="line">                    <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                        <span class="type">Text</span>(searchObject.name)</span><br><span class="line">                            .styleLabel()</span><br><span class="line">                        <span class="type">TextField</span>(searchObject.textFieldName, text: <span class="keyword">self</span>.$searchObjects[index].text)</span><br><span class="line">                            .styleTitle()</span><br><span class="line">                        <span class="keyword">self</span>.makeButton(searchObject: <span class="keyword">self</span>.searchObjects[index])</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-index-in-SwiftUI-list"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-index-in-SwiftUI-list/">How to use index in SwiftUI list</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-index-in-SwiftUI-list/" class="article-date">
	  <time datetime="2019-11-22T20:34:37.000Z" itemprop="datePublished">November 22, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/515" target="_blank" rel="noopener">#515</a></strong></p>
<p>Use <code>enumerated</code> and <code>id: \.element.name</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CountriesView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> countries: [<span class="type">Country</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> withIndex = countries.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="type">List</span>(withIndex, id: \.element.name) &#123; index, country <span class="keyword">in</span></span><br><span class="line">            <span class="type">NavigationLink</span>(</span><br><span class="line">                destination: <span class="type">CountryView</span>(country: country),</span><br><span class="line">                label: &#123;</span><br><span class="line">                    <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">                        <span class="type">Text</span>(country.name)</span><br><span class="line">                            .styleMultiline()</span><br><span class="line">                    &#125;</span><br><span class="line">                    .paddingVertically()</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-setup-multiple-git-accounts-for-GitHub-and-Bitbucket"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-setup-multiple-git-accounts-for-GitHub-and-Bitbucket/">How to setup multiple git accounts for GitHub and Bitbucket</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-setup-multiple-git-accounts-for-GitHub-and-Bitbucket/" class="article-date">
	  <time datetime="2019-11-22T11:52:44.000Z" itemprop="datePublished">November 22, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/514" target="_blank" rel="noopener">#514</a></strong></p>
<h2 id="Generate-SSH-keys"><a href="#Generate-SSH-keys" class="headerlink" title="Generate SSH keys"></a>Generate SSH keys</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;onmyway133@gmail.com&quot; -f &quot;id_rsa_github&quot;</span><br><span class="line">ssh-keygen -t rsa -C &quot;onmyway133bitbucket@gmail.com&quot; -f &quot;id_rsa_bitbucket&quot;</span><br><span class="line"></span><br><span class="line">pbcopy &lt; ~/.ssh/id_rsa_github.pub</span><br><span class="line">pbcopy &lt; ~/.ssh/id_rsa_bitbucket.pub</span><br><span class="line"></span><br><span class="line">ssh-add -D</span><br><span class="line">ssh-add id_rsa_github</span><br><span class="line">ssh-add id_rsa_bitbucket</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br><span class="line"></span><br><span class="line">#Github (personal)</span><br><span class="line">  Host gh</span><br><span class="line">  HostName github.com</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa_github</span><br><span class="line"></span><br><span class="line">#Bitbucket (work)</span><br><span class="line">  Host bb</span><br><span class="line">  HostName bitbucket.org</span><br><span class="line">  User git</span><br><span class="line">  IdentityFile ~/.ssh/id_rsa_bitbucket</span><br></pre></td></tr></table></figure>

<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;onmyway133@gmail.com&quot;</span><br><span class="line">git config --local user.email &quot;onmyway133bitbucket@gmail.com&quot;</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://medium.com/avocoders/github-and-bitbucket-accounts-in-a-same-pc-5f8c67fd89d2" target="_blank" rel="noopener">https://medium.com/avocoders/github-and-bitbucket-accounts-in-a-same-pc-5f8c67fd89d2</a></li>
<li><a href="https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-config" target="_blank" rel="noopener">https://www.atlassian.com/git/tutorials/setting-up-a-repository/git-config</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/github/">github</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/terminal/">terminal</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-objectWillChange-in-Combine"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-objectWillChange-in-Combine/">How to use objectWillChange in Combine</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-objectWillChange-in-Combine/" class="article-date">
	  <time datetime="2019-11-21T21:19:47.000Z" itemprop="datePublished">November 21, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/513" target="_blank" rel="noopener">#513</a></strong></p>
<blockquote>
<p>A publisher that emits before the object has changed</p>
</blockquote>
<p>Use workaround <code>DispatchQueue</code> to wait another run loop to access <code>newValue</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.onReceive(store.objectWillChange, perform: &#123;</span><br><span class="line">    <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">        <span class="keyword">self</span>.reload()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reload</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.isFavorite = store.isFavorite(country: country)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="https://forums.swift.org/t/combine-observableobject-in-uikit/28433" target="_blank" rel="noopener">https://forums.swift.org/t/combine-observableobject-in-uikit/28433</a></li>
<li><a href="https://twitter.com/luka_bernardi/status/1155944329363349504" target="_blank" rel="noopener">https://twitter.com/luka_bernardi/status/1155944329363349504</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/combine/">combine</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-enable-z-and-zsh-autosuggestions-on-zsh"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-enable-z-and-zsh-autosuggestions-on-zsh/">How to enable z and zsh-autosuggestions on zsh</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-enable-z-and-zsh-autosuggestions-on-zsh/" class="article-date">
	  <time datetime="2019-11-19T07:29:04.000Z" itemprop="datePublished">November 19, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/512" target="_blank" rel="noopener">#512</a></strong></p>
<ul>
<li><a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md" target="_blank" rel="noopener">https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md</a></li>
<li><a href="https://github.com/robbyrussell/oh-my-zsh/tree/master/plugins/z" target="_blank" rel="noopener">https://github.com/robbyrussell/oh-my-zsh/tree/master/plugins/z</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/zsh-users/zsh-autosuggestions $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions</span><br><span class="line"></span><br><span class="line">vim ~/.zsh.rc</span><br><span class="line">/plugins</span><br><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  z</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">source ~/.zshrc</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/terminal/">terminal</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-show-list-with-section-in-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-show-list-with-section-in-SwiftUI/">How to show list with section in SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-show-list-with-section-in-SwiftUI/" class="article-date">
	  <time datetime="2019-11-16T21:57:51.000Z" itemprop="datePublished">November 16, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/511" target="_blank" rel="noopener">#511</a></strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CountriesView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> groups: [<span class="type">Group</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(countries: [<span class="type">Country</span>]) &#123;</span><br><span class="line">        <span class="keyword">self</span>.groups = <span class="type">CountryManager</span>.shared.groups(countries: countries)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(groups) &#123; group <span class="keyword">in</span></span><br><span class="line">                <span class="type">Section</span>(</span><br><span class="line">                    header:</span><br><span class="line">                        <span class="type">Text</span>(group.initial)</span><br><span class="line">                            .foregroundColor(<span class="type">Color</span>.yellow)</span><br><span class="line">                            .styleTitle(),</span><br><span class="line">                    content: &#123;</span><br><span class="line">                        <span class="type">ForEach</span>(group.countries) &#123; country <span class="keyword">in</span></span><br><span class="line">                            <span class="type">CountryRow</span>(country: country)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/watchOS/">watchOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-group-array-by-property-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-group-array-by-property-in-Swift/">How to  group array by property in  Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-group-array-by-property-in-Swift/" class="article-date">
	  <time datetime="2019-11-16T21:29:38.000Z" itemprop="datePublished">November 16, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/510" target="_blank" rel="noopener">#510</a></strong></p>
<p>Use <code>Dictionary(grouping:by:)</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">groups</span><span class="params">(countries: [Country])</span></span> -&gt; [<span class="type">Group</span>] &#123;</span><br><span class="line">    <span class="keyword">let</span> dictionary = <span class="type">Dictionary</span>(grouping: countries, by: &#123; <span class="type">String</span>($<span class="number">0</span>.name.<span class="keyword">prefix</span>(<span class="number">1</span>)) &#125;)</span><br><span class="line">    <span class="keyword">let</span> groups = dictionary</span><br><span class="line">        .<span class="built_in">map</span>(&#123; (key: <span class="type">String</span>, value: [<span class="type">Country</span>]) -&gt; <span class="type">Group</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> <span class="type">Group</span>(initial: key, countries: value)</span><br><span class="line">        &#125;)</span><br><span class="line">        .sorted(by: &#123; $<span class="number">0</span>.initial &lt; $<span class="number">1</span>.initial &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> groups</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Links-for-tools"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Links-for-tools/">Links for tools</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Links-for-tools/" class="article-date">
	  <time datetime="2019-11-15T18:42:18.000Z" itemprop="datePublished">November 15, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/509" target="_blank" rel="noopener">#509</a></strong></p>
<h2 id="Xcode"><a href="#Xcode" class="headerlink" title="Xcode"></a>Xcode</h2><ul>
<li><a href="https://learntalks.com/Pragma-Mark/2019/Pragma-Mark-2019-Pragma-Conference-2019-Mattt-Engineering-best-practices-mi-fan-un-baffo!/" target="_blank" rel="noopener">Engineering best practices</a></li>
<li><a href="https://fbflipper.com/" target="_blank" rel="noopener">https://fbflipper.com/</a></li>
<li><a href="https://www.wtfautolayout.com/" target="_blank" rel="noopener">https://www.wtfautolayout.com/</a></li>
<li><a href="https://quicktype.io/" target="_blank" rel="noopener">https://quicktype.io/</a></li>
<li><a href="https://github.com/woshiccm/Pecker" target="_blank" rel="noopener">https://github.com/woshiccm/Pecker</a></li>
<li><a href="https://github.com/rockbruno/SwiftInfo" target="_blank" rel="noopener">https://github.com/rockbruno/SwiftInfo</a></li>
<li><a href="https://github.com/IBDecodable/IBLinter" target="_blank" rel="noopener">https://github.com/IBDecodable/IBLinter</a></li>
<li><a href="https://github.com/ChargePoint/xcparse" target="_blank" rel="noopener">https://github.com/ChargePoint/xcparse</a></li>
</ul>
<h2 id="Terminal"><a href="#Terminal" class="headerlink" title="Terminal"></a>Terminal</h2><ul>
<li><a href="https://github.com/ggreer/the_silver_searcher" target="_blank" rel="noopener">https://github.com/ggreer/the_silver_searcher</a></li>
<li><a href="https://github.com/nodenv/nodenv" target="_blank" rel="noopener">https://github.com/nodenv/nodenv</a></li>
<li><a href="https://github.com/rbenv/rbenv" target="_blank" rel="noopener">https://github.com/rbenv/rbenv</a></li>
<li><a href="https://github.com/pyenv/pyenv" target="_blank" rel="noopener">https://github.com/pyenv/pyenv</a></li>
<li><a href="https://ohmyz.sh/" target="_blank" rel="noopener">https://ohmyz.sh/</a></li>
<li><a href="https://brew.sh/" target="_blank" rel="noopener">https://brew.sh/</a></li>
</ul>
<h2 id="Apps"><a href="#Apps" class="headerlink" title="Apps"></a>Apps</h2><ul>
<li><a href="https://sherlock.inspiredcode.io/" target="_blank" rel="noopener">https://sherlock.inspiredcode.io/</a></li>
<li><a href="https://www.mowglii.com/itsycal/" target="_blank" rel="noopener">https://www.mowglii.com/itsycal/</a></li>
<li><a href="https://github.com/eczarny/spectacle" target="_blank" rel="noopener">https://github.com/eczarny/spectacle</a></li>
<li><a href="https://www.sublimemerge.com/" target="_blank" rel="noopener">https://www.sublimemerge.com/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/terminal/">terminal</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xcode/">xcode</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-make-full-width-list-row-in-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-full-width-list-row-in-SwiftUI/">How to make full width list row in SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-full-width-list-row-in-SwiftUI/" class="article-date">
	  <time datetime="2019-11-14T13:44:23.000Z" itemprop="datePublished">November 14, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/508" target="_blank" rel="noopener">#508</a></strong></p>
<p>We need to use <code>frame(minWidth: 0, maxWidth: .infinity, alignment: .leading)</code>. Note that order is important, and <code>padding</code> should be first, and <code>background</code> after <code>frame</code> to apply color to the entire <code>frame</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BooksScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">BooksViewModel</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">List</span> &#123;</span><br><span class="line">            <span class="type">ForEach</span>(viewModel.books) &#123; book <span class="keyword">in</span></span><br><span class="line">                <span class="type">RowView</span>(vault: book)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .listStyle(<span class="type">GroupedListStyle</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">struct</span> <span class="title">RowView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> book: <span class="type">Book</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">            <span class="type">Text</span>(book.name)</span><br><span class="line">                .foregroundColor(.white)</span><br><span class="line">                .font(.headline)</span><br><span class="line">            <span class="type">Text</span>(book.text)</span><br><span class="line">                .foregroundColor(.white)</span><br><span class="line">                .font(.subheadline)</span><br><span class="line">        &#125;</span><br><span class="line">        .padding()</span><br><span class="line">        .frame(minWidth: <span class="number">0</span>, maxWidth: .infinity, alignment: .leading)</span><br><span class="line">        .background(<span class="type">Color</span>(hex: book.color))</span><br><span class="line">        .cornerRadius(<span class="number">8</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-make-full-screen-TabView-in-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-full-screen-TabView-in-SwiftUI/">How to make full screen TabView in SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-full-screen-TabView-in-SwiftUI/" class="article-date">
	  <time datetime="2019-11-14T11:27:24.000Z" itemprop="datePublished">November 14, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/507" target="_blank" rel="noopener">#507</a></strong></p>
<p><code>View</code> extends to the bottom, but not to the notch. We need to add <code>.edgesIgnoringSafeArea(.top)</code> to our <code>TabView</code> to tell <code>TabView</code> to extend all the way to the top.</p>
<p>Note that if we use <code>edgesIgnoringSafeArea(.all)</code> then <code>TabView</code> ‘s bar will be  dragged very down and broken.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MainScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        <span class="type">UITabBar</span>.appearance().backgroundColor = <span class="type">R</span>.color.barBackground</span><br><span class="line">        <span class="type">UITableView</span>.appearance().backgroundColor = .clear</span><br><span class="line">        <span class="type">UITableViewCell</span>.appearance().backgroundColor = .clear</span><br><span class="line">        <span class="type">UITableView</span>.appearance().tableFooterView = <span class="type">UIView</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="type">R</span>.color.background</span><br><span class="line">                .edgesIgnoringSafeArea(.all)</span><br><span class="line"></span><br><span class="line">            <span class="type">TabView</span> &#123;</span><br><span class="line">                <span class="type">PersonalScreen</span>()</span><br><span class="line">                    .tabItem(&#123;</span><br><span class="line">                        <span class="type">Image</span>(sfSymbol: .bagFill)</span><br><span class="line">                        <span class="type">Text</span>(<span class="string">"Personal"</span>)</span><br><span class="line">                            .styleTabBarItem()</span><br><span class="line">                    &#125;)</span><br><span class="line">                <span class="type">CloudScreen</span>()</span><br><span class="line">                    .tabItem(&#123;</span><br><span class="line">                        <span class="type">Image</span>(sfSymbol: .cloudFill)</span><br><span class="line">                        <span class="type">Text</span>(<span class="string">"Cloud"</span>)</span><br><span class="line">                            .styleTabBarItem()</span><br><span class="line">                    &#125;)</span><br><span class="line">                <span class="type">SettingsScreen</span>()</span><br><span class="line">                    .tabItem(&#123;</span><br><span class="line">                        <span class="type">Image</span>(sfSymbol: .gear)</span><br><span class="line">                        <span class="type">Text</span>(<span class="string">"Settings"</span>)</span><br><span class="line">                            .styleTabBarItem()</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            .edgesIgnoringSafeArea(.top)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-map-error-in-Combine"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-map-error-in-Combine/">How to map error in Combine</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-map-error-in-Combine/" class="article-date">
	  <time datetime="2019-11-14T09:23:12.000Z" itemprop="datePublished">November 14, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/506" target="_blank" rel="noopener">#506</a></strong></p>
<p>When a function expects <code>AnyPublisher&lt;[Book], Error&gt;</code> but in mock, we have <code>Just</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getBooks</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;[<span class="type">Book</span>], <span class="type">Error</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Just</span>([</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"1"</span>, name: <span class="string">"Book 1"</span>),</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"2"</span>, name: <span class="string">"Book 2"</span>),</span><br><span class="line">    ])</span><br><span class="line">    .eraseToAnyPublisher()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>There will be a mismatch, hence compile error</p>
<blockquote>
<p>Cannot convert return expression of type ‘AnyPublisher&lt;[Book], Just<output>.Failure&gt;’ (aka ‘AnyPublisher&lt;Array<book>, Never&gt;’) to return type ‘AnyPublisher&lt;[Book], Error&gt;’</book></output></p>
</blockquote>
<p>The reason is because Just produces <code>Never</code>, not <code>Error</code>. The workaround is to introduce <code>Error</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AppError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> impossible</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getBooks</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;[<span class="type">Book</span>], <span class="type">Error</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Just</span>([</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"1"</span>, name: <span class="string">"Book 1"</span>),</span><br><span class="line">        <span class="type">Book</span>(id: <span class="string">"2"</span>, name: <span class="string">"Book 2"</span>),</span><br><span class="line">    ])</span><br><span class="line">    .mapError(&#123; <span class="number">_</span> <span class="keyword">in</span>  <span class="type">AppError</span>.impossible &#125;)</span><br><span class="line">    .eraseToAnyPublisher()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/combine/">combine</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-fix-unable-to-infer-complex-closure-return-type-in-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-fix-unable-to-infer-complex-closure-return-type-in-SwiftUI/">How to fix unable to infer complex closure return type in SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-fix-unable-to-infer-complex-closure-return-type-in-SwiftUI/" class="article-date">
	  <time datetime="2019-11-13T19:48:58.000Z" itemprop="datePublished">November 13, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/505" target="_blank" rel="noopener">#505</a></strong></p>
<p>Make sure all <code>String</code> are passed into <code>Text</code>, not <code>Optional&lt;String&gt;</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(data.title)</span><br><span class="line">    <span class="type">Text</span>(data.description!)</span><br><span class="line">    <span class="type">Text</span>(data.text!)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-make-Swift-Package-Manager-package-for-multiple-platforms"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-Swift-Package-Manager-package-for-multiple-platforms/">How to make Swift Package Manager package for multiple platforms</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-Swift-Package-Manager-package-for-multiple-platforms/" class="article-date">
	  <time datetime="2019-11-13T11:23:55.000Z" itemprop="datePublished">November 13, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/504" target="_blank" rel="noopener">#504</a></strong></p>
<p><a href="https://twitter.com/NeoNacho/status/1181245484867801088?s=20" target="_blank" rel="noopener">https://twitter.com/NeoNacho/status/1181245484867801088?s=20</a></p>
<blockquote>
<p>There’s no way to have platform specific sources or targets today, so you’ll have to take a different approach. I would recommend wrapping all OS specific files in #if os and just having one target. For tests, you could do something similar, one test target, but conditional tests</p>
</blockquote>
<p>Every files are in <code>Sources</code> folder, so we can use platform and version checks. For example <a href="https://github.com/onmyway133/Omnia" target="_blank" rel="noopener">Omnia</a> is a Swift Package Manager that supports iOS, tvOS, watchOS, macOS and Catalyst.</p>
<p>For macOS only code, need to check for AppKit and Catalyst</p>
<p><code>https://github.com/onmyway133/Omnia/blob/master/Sources/macOS/ClickedCollectionView.swift</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">if</span> canImport(<span class="type">AppKit</span>) &amp;&amp; !targetEnvironment(macCatalyst)</span><br></pre></td></tr></table></figure>

<p>For SwiftUI feature, need to check for iOS 13 and macOS 10.15</p>
<p><code>https://github.com/onmyway133/Omnia/blob/master/Sources/SwiftUI/Utils/ImageLoader.swift</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@available</span>(iOS <span class="number">13.0</span>, <span class="type">OSX</span> <span class="number">10.15</span>, tvOS <span class="number">13.0</span>, watchOS <span class="number">6.0</span>, *)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/catalyst/">catalyst</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/macOS/">macOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spm/">spm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/watchOS/">watchOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-make-simple-Redux-for-SwiftUI"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-make-simple-Redux-for-SwiftUI/">How to make simple Redux for SwiftUI</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-make-simple-Redux-for-SwiftUI/" class="article-date">
	  <time datetime="2019-11-13T10:10:29.000Z" itemprop="datePublished">November 13, 2019</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/502" target="_blank" rel="noopener">#502</a></strong></p>
<p><code>Mutation</code> is used to mutate state synchronously. <code>Action</code> is like intent, either from app or from user action. <code>Action</code> maps to <code>Mutation</code> in form of <code>Publisher</code> to work  with  async action, similar to <a href="https://github.com/redux-observable/redux-observable" target="_blank" rel="noopener">redux-observable</a></p>
<p><code>AnyReducer</code> is a type erasure that takes the <code>reduce</code> function</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Combine</span><br><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Reducer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">State</span></span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Mutation</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">reduce</span><span class="params">(state: State, mutation: Mutation)</span></span> -&gt; <span class="type">State</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">struct</span> <span class="title">AnyReducer</span>&lt;<span class="title">State</span>, <span class="title">Mutation</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> <span class="built_in">reduce</span>: (<span class="type">State</span>, <span class="type">Mutation</span>) -&gt; <span class="type">State</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>&lt;<span class="type">R</span>: <span class="type">Reducer</span>&gt;(reducer: <span class="type">R</span>) <span class="keyword">where</span> <span class="type">R</span>.<span class="type">State</span> == <span class="type">State</span>, <span class="type">R</span>.<span class="type">Mutation</span> == <span class="type">Mutation</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.<span class="built_in">reduce</span> = reducer.<span class="built_in">reduce</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">protocol</span> <span class="title">Action</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">Mutation</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toMutation</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;<span class="type">Mutation</span>, <span class="type">Never</span>&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Store</span>&lt;<span class="title">State</span>, <span class="title">Mutation</span>&gt;: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    @<span class="type">Published</span> <span class="keyword">public</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> state: <span class="type">State</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> reducer: <span class="type">AnyReducer</span>&lt;<span class="type">State</span>, <span class="type">Mutation</span>&gt;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">private</span>(<span class="keyword">set</span>) <span class="keyword">var</span> cancellables = <span class="type">Set</span>&lt;<span class="type">AnyCancellable</span>&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">init</span>(initialState: <span class="type">State</span>, reducer: <span class="type">AnyReducer</span>&lt;<span class="type">State</span>, <span class="type">Mutation</span>&gt;) &#123;</span><br><span class="line">        <span class="keyword">self</span>.state = initialState</span><br><span class="line">        <span class="keyword">self</span>.reducer = reducer</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">send</span>&lt;A: Action&gt;<span class="params">(action: A)</span></span> <span class="keyword">where</span> <span class="type">A</span>.<span class="type">Mutation</span> == <span class="type">Mutation</span> &#123;</span><br><span class="line">        action</span><br><span class="line">            .toMutation()</span><br><span class="line">            .receive(on: <span class="type">DispatchQueue</span>.main)</span><br><span class="line">            .sink(receiveValue: update(mutation:))</span><br><span class="line">            .store(<span class="keyword">in</span>: &amp;cancellables)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">update</span><span class="params">(mutation: Mutation)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.state = reducer.<span class="built_in">reduce</span>(state, mutation)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>To use, conform to all the protocols. Also make typelias <code>AppStore</code> in order to easy specify type in <code>SwiftUI View</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"><span class="keyword">import</span> Combine</span><br><span class="line"></span><br><span class="line"><span class="keyword">typealias</span> <span class="type">AppStore</span> = <span class="type">Store</span>&lt;<span class="type">AppState</span>, <span class="type">AppMutation</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> appStore: <span class="type">AppStore</span> = <span class="type">AppStore</span>(</span><br><span class="line">    initialState: <span class="type">AppState</span>(),</span><br><span class="line">    reducer: appReducer</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AppState</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hasShownOnboaring = <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AppReducer</span>: <span class="title">Reducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">reduce</span><span class="params">(state: AppState, mutation: AppMutation)</span></span> -&gt; <span class="type">AppState</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> state = state</span><br><span class="line">        <span class="keyword">switch</span> mutation &#123;</span><br><span class="line">        <span class="keyword">case</span> .finishOnboarding:</span><br><span class="line">            state.hasShownOnboaring = <span class="literal">true</span></span><br><span class="line">        @unknown <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> state</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AppMutation</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> finishOnboarding</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Use in  SwiftUI</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">RootScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">EnvironmentObject</span> <span class="keyword">var</span> store: <span class="type">AppStore</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> store.state.hasShownOnboaring &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"Welcome"</span>)</span><br><span class="line">                .eraseToAnyView()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">OnboardingScreen</span>()</span><br><span class="line">                .eraseToAnyView()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OnboardingScreen</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">EnvironmentObject</span> <span class="keyword">var</span> store: <span class="type">AppStore</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">done</span><span class="params">()</span></span> &#123;</span><br><span class="line">        store.send(action: <span class="type">AppAction</span>.finishOnboarding)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://swiftwithmajid.com/2019/09/18/redux-like-state-container-in-swiftui/" target="_blank" rel="noopener">https://swiftwithmajid.com/2019/09/18/redux-like-state-container-in-swiftui/</a></li>
<li><a href="https://github.com/mecid/swiftui-recipes-app" target="_blank" rel="noopener">https://github.com/mecid/swiftui-recipes-app</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swiftUI/">swiftUI</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/4/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Ohayou</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/onmyway133" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href="https://twitter.com/onmyway133" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:onmyway133@gmail.com?subject=Hello&body=World" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-radio-button-group-in-SwiftUI/">How to make radio button group in SwiftUI</a></h6>
              <span>February 1, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-set-font-to-NSTextField-in-macOS/">How to set font to NSTextField in macOS</a></h6>
              <span>January 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-borderless-material-NSTextField-in-SwiftUI-for-macOS/">How to make borderless material NSTextField in SwiftUI for macOS</a></h6>
              <span>January 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-observe-focus-event-of-NSTextField-in-macOS/">How to observe focus event of NSTextField in macOS</a></h6>
              <span>January 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-change-caret-color-of-NSTextField-in-macOS/">How to change caret color of NSTextField in macOS</a></h6>
              <span>January 29, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-TextView-in-SwiftUI-for-macoS/">How to make TextView in SwiftUI for macOS</a></h6>
              <span>January 29, 2020</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/android/" style="font-size: 17.78px;">android</a> <a href="/tags/apple-script/" style="font-size: 11.11px;">apple script</a> <a href="/tags/catalyst/" style="font-size: 10px;">catalyst</a> <a href="/tags/ci/" style="font-size: 11.11px;">ci</a> <a href="/tags/cloud/" style="font-size: 10.56px;">cloud</a> <a href="/tags/cocoapods/" style="font-size: 11.67px;">cocoapods</a> <a href="/tags/combine/" style="font-size: 11.67px;">combine</a> <a href="/tags/csharp/" style="font-size: 10px;">csharp</a> <a href="/tags/css/" style="font-size: 10.56px;">css</a> <a href="/tags/dart/" style="font-size: 11.67px;">dart</a> <a href="/tags/database/" style="font-size: 10.56px;">database</a> <a href="/tags/design/" style="font-size: 10.56px;">design</a> <a href="/tags/electron/" style="font-size: 11.67px;">electron</a> <a href="/tags/firebase/" style="font-size: 12.22px;">firebase</a> <a href="/tags/flutter/" style="font-size: 11.67px;">flutter</a> <a href="/tags/git/" style="font-size: 11.11px;">git</a> <a href="/tags/github/" style="font-size: 12.22px;">github</a> <a href="/tags/go/" style="font-size: 10.56px;">go</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/iOS/" style="font-size: 19.44px;">iOS</a> <a href="/tags/javascript/" style="font-size: 18.33px;">javascript</a> <a href="/tags/kotlin/" style="font-size: 17.22px;">kotlin</a> <a href="/tags/layout/" style="font-size: 11.67px;">layout</a> <a href="/tags/life/" style="font-size: 13.33px;">life</a> <a href="/tags/links/" style="font-size: 14.44px;">links</a> <a href="/tags/macOS/" style="font-size: 18.89px;">macOS</a> <a href="/tags/machine-learning/" style="font-size: 10.56px;">machine learning</a> <a href="/tags/maps/" style="font-size: 11.67px;">maps</a> <a href="/tags/networking/" style="font-size: 10px;">networking</a> <a href="/tags/node/" style="font-size: 12.78px;">node</a> <a href="/tags/objc/" style="font-size: 10.56px;">objc</a> <a href="/tags/react/" style="font-size: 11.11px;">react</a> <a href="/tags/react-native/" style="font-size: 15px;">react native</a> <a href="/tags/realm/" style="font-size: 10px;">realm</a> <a href="/tags/rx/" style="font-size: 11.11px;">rx</a> <a href="/tags/script/" style="font-size: 10.56px;">script</a> <a href="/tags/spm/" style="font-size: 12.22px;">spm</a> <a href="/tags/swift/" style="font-size: 20px;">swift</a> <a href="/tags/swiftUI/" style="font-size: 16.67px;">swiftUI</a> <a href="/tags/tech/" style="font-size: 15.56px;">tech</a> <a href="/tags/terminal/" style="font-size: 13.33px;">terminal</a> <a href="/tags/testing/" style="font-size: 13.33px;">testing</a> <a href="/tags/tool/" style="font-size: 10px;">tool</a> <a href="/tags/unity/" style="font-size: 10px;">unity</a> <a href="/tags/voip/" style="font-size: 11.67px;">voip</a> <a href="/tags/watchOS/" style="font-size: 13.89px;">watchOS</a> <a href="/tags/web/" style="font-size: 10.56px;">web</a> <a href="/tags/wwdc/" style="font-size: 10.56px;">wwdc</a> <a href="/tags/xcode/" style="font-size: 16.11px;">xcode</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">30</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">39</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">49</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">50</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">42</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">41</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">47</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">6</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apple-script/">apple script</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/catalyst/">catalyst</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci/">ci</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/">cloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoapods/">cocoapods</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/combine/">combine</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/">csharp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dart/">dart</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/">design</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electron/">electron</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firebase/">firebase</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter/">flutter</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">153</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">37</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kotlin/">kotlin</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layout/">layout</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/links/">links</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macOS/">macOS</a><span class="tag-list-count">78</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/">machine learning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maps/">maps</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/networking/">networking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/objc/">objc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/realm/">realm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rx/">rx</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/script/">script</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spm/">spm</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift/">swift</a><span class="tag-list-count">229</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swiftUI/">swiftUI</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tech/">tech</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/terminal/">terminal</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/">testing</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity/">unity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/voip/">voip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/watchOS/">watchOS</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wwdc/">wwdc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xcode/">xcode</a><span class="tag-list-count">21</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 onmyway133 All Rights Reserved.
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about/" class="mobile-nav-link">About</a>
  
    <a href="/writing/" class="mobile-nav-link">Writing</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/speaking/" class="mobile-nav-link">Speaking</a>
  
    <a href="/opensource/" class="mobile-nav-link">Open Source</a>
  
    <a href="/projects/" class="mobile-nav-link">Projects</a>
  
    <a href="/news/" class="mobile-nav-link">News</a>
  
    <a href="/gumroad/" class="mobile-nav-link">Gumroad</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-40119591-5', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->












  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
