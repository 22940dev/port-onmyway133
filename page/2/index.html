<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>onmyway133</title><meta description="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:type" content="blog"><meta property="og:title" content="onmyway133"><meta property="og:url" content="https://onmyway133.github.io/"><meta property="og:site_name" content="onmyway133"><meta property="og:description" content="What you don&amp;#39;t know is what you haven&amp;#39;t learned"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://onmyway133.github.io/img/og_image.png"><meta property="article:author" content="Khoa Pham"><meta property="article:tag" content="ios"><meta property="article:tag" content=" android"><meta property="article:tag" content="javascript"><meta property="article:tag" content=" react"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><meta property="twitter:creator" content="@onmyway133"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://onmyway133.github.io"},"headline":"onmyway133","image":["https://onmyway133.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Khoa Pham"},"description":"What you don&#39;t know is what you haven&#39;t learned"}</script><link rel="alternative" href="/atom.xml" title="onmyway133" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-40119591-5" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-40119591-5');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><script data-ad-client="ca-pub-3656459401405265" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/apps">Apps</a><a class="navbar-item" href="/gumroad">Gumroad</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/opensource">Open Source</a><a class="navbar-item" href="/writing">Writing</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/speaking">Speaking</a><a class="navbar-item" href="/news">News</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-10-01T02:24:15.000Z" title="2020-10-01T02:24:15.000Z">2020-10-01</time><span class="level-item">a few seconds read (About 85 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-dynamically-add-items-to-VStack-from-list-in-SwiftUI/">How to dynamically add items to VStack from list in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/678">#678</a></strong></p>
<p>Use <code>enumerated</code> to get <code>index</code> so we can assign to item in list. Here is how I show list of device tokens in my app <a href="https://onmyway133.com/pushhero">Push Hero</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> textViews: some <span class="type">View</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> withIndex = input.deviceTokens.enumerated().<span class="built_in">map</span>(&#123; $<span class="number">0</span> &#125;)</span><br><span class="line">    <span class="keyword">let</span> binding: (<span class="type">Int</span>, <span class="type">Input</span>.<span class="type">DeviceToken</span>) -&gt; <span class="type">Binding</span>&lt;<span class="type">String</span>&gt; = &#123; index, token <span class="keyword">in</span></span><br><span class="line">        <span class="type">Binding</span>&lt;<span class="type">String</span>&gt;(</span><br><span class="line">            <span class="keyword">get</span>: &#123; token.token &#125;,</span><br><span class="line">            <span class="keyword">set</span>: &#123; <span class="keyword">self</span>.input.deviceTokens[index].token = $<span class="number">0</span> &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="type">VStack</span> &#123;</span><br><span class="line">        <span class="type">ForEach</span>(withIndex, id: \.element.id) &#123; index, token <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">return</span> <span class="type">DeviceTokenTextView</span>(text: binding(index, token))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-09-29T03:01:46.000Z" title="2020-09-29T03:01:46.000Z">2020-09-29</time><span class="level-item">a minute read (About 135 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-unwrap-Binding-with-Optional-in-SwiftUI/">How to unwrap Binding with Optional in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/677">#677</a></strong></p>
<p>The quick way to add new properties without breaking current saved Codable is to declare them as optional. For example if you use  <a href="https://github.com/onmyway133/EasyStash">EasyStash</a> library to save and load Codable models.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Input</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> bundleId: <span class="type">String</span> = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// New props</span></span><br><span class="line">    <span class="keyword">var</span> notificationId: <span class="type">String?</span></span><br></pre></td></tr></table></figure>

<p>This new property when using dollar syntax <code>$input.notificationId</code> turn into Binding with optional <code>Binding&lt;Strting?&gt;</code> which is incompatible in SwiftUI when we use Binding.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MaterialTextField</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> placeholder: <span class="type">String</span></span><br><span class="line">    @<span class="type">Binding</span> <span class="keyword">var</span> text: <span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The solution here is write an extension that converts <code>Binding&lt;String?&gt;</code> to <code>Binding&lt;String&gt;</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Binding</span> <span class="title">where</span> <span class="title">Value</span> == <span class="title">String</span>? </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">toNonOptional</span><span class="params">()</span></span> -&gt; <span class="type">Binding</span>&lt;<span class="type">String</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Binding</span>&lt;<span class="type">String</span>&gt;(</span><br><span class="line">            <span class="keyword">get</span>: &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">self</span>.wrappedValue ?? <span class="string">""</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">set</span>: &#123;</span><br><span class="line">                <span class="keyword">self</span>.wrappedValue = $<span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>so we can use them as normal</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">MaterialTextField</span>(text: $input.notificationId.toNonOptional())</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-09-29T02:55:04.000Z" title="2020-09-29T02:55:04.000Z">2020-09-29</time><span class="level-item">a minute read (About 196 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-custom-toggle-in-SwiftUI/">How to make custom toggle in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/676">#676</a></strong></p>
<p>I’ve used the default <code>SwiftUI</code> to achieve the 2 tab views in SwiftUI. It adds a default box around the content and also opinionated paddings. For now on light mode on macOS, the unselected tab has wrong colors.</p>
<p>The way to solve this is to come up with a custom toggle, that we can style and align the way we want. Here is how I did for my app <a href="https://onmyway133.com/pushhero">Push Hero</a></p>
<p>Using a Text instead of Button here gives me default static text look.</p>
<img width="752" alt="Screenshot 2020-09-29 at 06 52 33" src="https://user-images.githubusercontent.com/2284279/94513986-5bf62880-0220-11eb-9b29-bca0de5de64b.png">

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AuthenticationView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">Binding</span> <span class="keyword">var</span> input: <span class="type">Input</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        toggle</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> toggle: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">HStack</span>(spacing: <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"🔑 Key"</span>)</span><br><span class="line">                        .style(selected: input.authentication == .key)</span><br><span class="line">                        .onTapGesture &#123;</span><br><span class="line">                            <span class="keyword">self</span>.input.authentication = .key</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"📰 Certificate"</span>)</span><br><span class="line">                        .style(selected: input.authentication == .certificate)</span><br><span class="line">                        .onTapGesture &#123;</span><br><span class="line">                            <span class="keyword">self</span>.input.authentication = .certificate</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                .padding(<span class="number">3</span>)</span><br><span class="line">                .background(<span class="type">Color</span>.white.opacity(<span class="number">0.2</span>))</span><br><span class="line">                .cornerRadius(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">                <span class="type">Spacer</span>()</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            choose</span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> choose: <span class="type">AnyView</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> input.authentication &#123;</span><br><span class="line">        <span class="keyword">case</span> .key:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">KeyAuthenticationView</span>().erase()</span><br><span class="line">        <span class="keyword">case</span> .certificate:</span><br><span class="line">            <span class="keyword">return</span> <span class="type">CertificateAuthenticationView</span>().erase()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">extension</span> <span class="title">Text</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">style</span><span class="params">(selected: Bool)</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span></span><br><span class="line">            .padding(.vertical, <span class="number">3</span>)</span><br><span class="line">            .padding(.horizontal, <span class="number">4</span>)</span><br><span class="line">            .background(selected ? <span class="type">Color</span>.white.opacity(<span class="number">0.5</span>) : <span class="type">Color</span>.clear)</span><br><span class="line">            .cornerRadius(<span class="number">6</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-09-29 04:55:14</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-09-25T02:01:53.000Z" title="2020-09-25T02:01:53.000Z">2020-09-25</time><span class="level-item">a few seconds read (About 49 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-Binding-in-function-in-Swift/">How to use Binding in function in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/675">#675</a></strong></p>
<p>Use <code>wrappedValue</code> to get the underlying value that Binding contains</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">addOverlay</span><span class="params">(shows: Binding&lt;Bool&gt;)</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HStack</span> &#123;</span><br><span class="line">            <span class="keyword">self</span></span><br><span class="line">            <span class="type">Spacer</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        .overlay(</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">Spacer</span>()</span><br><span class="line">                <span class="type">SmallButton</span>(</span><br><span class="line">                    imageName: <span class="string">"downArrow"</span>,</span><br><span class="line">                    tooltip: shows.wrappedValue ? <span class="string">"Collapse"</span> : <span class="string">"Expand"</span>,</span><br><span class="line">                    action: &#123;</span><br><span class="line">                        shows.wrappedValue.toggle()</span><br><span class="line">                    &#125;</span><br><span class="line">                )</span><br><span class="line">                .rotationEffect(.radians(shows.wrappedValue ? .pi : <span class="number">0</span>))</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-09-23T02:32:58.000Z" title="2020-09-23T02:32:58.000Z">2020-09-23</time><span class="level-item">a few seconds read (About 58 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-HSplitView-to-define-3-panes-view-in-SwiftUI-for-macOS/">How to use HSplitView to define 3 panes view in SwiftUI for macOS</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/674">#674</a></strong></p>
<p>Specify <code>minWidth</code> to ensure miminum width, and use <code>.layoutPriority(1)</code> for the most important pane.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MainView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">EnvironmentObject</span> <span class="keyword">var</span> store: <span class="type">Store</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">HSplitView</span> &#123;</span><br><span class="line">            <span class="type">LeftPane</span>()</span><br><span class="line">                .padding()</span><br><span class="line">                .frame(minWidth: <span class="number">200</span>, maxWidth: <span class="number">500</span>)</span><br><span class="line">            <span class="type">MiddlePane</span>(store: store)</span><br><span class="line">                .padding()</span><br><span class="line">                .frame(minWidth: <span class="number">500</span>)</span><br><span class="line">                .layoutPriority(<span class="number">1</span>)</span><br><span class="line">            <span class="type">RightPane</span>()</span><br><span class="line">                .padding()</span><br><span class="line">                .frame(minWidth: <span class="number">300</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        .background(<span class="type">R</span>.color.background)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-09-23 08:42:29</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-09-15T10:16:47.000Z" title="2020-09-15T10:16:47.000Z">2020-09-15</time><span class="level-item">a minute read (About 118 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-draw-arc-corner-using-Bezier-Path/">How to draw arc corner using Bezier Path</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/673">#673</a></strong></p>
<p>To draw rounded 2 corners at top left and top right, let’s start from bottom left</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> path = <span class="type">UIBezierPath</span>()</span><br><span class="line"><span class="comment">// bottom left</span></span><br><span class="line">path.move(to: <span class="type">CGPoint</span>(x: <span class="number">0</span>, y: bounds.height))</span><br><span class="line"><span class="comment">// top left corner</span></span><br><span class="line">path.addArc(withCenter: <span class="type">CGPoint</span>(x: radius, y: radius), radius: radius, startAngle: <span class="type">CGFloat</span>.pi, endAngle: <span class="type">CGFloat</span>.pi * <span class="number">3</span> / <span class="number">2</span>, clockwise: <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// top right corner</span></span><br><span class="line">path.addArc(withCenter: <span class="type">CGPoint</span>(x: bounds.width - radius, y: radius), radius: radius, startAngle: <span class="type">CGFloat</span>.pi * <span class="number">3</span> / <span class="number">2</span>, endAngle: <span class="number">0</span>, clockwise: <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// bottom right</span></span><br><span class="line">path.addLine(to: <span class="type">CGPoint</span>(x: bounds.width, y: bounds.height))</span><br><span class="line">path.close()</span><br></pre></td></tr></table></figure>

<img width="598" alt="Screenshot 2020-09-15 at 14 16 01" src="https://user-images.githubusercontent.com/2284279/93209165-fdc84080-f75d-11ea-9e95-ed39d749b7d6.png">

<p><img src="https://user-images.githubusercontent.com/2284279/93209263-27816780-f75e-11ea-9de8-d50d72798313.png" alt="cc"></p>
<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="http://ronnqvi.st/thinking-like-a-bzier-path">http://ronnqvi.st/thinking-like-a-bzier-path</a> </li>
</ul>
<p><strong>Updated at</strong> 2020-09-15 12:18:11</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-28T05:32:01.000Z" title="2020-08-28T05:32:01.000Z">2020-08-28</time><span class="level-item">2 minutes read (About 292 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-stitch-and-sort-array-in-Swift/">How to stitch and sort array in Swift</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/672">#672</a></strong></p>
<p>Supposed we want to stitch magazines array into books array. The requirement is to sort them by <code>publishedDate</code>, but must keep <code>preferredOrder</code> of books. One way to solve this is to declare an enum to hold all possible cases, and then do a sort that check every possible combination </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> preferredOrder: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> publishedDate: <span class="type">Date</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Magazine</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> publishedDate: <span class="type">Date</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">StitchItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> book(<span class="type">Book</span>)</span><br><span class="line">    <span class="keyword">case</span> magazine(<span class="type">Magazine</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stitch</span><span class="params">(<span class="number">_</span> books: [Book], magazines: [Magazine])</span></span> -&gt; [<span class="type">StitchItem</span>] &#123;</span><br><span class="line">    <span class="keyword">let</span> items = books.<span class="built_in">map</span>(&#123; <span class="type">StitchItem</span>.book($<span class="number">0</span>) &#125;) + magazines.<span class="built_in">map</span>(&#123; <span class="type">StitchItem</span>.magazine($<span class="number">0</span>) &#125;)</span><br><span class="line">    <span class="keyword">return</span> items.sorted(by: &#123; book, magazine <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">switch</span> (book, magazine) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> (.book(b1), .book(b2)):</span><br><span class="line">            <span class="keyword">return</span> b1.preferredOrder &lt; b2.preferredOrder</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> (.book(book), .magazine(magazine)):</span><br><span class="line">            <span class="keyword">if</span> book.publishedDate == magazine.publishedDate &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> book.publishedDate &lt; magazine.publishedDate</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> (.magazine(magazine), .book(book)):</span><br><span class="line">            <span class="keyword">if</span> book.publishedDate == magazine.publishedDate &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> book.publishedDate &lt; magazine.publishedDate</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">case</span> <span class="keyword">let</span> (.magazine(m1), .magazine(m2)):</span><br><span class="line">            <span class="keyword">return</span> m1.publishedDate &lt; m2.publishedDate</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The above sort function declares the intention but Swift just <code>sort</code> instead of trying to fully meet our requirements. </p>
<p>A manual solution is to sort each array first then use while loop to insert.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stitch</span><span class="params">(<span class="number">_</span> books: [Book], magazines: [Magazine])</span></span> -&gt; [<span class="type">StitchItem</span>] &#123;</span><br><span class="line">    <span class="keyword">let</span> books = books</span><br><span class="line">        .sorted(by: &#123; $<span class="number">0</span>.preferredOrder &lt; $<span class="number">1</span>.preferredOrder &#125;)</span><br><span class="line">    <span class="keyword">let</span> magazines = magazines</span><br><span class="line">        .sorted(by: sortmagazines)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> bookIndex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> magazineIndex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> results: [<span class="type">StitchItem</span>] = []</span><br><span class="line">    <span class="keyword">while</span> (bookIndex &lt; books.<span class="built_in">count</span> &amp;&amp; magazineIndex &lt; magazines.<span class="built_in">count</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> book = books[bookIndex]</span><br><span class="line">        <span class="keyword">let</span> magazine = magazines[magazineIndex]</span><br><span class="line">        <span class="keyword">if</span> book.publishedDate &lt; magazine.publishedDate &#123;</span><br><span class="line">            results.append(<span class="type">StitchItem</span>.book(book))</span><br><span class="line">            bookIndex += <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            results.append(<span class="type">StitchItem</span>.magazine(magazine))</span><br><span class="line">            magazineIndex += <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (bookIndex &lt; books.<span class="built_in">count</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> book = books[bookIndex]</span><br><span class="line">        results.append(<span class="type">StitchItem</span>.book(book))</span><br><span class="line">        bookIndex += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (magazineIndex &lt; magazines.<span class="built_in">count</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> magazine = magazines[magazineIndex]</span><br><span class="line">        results.append(<span class="type">StitchItem</span>.magazine(magazine))</span><br><span class="line">        magazineIndex += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-08-31 12:19:33</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-14T05:29:45.000Z" title="2020-08-14T05:29:45.000Z">2020-08-14</time><span class="level-item">a minute read (About 120 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-dynamic-font-size-for-UIButton/">How to make dynamic font size for UIButton</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/671">#671</a></strong></p>
<p>Use <a href="https://developer.apple.com/documentation/uikit/uicontentsizecategoryadjusting/1771731-adjustsfontforcontentsizecategor?language=objc">adjustsFontForContentSizeCategory</a></p>
<blockquote>
<p>A Boolean that indicates whether the object automatically updates its font when the device’s content size category changes.</p>
</blockquote>
<blockquote>
<p>If you set this property to YES, the element adjusts for a new content size category on a UIContentSizeCategoryDidChangeNotification.</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">button.titleLabel?.adjustsFontForContentSizeCategory = <span class="literal">true</span></span><br><span class="line">button.backgroundColor = <span class="type">UIColor</span>.green</span><br><span class="line">button.titleLabel?.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title1)</span><br><span class="line"></span><br><span class="line">label.adjustsFontForContentSizeCategory = <span class="literal">true</span></span><br><span class="line">label.backgroundColor = <span class="type">UIColor</span>.yellow</span><br><span class="line">label.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title1)</span><br></pre></td></tr></table></figure>

<p>However it seems view (UIButton or UILabel) size is the same, just the inner text increases in size. A workaround is to put view inside <code>UIStackView</code> so UIButton or UILabel can automatically changes size.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-06T09:39:42.000Z" title="2020-08-06T09:39:42.000Z">2020-08-06</time><span class="level-item">a few seconds read (About 94 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-test-for-view-disappear-in-navigation-controller/">How to test for view disappear in navigation controller</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/670">#670</a></strong></p>
<p>To test for <code>viewWillDisappear</code> during <code>UINavigationController</code> <code>popViewController</code> in unit test, we need to simulate <code>UIWindow</code> so view appearance works.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">PopTests</span>: <span class="title">XCTestCase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">testPop</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.main.bounds)</span><br><span class="line">        <span class="keyword">let</span> navigationController = <span class="type">UINavigationController</span>()</span><br><span class="line">        window.rootViewController = navigationController</span><br><span class="line">        <span class="keyword">let</span> viewController = <span class="type">DetailViewController</span>()</span><br><span class="line"></span><br><span class="line">        navigationController.viewControllers = [</span><br><span class="line">            <span class="type">UIViewController</span>(),</span><br><span class="line">            viewController</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        window.makeKeyAndVisible()</span><br><span class="line">        <span class="keyword">let</span> expectation = <span class="type">XCTestExpectation</span>()</span><br><span class="line">        navigationController.popViewController(animated: <span class="literal">false</span>)</span><br><span class="line">        <span class="type">DispatchQueue</span>.main.asyncAfter(deadline: .now() + <span class="number">0.1</span>) &#123;</span><br><span class="line">            <span class="type">XCTAssertTrue</span>(viewController.wasDismissed)</span><br><span class="line">            expectation.fulfill()</span><br><span class="line">        &#125;</span><br><span class="line">        wait(<span class="keyword">for</span>: [expectation], timeout: <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DetailViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillDisappear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">            <span class="keyword">super</span>.viewWillDisappear(animated)</span><br><span class="line">            <span class="keyword">if</span> isMovingFromParent &#123;</span><br><span class="line">                wasDismissed = <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-08-14 07:30:07</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-17T04:18:06.000Z" title="2020-06-17T04:18:06.000Z">2020-06-17</time><span class="level-item">a minute read (About 130 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-useEffect-in-React-hook/">How to use useEffect in React hook</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/669">#669</a></strong></p>
<p>Specify params as array <code>[year, id]</code>, not object <code>{year, id}</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; year, id &#125; = props</span><br><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> loadData = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                </span><br><span class="line">            &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(error)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        listenChats()</span><br><span class="line">    &#125;, [year, id])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Hooks-effect"><a href="#Hooks-effect" class="headerlink" title="Hooks effect"></a>Hooks effect</h2><ul>
<li><a href="https://reactjs.org/docs/hooks-effect.html">https://reactjs.org/docs/hooks-effect.html</a></li>
<li><a href="https://reactjs.org/docs/hooks-reference.html#useeffect">https://reactjs.org/docs/hooks-reference.html#useeffect</a></li>
</ul>
<blockquote>
<p>By default, it runs both after the first render and after every update.</p>
</blockquote>
<blockquote>
<p>This requirement is common enough that it is built into the useEffect Hook API. You can tell React to skip applying an effect if certain values haven’t changed between re-renders. To do so, pass an array as an optional second argument to useEffect:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">&#125;, [count]); <span class="comment">// Only re-run the effect if count changes</span></span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-17 06:21:08</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-16T05:27:12.000Z" title="2020-06-16T05:27:12.000Z">2020-06-16</time><span class="level-item">2 minutes read (About 253 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-sign-in-with-apple-for-web-with-firebase/">How to sign in with apple for web with firebase</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/668">#668</a></strong></p>
<h3 id="Authenticate-Using-Apple-with-JavaScript"><a href="#Authenticate-Using-Apple-with-JavaScript" class="headerlink" title="Authenticate Using Apple with JavaScript"></a>Authenticate Using Apple with JavaScript</h3><p>Use Firebase JS SDK</p>
<ul>
<li><a href="https://firebase.google.com/docs/auth/web/apple">https://firebase.google.com/docs/auth/web/apple</a></li>
</ul>
<h3 id="Configure-Sign-in-with-Apple-for-the-web"><a href="#Configure-Sign-in-with-Apple-for-the-web" class="headerlink" title="Configure Sign in with Apple for the web"></a>Configure Sign in with Apple for the web</h3><ul>
<li><a href="https://help.apple.com/developer-account/#/dev1c0e25352">https://help.apple.com/developer-account/#/dev1c0e25352</a></li>
</ul>
<p>Go to <a href="https://developer.apple.com/account/resources/identifiers/list">Certificates, Identifiers &amp; Profiles -&gt; Identifier</a> create 2 ids: App ID and Service ID</p>
<p>For example: I have App ID com.onmyway133.myapp and Service ID com.onmyway133.myweb</p>
<img width="1218" alt="Screenshot 2020-06-16 at 09 20 34" src="https://user-images.githubusercontent.com/2284279/84743751-ab3a8500-afb2-11ea-90b6-e399c05c7741.png">

<p>Remember that to view App ID or Service ID, there’s dropdown menu on the right</p>
<img width="296" alt="Screenshot 2020-06-16 at 09 21 20" src="https://user-images.githubusercontent.com/2284279/84743826-c2797280-afb2-11ea-820c-5b405a787eb3.png">

<p> For App ID,  enable</p>
<ul>
<li>Associated Domains</li>
<li>Sign In with Apple: Enable it as Primary App ID</li>
</ul>
<p>For Service ID, use firebase callback url</p>
<ul>
<li><a href="https://myweb.firebaseapp.com/__/auth/handler">https://myweb.firebaseapp.com/__/auth/handler</a></li>
</ul>
<h3 id="Associate-domain"><a href="#Associate-domain" class="headerlink" title="Associate domain"></a>Associate domain</h3><p>Add <code>apple-app-site-association</code> in <code>public</code> folder</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;applinks&quot;: &#123;</span><br><span class="line">      &quot;details&quot;: [</span><br><span class="line">           &#123;</span><br><span class="line">             &quot;appIDs&quot;: [&quot;T78DK947F2.com.onmyway133.myapp&quot;],</span><br><span class="line">             &quot;components&quot;: [</span><br><span class="line">               &#123;</span><br><span class="line">                  &quot;#&quot;: &quot;no_universal_links&quot;,</span><br><span class="line">                  &quot;exclude&quot;: true,</span><br><span class="line">                  &quot;comment&quot;: &quot;Matches any URL whose fragment equals no_universal_links and instructs the system not to open it as a universal link&quot;</span><br><span class="line">               &#125;</span><br><span class="line">             ]</span><br><span class="line">           &#125;</span><br><span class="line">       ]</span><br><span class="line">   &#125;,</span><br><span class="line">   &quot;webcredentials&quot;: &#123;</span><br><span class="line">      &quot;apps&quot;: [ &quot;T78DK947F2.com.onmyway133.myweb&quot; ]</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Private-key"><a href="#Private-key" class="headerlink" title="Private key"></a>Private key</h2><p>Go to <a href="https://developer.apple.com/account/resources/authkeys/list">Keys</a> and create new auth key. Configure that key with the primary App ID above</p>
<img width="1261" alt="Screenshot 2020-06-16 at 09 24 05" src="https://user-images.githubusercontent.com/2284279/84744141-2308af80-afb3-11ea-98ce-8b32c1c300d1.png">

<h2 id="Configure-in-Firebase"><a href="#Configure-in-Firebase" class="headerlink" title="Configure in Firebase"></a>Configure in Firebase</h2><p>Go to <a href="https://console.firebase.google.com/u/0/project/wwdc-together/authentication/providers">Sign in providers</a> and enable Apple sign in.</p>
<p>Fill in </p>
<ul>
<li>Service ID identifier (com.onmyway133.myweb)</li>
<li>OAuth code flow configuration: fill in your team id, key id and key secret content.</li>
</ul>
<img width="973" alt="Screenshot 2020-06-16 at 09 25 23" src="https://user-images.githubusercontent.com/2284279/84744287-50edf400-afb3-11ea-8802-a388b48b97ec.png">

<p><strong>Updated at</strong> 2020-06-16 07:27:18</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-14T19:20:10.000Z" title="2020-06-14T19:20:10.000Z">2020-06-14</time><span class="level-item">a minute read (About 138 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-firebase-cloud-functions/">How to use firebase cloud functions</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/667">#667</a></strong></p>
<h3 id="Use-node-10"><a href="#Use-node-10" class="headerlink" title="Use node 10"></a>Use node 10</h3><p>Edit package.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;engines&quot;: &#123;</span><br><span class="line">    &quot;node&quot;: &quot;10&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="Secret-key"><a href="#Secret-key" class="headerlink" title="Secret key"></a>Secret key</h3><p>Go to <code>settings/serviceaccounts/adminsdk</code>, download secret key in form of <code>json</code> and place it in <code>lib/config.json</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> serviceAccount = <span class="built_in">require</span>(<span class="string">'./config.json'</span>)</span><br><span class="line"></span><br><span class="line">admin.initializeApp(&#123;</span><br><span class="line">    credential: admin.credential.cert(serviceAccount),</span><br><span class="line">    databaseURL: <span class="string">"https://my-app-4b968.firebaseio.com"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Local-serve"><a href="#Local-serve" class="headerlink" title="Local serve"></a>Local serve</h3><p>This builds and spins up emulator to test</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure>

<h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><ul>
<li><a href="https://stackoverflow.com/questions/42755131/enabling-cors-in-cloud-functions-for-firebase">https://stackoverflow.com/questions/42755131/enabling-cors-in-cloud-functions-for-firebase</a></li>
<li><a href="https://mhaligowski.github.io/blog/2017/03/10/cors-in-cloud-functions.html">https://mhaligowski.github.io/blog/2017/03/10/cors-in-cloud-functions.html</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.set(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var cors &#x3D; require(&#39;cors&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; my function</span><br><span class="line">var helloFn &#x3D; function helloFn(req, res) &#123;</span><br><span class="line">    res.status(200)</span><br><span class="line">        .send(&#39;Hello, Functions\n&#39;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; CORS and Cloud Functions export logic</span><br><span class="line">exports.hello &#x3D; function hello(req, res) &#123;</span><br><span class="line">    var corsFn &#x3D; cors();</span><br><span class="line">    corsFn(req, res, function() &#123;</span><br><span class="line">        helloFn(req, res);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-14 21:39:27</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-14T17:40:15.000Z" title="2020-06-14T17:40:15.000Z">2020-06-14</time><span class="level-item">a few seconds read (About 50 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-deploy-with-create-react-app/">How to deploy with create react app</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/666">#666</a></strong></p>
<h3 id="Direct-url"><a href="#Direct-url" class="headerlink" title="Direct url"></a>Direct url</h3><p><code>200.html</code></p>
<p><a href="https://stackoverflow.com/questions/44491184/react-router-does-not-work-in-production-and-surge-deployments">https://stackoverflow.com/questions/44491184/react-router-does-not-work-in-production-and-surge-deployments</a></p>
<p>Support for client-side routing:</p>
<p><a href="https://create-react-app.dev/docs/deployment/#netlify">https://create-react-app.dev/docs/deployment/#netlify</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*  &#x2F;index.html  200</span><br></pre></td></tr></table></figure>

<h3 id="Serving-the-Same-Build-from-Different-Paths"><a href="#Serving-the-Same-Build-from-Different-Paths" class="headerlink" title="Serving the Same Build from Different Paths"></a>Serving the Same Build from Different Paths</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"homepage": ".",</span><br></pre></td></tr></table></figure>

<p><strong>Updated at</strong> 2020-06-14 19:48:16</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-13T19:26:44.000Z" title="2020-06-13T19:26:44.000Z">2020-06-13</time><span class="level-item">a few seconds read (About 49 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-go-back-to-home-in-React/">How to go back to home in React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/665">#665</a></strong></p>
<p>Usually in header we have logo that takes user back to the home page</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line">&lt;Router&gt;</span><br><span class="line">    &lt;Switch&gt;</span><br><span class="line">        &lt;Route exact path=<span class="string">"/"</span>&gt;</span><br><span class="line">            &lt;Home /&gt;</span><br><span class="line">        &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>Router&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Header.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"><span class="keyword">const</span> history = useHistory()</span><br><span class="line"></span><br><span class="line">&lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"navbar-item"</span> onClick=&#123;() =&gt; &#123;</span><br><span class="line">    history.push(<span class="string">'/'</span>)</span><br><span class="line">&#125;&#125;&gt;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-13T18:53:41.000Z" title="2020-06-13T18:53:41.000Z">2020-06-13</time><span class="level-item">a few seconds read (About 46 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-format-date-in-certain-timezone-with-momentjs/">How to format date in certain timezone with momentjs</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/664">#664</a></strong></p>
<p>Use moment-timezone <a href="https://momentjs.com/timezone/docs/">https://momentjs.com/timezone/docs/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install moment-timezone</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; public&#x2F;index.html</span><br><span class="line">&lt;script src&#x3D;&quot;moment.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;script src&#x3D;&quot;moment-timezone-with-data.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>Need to import from <code>moment-timezone</code>, not <code>moment</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">'moment-timezone'</span></span><br><span class="line"></span><br><span class="line">moment(startAt).tz(<span class="string">'America/Los_Angeles'</span>).format(<span class="string">'MMMM Do YYYY'</span>)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-12T20:05:45.000Z" title="2020-06-12T20:05:45.000Z">2020-06-12</time><span class="level-item">a minute read (About 113 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-style-video-js/">How to style video js</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/663">#663</a></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** @jsx jsx */</span></span><br><span class="line"><span class="keyword">import</span> &#123; css, jsx &#125; <span class="keyword">from</span> <span class="string">'@emotion/core'</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> videojs <span class="keyword">from</span> <span class="string">'video.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">VideoPlayer</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        <span class="comment">// instantiate Video.js</span></span><br><span class="line">        <span class="keyword">this</span>.player = videojs(<span class="keyword">this</span>.videoNode, <span class="keyword">this</span>.props, <span class="function"><span class="keyword">function</span> <span class="title">onPlayerReady</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'onPlayerReady'</span>, <span class="keyword">this</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// destroy player on unmount</span></span><br><span class="line">    componentWillUnmount() &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.player) &#123;</span><br><span class="line">            <span class="keyword">this</span>.player.dispose()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// wrap the player in a div with a `data-vjs-player` attribute</span></span><br><span class="line">    <span class="comment">// so videojs won't create additional wrapper in the DOM</span></span><br><span class="line">    <span class="comment">// see https://github.com/videojs/video.js/pull/3856</span></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;div data-vjs-player css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">                    </span></span><br><span class="line"><span class="css">                `</span>&#125;&gt;</span><br><span class="line">                    &lt;video </span><br><span class="line">                        ref=&#123;node =&gt; <span class="keyword">this</span>.videoNode = node&#125; </span><br><span class="line">                        className=<span class="string">"video-js vjs-big-play-centered"</span> </span><br><span class="line">                        data-setup=<span class="string">'&#123; "playbackRates": [0.5, 1, 1.5, 2] &#125;'</span></span><br><span class="line">                        css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">                        <span class="selector-tag">width</span>: <span class="selector-tag">auto</span>;</span></span><br><span class="line"><span class="css">                        <span class="selector-tag">height</span>: 400<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">                    `</span>&#125;&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;<span class="regexp">/video&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>div&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-17 05:38:30</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-12T19:23:14.000Z" title="2020-06-12T19:23:14.000Z">2020-06-12</time><span class="level-item">a few seconds read (About 34 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-setState-in-React/">How to use setState in React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/662">#662</a></strong></p>
<p>Use spread operator</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component, useState, useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [state, setState] = useState(&#123;</span><br><span class="line">        message: <span class="string">''</span>,</span><br><span class="line">        chats: [],</span><br><span class="line">        sending: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123; </span><br><span class="line">    ...prevState,</span><br><span class="line">    message: <span class="string">''</span>,</span><br><span class="line">    sending: <span class="literal">false</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-12 21:23:42</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-12T19:17:05.000Z" title="2020-06-12T19:17:05.000Z">2020-06-12</time><span class="level-item">a few seconds read (About 25 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-handle-events-for-input-with-React/">How to handle events for input with React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/661">#661</a></strong></p>
<p>Use Bulma css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">    <span class="class"><span class="keyword">class</span></span>=<span class="string">"input is-rounded"</span></span><br><span class="line">    type=<span class="string">"text"</span></span><br><span class="line">    placeholder=<span class="string">"Say something"</span></span><br><span class="line">    value=&#123;value&#125;</span><br><span class="line">    onChange=&#123;(e) =&gt; &#123; onValueChange(e.target.value) &#125;&#125;</span><br><span class="line">    onKeyDown=&#123;(e) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.key === <span class="string">'Enter'</span>) &#123;</span><br><span class="line">            onSend(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-16 07:30:52</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-12T19:17:05.000Z" title="2020-06-12T19:17:05.000Z">2020-06-12</time><span class="level-item">a few seconds read (About 23 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-handle-evens-in-put-with-React/">How to handle evens in put with React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/661">#661</a></strong></p>
<p>Use Bulma css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">    <span class="class"><span class="keyword">class</span></span>=<span class="string">"input is-rounded"</span></span><br><span class="line">    type=<span class="string">"text"</span></span><br><span class="line">    placeholder=<span class="string">"Say something"</span></span><br><span class="line">    value=&#123;value&#125;</span><br><span class="line">    onChange=&#123;(e) =&gt; &#123; onValueChange(e.target.value) &#125;&#125;</span><br><span class="line">    onKeyDown=&#123;(e) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.key === <span class="string">'Enter'</span>) &#123;</span><br><span class="line">            onSend(e)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-10T17:14:17.000Z" title="2020-06-10T17:14:17.000Z">2020-06-10</time><span class="level-item">a few seconds read (About 29 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-set-text-color-for-UIDatePicker/">How to set text color for UIDatePicker</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/660">#660</a></strong></p>
<p>Apply <code>tintColor</code> does not seem to have effect.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">datePicker.setValue(<span class="type">UIColor</span>.label, forKeyPath: <span class="string">"textColor"</span>)</span><br><span class="line">datePicker.setValue(<span class="literal">false</span>, forKey: <span class="string">"highlightsToday"</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-10 19:15:21</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-04T03:58:39.000Z" title="2020-06-04T03:58:39.000Z">2020-06-04</time><span class="level-item">a few seconds read (About 59 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-auto-scroll-to-top-in-react-router-5/">How to auto scroll to top in react router 5</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/659">#659</a></strong></p>
<p>Use <code>useLocation</code> <a href="https://reacttraining.com/react-router/web/guides/scroll-restoration">https://reacttraining.com/react-router/web/guides/scroll-restoration</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link,</span><br><span class="line">    useLocation,</span><br><span class="line">    withRouter</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_ScrollToTop</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; pathname &#125; = useLocation();</span><br><span class="line"></span><br><span class="line">    useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;, [pathname]);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> props.children</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ScrollToTop = withRouter(_ScrollToTop)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Router&gt;</span><br><span class="line">                &lt;ScrollToTop&gt;</span><br><span class="line">                    &lt;Header /&gt;</span><br><span class="line">                     &lt;Content /&gt;</span><br><span class="line">                    &lt;Footer /&gt;</span><br><span class="line">                &lt;<span class="regexp">/ScrollToTop&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>Router&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-04 05:58:47</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-03T02:41:26.000Z" title="2020-06-03T02:41:26.000Z">2020-06-03</time><span class="level-item">a minute read (About 142 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-dynamic-route-in-react-router-5/">How to use dynamic route in react router 5</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/658">#658</a></strong></p>
<p>Declare routes, use <code>exact</code> to match exact path as finding route is from top to bottom. For dynamic route, I find that we need to use render and pass the props manually.</p>
<p>Declare <code>Router</code> as the rooter with Header, Content and Footer. Inside Content there is the <code>Switch</code>, so header and footer stay the same across pages</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    BrowserRouter <span class="keyword">as</span> Router,</span><br><span class="line">    Switch,</span><br><span class="line">    Route,</span><br><span class="line">    Link</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Content</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">            &lt;Switch&gt;</span><br><span class="line">                &lt;Route exact path=<span class="string">"/about"</span>&gt;</span><br><span class="line">                    &lt;About /&gt;</span><br><span class="line">                &lt;<span class="regexp">/Route&gt;</span></span><br><span class="line"><span class="regexp">                &lt;Route exact path="/</span><span class="string">"&gt;</span></span><br><span class="line"><span class="string">                    &lt;Home /&gt;</span></span><br><span class="line"><span class="string">                &lt;/Route&gt;</span></span><br><span class="line"><span class="string">                &lt;Route path='/book/:id' render=&#123;(props) =&gt; &#123;</span></span><br><span class="line"><span class="string">                    return ( &lt;BookDetail &#123;...props &#125; /&gt; )</span></span><br><span class="line"><span class="string">                &#125;&#125; /&gt;</span></span><br><span class="line"><span class="string">                &lt;Route&gt;</span></span><br><span class="line"><span class="string">                    &lt;NotFound /&gt;</span></span><br><span class="line"><span class="string">                &lt;/Route&gt;</span></span><br><span class="line"><span class="string">            &lt;/Switch&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">function App() &#123;</span></span><br><span class="line"><span class="string">    return (</span></span><br><span class="line"><span class="string">        &lt;div&gt;</span></span><br><span class="line"><span class="string">            &lt;Router&gt;</span></span><br><span class="line"><span class="string">                &lt;Header /&gt;</span></span><br><span class="line"><span class="string">                &lt;Content /&gt;</span></span><br><span class="line"><span class="string">                &lt;Footer /&gt;</span></span><br><span class="line"><span class="string">            &lt;/Router&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>To trigger route request, use <code>useHistory</code> hook. Note that we need to declare variable, and not use <code>useHistory().push</code> directly</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useHistory &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> history = useHistory()</span><br><span class="line"></span><br><span class="line">&lt;a onClick=&#123;() =&gt; &#123;</span><br><span class="line">    history.push(<span class="string">`/book/<span class="subst">$&#123;uuid&#125;</span>`</span>)</span><br><span class="line">&#125;&#125; &gt;</span><br></pre></td></tr></table></figure>

<p>To get parameters, use <code>match</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">BookDetail</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> [ state, setState ] = useState(&#123;</span><br><span class="line">        book: <span class="literal">null</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> &#123; match &#125; = props</span><br><span class="line">   <span class="comment">// match.params.id</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-06-03 05:07:00</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-01T03:00:36.000Z" title="2020-06-01T03:00:36.000Z">2020-06-01</time><span class="level-item">a few seconds read (About 65 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-use-folder-as-local-npm-package/">How to use folder as local npm package</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/657">#657</a></strong></p>
<p>Add library folder <code>src/library</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src</span><br><span class="line">    library</span><br><span class="line">        res.js</span><br><span class="line">    screens</span><br><span class="line">        Home</span><br><span class="line">            index.js</span><br><span class="line">package.json</span><br></pre></td></tr></table></figure>

<p>Declare package.json in <code>library</code> folder</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"library"</span>,</span><br><span class="line">    <span class="string">"version"</span>: <span class="string">"0.0.1"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Declare library as dependency in root package.json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"dependencies": &#123;</span><br><span class="line">    "library": "file:src/library"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>Now import like normal, for example in <code>src/screens/Home/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> res <span class="keyword">from</span> <span class="string">'library/res'</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-22T18:41:10.000Z" title="2020-05-22T18:41:10.000Z">2020-05-22</time><span class="level-item">2 minutes read (About 245 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-switch-statement-in-SwiftUI/">How to make switch statement in SwiftUI</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/656">#656</a></strong></p>
<p>Lately I’ve been challenging myself to declare switch statement in SwiftUI, or in a more generalized way, execute any anonymous function that can return a View</p>
<h2 id="Use-Switch-and-Case-views"><a href="#Use-Switch-and-Case-views" class="headerlink" title="Use Switch and Case views"></a>Use Switch and Case views</h2><p>Note that this approach does not work yet, as <code>TupeView</code> should support variadic number of contents, and also T.RawValue needs to conform to Equatable in order to check the cases.</p>
<p>Also in Switch statement, Content can’t be inferred</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Case</span>&lt;<span class="title">T</span>: <span class="title">RawRepresentable</span>, <span class="title">Content</span>: <span class="title">View</span>&gt;: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> value: <span class="type">T</span></span><br><span class="line">    <span class="keyword">let</span> content: <span class="type">Content</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> value: <span class="type">T</span>, @<span class="type">ViewBuilder</span> content: () -&gt; <span class="type">Content</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.value = value</span><br><span class="line">        <span class="keyword">self</span>.content = content()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        content</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Switch</span>&lt;<span class="title">T</span>: <span class="title">RawRepresentable</span>, <span class="title">Content</span>: <span class="title">View</span>&gt;: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> value: <span class="type">T</span></span><br><span class="line">    <span class="keyword">let</span> cases: <span class="type">TupleView</span>&lt;<span class="type">Case</span>&lt;<span class="type">T</span>, <span class="type">Content</span>&gt;&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span>(<span class="number">_</span> value: <span class="type">T</span>, @<span class="type">ViewBuilder</span> cases: () -&gt; <span class="type">TupleView</span>&lt;<span class="type">Case</span>&lt;<span class="type">T</span>, <span class="type">Content</span>&gt;&gt;) &#123;</span><br><span class="line">        <span class="keyword">self</span>.value = value</span><br><span class="line">        <span class="keyword">self</span>.cases = cases()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        makeBody()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">makeBody</span><span class="params">()</span></span> -&gt; some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Logic here</span></span><br><span class="line">        cases</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UseSwitchStatement</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animal: <span class="type">Animal</span> = .cat</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">VStack</span> &#123;</span><br><span class="line">            <span class="type">Switch</span>(animal) &#123;</span><br><span class="line">                <span class="type">Case</span>(<span class="type">Animal</span>.cat) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"cat"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Case</span>(<span class="type">Animal</span>.dog) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"dog"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">Case</span>(<span class="type">Animal</span>.mouse) &#123;</span><br><span class="line">                    <span class="type">Text</span>(<span class="string">"mouse"</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-MakeView"><a href="#Use-MakeView" class="headerlink" title="Use MakeView"></a>Use MakeView</h2><p>Another solution is to use a <code>MakeView</code> view, this is more generic as it can execute any functions</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Animal</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> cat</span><br><span class="line">    <span class="keyword">case</span> dog</span><br><span class="line">    <span class="keyword">case</span> mouse</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MakeView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> make: () -&gt; <span class="type">AnyView</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        make()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UseMakeView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animal: <span class="type">Animal</span> = .cat</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> body: some <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">MakeView</span> &#123;</span><br><span class="line">            <span class="keyword">switch</span> <span class="keyword">self</span>.animal &#123;</span><br><span class="line">            <span class="keyword">case</span> .cat:</span><br><span class="line">                <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"cat"</span>).erase()</span><br><span class="line">            <span class="keyword">case</span> .dog:</span><br><span class="line">                <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"dog"</span>).erase()</span><br><span class="line">            <span class="keyword">case</span> .mouse:</span><br><span class="line">                <span class="keyword">return</span> <span class="type">Text</span>(<span class="string">"mouse"</span>).erase()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-05-22 20:42:14</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-08T20:19:31.000Z" title="2020-05-08T20:19:31.000Z">2020-05-08</time><span class="level-item">a few seconds read (About 55 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-update-multiple-state-properties-with-React-hooks/">How to update multiple state properties with React hooks</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/655">#655</a></strong></p>
<p>Declare <code>state</code> and <code>setState</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Showcase</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> factory = props.factory</span><br><span class="line">    <span class="keyword">const</span> [state, setState] = useState(</span><br><span class="line">        &#123;</span><br><span class="line">            factory,</span><br><span class="line">            selectedFilter: &#123; <span class="attr">name</span>: <span class="string">''</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> onFilterClick = <span class="function">(<span class="params">filter</span>) =&gt;</span> &#123;</span><br><span class="line">        setState(&#123;</span><br><span class="line">            selectedFilter: filter,</span><br><span class="line">            factory: factory.filter(<span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> app.showcase.platforms.includes(filter.name)</span><br><span class="line">            &#125;) </span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> cards = state.factory.map(<span class="function">(<span class="params">app, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;Card app=&#123;app&#125; key=&#123;app.slug&#125; /&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;FilterBar onClick=&#123;onFilterClick&#125; /&gt;</span><br><span class="line">            &lt;div css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">                <span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">flex-direction</span>: <span class="selector-tag">row</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">flex-wrap</span>: <span class="selector-tag">wrap</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">justify-content</span>: <span class="selector-tag">flex-start</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">margin</span>: 0 <span class="selector-tag">auto</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">padding</span>: 0 8<span class="selector-tag">vw</span>;</span></span><br><span class="line"><span class="css">            `</span>&#125;&gt;</span><br><span class="line">                &#123;cards&#125;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-07T03:58:48.000Z" title="2020-05-07T03:58:48.000Z">2020-05-07</time><span class="level-item">11 minutes read (About 1579 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-white-label-React-app-for-landing-pages/">How to make white label React app for landing pages</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/654">#654</a></strong></p>
<p>A good landing page is one of the most crucial part of a successful launch. Recently I started creating landing pages for my <a href="https://onmyway133.com/apps/">apps</a>, I was lazy that I ended creating a white label React app as a landing template and then write a script to build multiple similar pages.</p>
<p>Here are a few examples, at first the pages share same look and feel, but we can add more configuration parameters later on. The cool thing with this approach is fixing bugs and adding features become easier, as they will all be deployed with the generator script.</p>
<p>Here are how it looks in my apps <a href="https://onmyway133.com/pastepal/">PastePal</a> and <a href="https://onmyway133.com/pushhero/">PushHero</a>, look at how the footer parts are so consistent.</p>
<img width="1433" alt="Screenshot 2020-05-14 at 05 47 28" src="https://user-images.githubusercontent.com/2284279/81890497-66cc5b80-95a6-11ea-88bb-43f99dcb6ad6.png">

<img width="1230" alt="Screenshot 2020-05-14 at 05 48 01" src="https://user-images.githubusercontent.com/2284279/81890540-7c418580-95a6-11ea-95ae-8b095440d26f.png">

<img width="1194" alt="Screenshot 2020-05-14 at 05 47 45" src="https://user-images.githubusercontent.com/2284279/81890555-8499c080-95a6-11ea-9028-c2bd09f66b0a.png">

<h2 id="Create-a-landing-page-in-pure-html-and-javascript"><a href="#Create-a-landing-page-in-pure-html-and-javascript" class="headerlink" title="Create a landing page in pure html and javascript"></a>Create a landing page in pure html and javascript</h2><p>The first version that I built is with pure html and javascript. It has a lot of boilerplate and I need to deal with Webpack eventually to obfuscate my code.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cards = <span class="built_in">Array</span>.from(apps).map(<span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>)</span><br><span class="line">    container.appendChild(a)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> card = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    card.className = <span class="string">'card'</span></span><br><span class="line">    a.appendChild(card)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// top</span></span><br><span class="line">    <span class="keyword">const</span> imageContainer = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>)</span><br><span class="line">    imageContainer.className = <span class="string">'image-container'</span></span><br><span class="line">    card.appendChild(imageContainer)</span><br><span class="line">    <span class="keyword">if</span> (app.background !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        imageContainer.style.backgroundColor = app.background</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        imageContainer.style.backgroundColor = <span class="string">'rgba(200, 200, 200, 1.0)'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> image = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>)</span><br><span class="line">    image.src = <span class="string">`../<span class="subst">$&#123;app.slug&#125;</span>/icon.png`</span></span><br><span class="line">    imageContainer.appendChild(image)</span><br></pre></td></tr></table></figure>

<p>Since they are in pure html and javascript, everyone can just open browser and view source code, which is not ideal, so I need to fiddle with Webpack and other uglify and minimize tools to obfuscate the code, like <a href="https://onmyway133.com/blog/how-to-use-webpack-to-bundle-html-css-js/">How to use webpack to bundle html css js</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br><span class="line">npm install webpack webpack-cli --save-dev</span><br><span class="line">npm install babel-minify-webpack-plugin --save-dev</span><br><span class="line">npm install html-webpack-plugin --save-dev</span><br><span class="line"></span><br><span class="line">const MinifyPlugin &#x3D; require(&#39;babel-minify-webpack-plugin&#39;);</span><br><span class="line">const HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    entry: &quot;.&#x2F;index.js&quot;,</span><br><span class="line">    mode: &#39;production&#39;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: &quot;.&#x2F;index.js&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        new MinifyPlugin(),</span><br><span class="line">        new HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: &#39;index.html&#39;,</span><br><span class="line">            filename: &#39;index.html&#39;,</span><br><span class="line">            minify: &#123;</span><br><span class="line">                collapseWhitespace: true</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>And with external css sheets, finding and renaming class list names take some time.</p>
<h2 id="Create-a-landing-page-in-React"><a href="#Create-a-landing-page-in-React" class="headerlink" title="Create a landing page in React"></a>Create a landing page in React</h2><p>I use <a href="https://create-react-app.dev/">create-react-app</a> to generate my React app as it sets up JSX, Babel, Webpack, hot reloading and development server for me.</p>
<h3 id="Inline-css"><a href="#Inline-css" class="headerlink" title="Inline css"></a>Inline css</h3><p>I like js, css and html be part of the same component file, so I prefer inline css. I tried <a href="https://styled-components.com/">styled-components</a> before but then I found <a href="https://emotion.sh/docs/introduction">emotion</a> to be much easier to use and close to css. I also don’t like declaring unnecessary local variables style in styled-components.</p>
<p>Here is a good comparison between the 2 <a href="https://github.com/jsjoeio/styled-components-vs-emotion">styled-components-vs-emotion</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// styled-components</span></span><br><span class="line"><span class="comment">// CSS syntax in tagged template literal</span></span><br><span class="line"><span class="keyword">const</span> Title = styled.h1<span class="string">`</span></span><br><span class="line"><span class="string">  font-size: 1.5em;</span></span><br><span class="line"><span class="string">  text-align: center;</span></span><br><span class="line"><span class="string">  color: palevioletred;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line">render(<span class="xml"><span class="tag">&lt;<span class="name">Title</span>&gt;</span>Hiya!<span class="tag">&lt;/<span class="name">Title</span>&gt;</span></span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object syntax</span></span><br><span class="line"><span class="keyword">const</span> button = styled.button(&#123;</span><br><span class="line">  fontSize: <span class="string">'1.5em'</span>,</span><br><span class="line">  textAlign: <span class="string">'center'</span>,</span><br><span class="line">  color: <span class="string">'palevioletred'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// emotion</span></span><br><span class="line"><span class="comment">// CSS syntax in tagged template literal</span></span><br><span class="line">render(</span><br><span class="line">  &lt;h1</span><br><span class="line">    className=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 1<span class="selector-class">.5em</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">text-align</span>: <span class="selector-tag">center</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-tag">palevioletred</span>;</span></span><br><span class="line"><span class="css">    `</span>&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    Hiya!</span><br><span class="line">  &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ Object syntax</span></span><br><span class="line"><span class="regexp">const titleStyles = css(&#123;</span></span><br><span class="line"><span class="regexp">  fontSize: '1.5em',</span></span><br><span class="line"><span class="regexp">  textAlign: 'center',</span></span><br><span class="line"><span class="regexp">  color: 'palevioletred'</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">render(&lt;h1 className=&#123;titleStyles&#125;&gt;Hiya!&lt;/</span>h1&gt;)</span><br></pre></td></tr></table></figure>

<h3 id="Use-emotion-for-inline-css"><a href="#Use-emotion-for-inline-css" class="headerlink" title="Use emotion for inline css"></a>Use emotion for inline css</h3><p>I detail here <a href="https://onmyway133.com/blog/how-to-use-emotion-for-inline-css-in-react/">How to use emotion for inline css in React</a></p>
<p>Emotion has core and styled styles. I usually use the <code>css</code> inline syntax, so I can just install the core</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @emotion/core</span><br></pre></td></tr></table></figure>

<p>Note that we have to declare jsx directive at the top of every file.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this comment tells babel to convert jsx to calls to a function called jsx instead of React.createElement</span></span><br><span class="line"><span class="comment">/** @jsx jsx */</span></span><br><span class="line"><span class="keyword">import</span> &#123; css, jsx &#125; <span class="keyword">from</span> <span class="string">'@emotion/core'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> color = <span class="string">'white'</span></span><br><span class="line"></span><br><span class="line">render(</span><br><span class="line">  &lt;div</span><br><span class="line">    css=&#123;css`<span class="css"></span></span><br><span class="line"><span class="css">      <span class="selector-tag">padding</span>: 32<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-tag">hotpink</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 24<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">border-radius</span>: 4<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">      &amp;<span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>: </span><span class="subst">$&#123;color&#125;</span><span class="css">;</span></span><br><span class="line"><span class="css">      &#125;</span></span><br><span class="line"><span class="css">    `</span>&#125;</span><br><span class="line">  &gt;</span><br><span class="line">    Hover to change color.</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">)</span></span><br></pre></td></tr></table></figure>

<p>One cool thing with inline css is they are just javascript code so it’s pretty easy to apply logic code, like in <a href="https://onmyway133.com/blog/how-to-conditionally-apply-css-in-emotion-js/">How to conditionally apply css in emotion js</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shadowCss = feature.shadow ? css`<span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">border-radius</span>: 5<span class="selector-tag">px</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">box-shadow</span>: 0 4<span class="selector-tag">px</span> 8<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.2</span>), 0 6<span class="selector-tag">px</span> 20<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.19</span>);</span></span><br><span class="line"><span class="css">    `</span> : css`<span class="css">`</span></span><br></pre></td></tr></table></figure>

<h3 id="Components-based"><a href="#Components-based" class="headerlink" title="Components based"></a>Components based</h3><p>When a component gets too big, I extract it to small components, in the end I have a bunch of them</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./components/Footer'</span></span><br><span class="line"><span class="keyword">import</span> Download <span class="keyword">from</span> <span class="string">'./components/Download'</span></span><br><span class="line"><span class="keyword">import</span> ProductHunt <span class="keyword">from</span> <span class="string">'./components/ProductHunt'</span></span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./components/Header'</span></span><br><span class="line"><span class="keyword">import</span> Headline <span class="keyword">from</span> <span class="string">'./components/Headline'</span></span><br><span class="line"><span class="keyword">import</span> Features <span class="keyword">from</span> <span class="string">'./components/Features</span></span><br></pre></td></tr></table></figure>

<p>and I stack them vertically, using flexbox and css grid</p>
<h3 id="Responsiveness-with-flexbox-and-css-grid"><a href="#Responsiveness-with-flexbox-and-css-grid" class="headerlink" title="Responsiveness with flexbox and css grid"></a>Responsiveness with flexbox and css grid</h3><p>I used flexbox mostly at first, but then I gradually convert some of them to css grid when I see fit.  To stack vertically with flexbox, I use <code>flex-direction</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">column</span></span><br></pre></td></tr></table></figure>

<p>where as in css grid items are stacked vertically by default, if we want multiple columns, specify <code>grid-template-columns</code> </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">grid</span>;</span><br><span class="line"><span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span> 1<span class="selector-tag">fr</span>;</span><br></pre></td></tr></table></figure>

<p>I use <code>flex-wrap: wrap</code> in some places to wrap content, but in some places I see specifying media query and changing columns in css grid is more easier and predictable</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">grid</span>;</span><br><span class="line"><span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span> 1<span class="selector-tag">fr</span>;</span><br><span class="line"><span class="selector-tag">grid-gap</span>: 8<span class="selector-tag">vw</span>;</span><br><span class="line"><span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (max-width: <span class="number">500px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">grid-template-columns</span>: 1<span class="selector-tag">fr</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Audit-with-Lighthouse"><a href="#Audit-with-Lighthouse" class="headerlink" title="Audit with Lighthouse"></a>Audit with Lighthouse</h3><p><a href="https://developers.google.com/web/tools/lighthouse">Google Lighthouse</a> is the most popular tool to audit website for performance and SEO. I use it to reduce image size, add correct html attributes and make it more SEO friendly.</p>
<h3 id="Prepare-a-list-of-app"><a href="#Prepare-a-list-of-app" class="headerlink" title="Prepare a list of app"></a>Prepare a list of app</h3><p>I have my list of apps in 1 javascript file, called <code>factory.js</code>, for example here with <a href="https://onmyway133.com/pastepal/">PastePal</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factory = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'PastePal'</span>,</span><br><span class="line">        slug: <span class="string">'pastepal'</span>,</span><br><span class="line">        header: &#123;</span><br><span class="line">            background: <span class="string">'#5488E5'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        headline: &#123;</span><br><span class="line">            title: <span class="string">'Your next favorite pasteboard manager'</span>,</span><br><span class="line">            text: <span class="string">'Never miss what you just type. PastePal is a native Mac application that manages your pasteboard history with a variety of file types support like text and images. It also comes with a nifty note and shortcut manager.'</span>,</span><br><span class="line">            image: <span class="string">'banner.png'</span>,</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>

<p>In my <code>package.json</code> for my landing page, I declare a property called <code>currentApp</code>. This is to specify which app I’m currently work on. Later in the generator script, we can just update this for every app that we build.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"landing"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"0.1.0"</span>,</span><br><span class="line">  <span class="string">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"homepage"</span>: <span class="string">"."</span>,</span><br><span class="line">  <span class="string">"currentApp"</span>: <span class="string">"pastepal"</span>,</span><br></pre></td></tr></table></figure>

<p>Here is how to read that value from my landing app</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> factory <span class="keyword">from</span> <span class="string">'./apps/factory'</span></span><br><span class="line"><span class="keyword">import</span> pkg <span class="keyword">from</span> <span class="string">'../package.json'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">        <span class="keyword">super</span>(props)</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentWillMount() &#123;</span><br><span class="line">        <span class="keyword">let</span> key = pkg.currentApp</span><br><span class="line">        <span class="keyword">if</span> (key === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            key = <span class="string">'pastepal'</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> app = factory.filter(<span class="function">(<span class="params">app</span>) =&gt;</span> &#123; <span class="keyword">return</span> app.slug === key &#125;)[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">this</span>.setState(app)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;Page app=&#123;<span class="keyword">this</span>.state&#125; /&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        )</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h3><p>One thing with <a href="https://create-react-app.dev/docs/deployment/">create-react-app</a> is that built assets are relative to the root, not your index.html</p>
<blockquote>
<p>npm run build creates a build directory with a production build of your app. Set up your favorite HTTP server so that a visitor to your site is served index.html, and requests to static paths like /static/js/main.<hash>.js are served with the contents of the /static/js/main.<hash>.js file. For more information see the production build section.</p>
</blockquote>
<blockquote>
<p>If you are not using the HTML5 pushState history API or not using client-side routing at all, it is unnecessary to specify the URL from which your app will be served. Instead, you can put this in your package.json:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;homepage&quot;: &quot;.&quot;,</span><br></pre></td></tr></table></figure>

<blockquote>
<p>This will make sure that all the asset paths are relative to index.html. You will then be able to move your app from <a href="http://mywebsite.com">http://mywebsite.com</a> to <a href="http://mywebsite.com/relativepath">http://mywebsite.com/relativepath</a> or even <a href="http://mywebsite.com/relative/path">http://mywebsite.com/relative/path</a> without having to rebuild it.</p>
</blockquote>
<h2 id="Build-a-generator-script-to-generate-many-landing-pages"><a href="#Build-a-generator-script-to-generate-many-landing-pages" class="headerlink" title="Build a generator script to generate many landing pages"></a>Build a generator script to generate many landing pages</h2><p>I make another nodejs project called <code>generator</code>, it will use my landing project as template, changes a few parameters and build each app defined in <code>factory.js</code>.</p>
<p>My factory use <code>export default</code> syntax, so I need to use Babel in my node app to import that, see <a href="https://onmyway133.com/blog/how-to-use-babel-7-in-node-project/">How to use babel 7 in node project</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init generator</span><br><span class="line">npm install @babel&#x2F;core</span><br><span class="line">npm install @babel&#x2F;cli</span><br><span class="line">npm install @babel&#x2F;preset-env</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [&quot;@babel&#x2F;preset-env&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Update-currentApp"><a href="#Update-currentApp" class="headerlink" title="Update currentApp"></a>Update currentApp</h3><p>I use <code>sync</code> methods of <code>fs</code> to not have to deal with asynchrony.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pkPath = <span class="string">`/Users/khoa/projects/anding/package.json`</span></span><br><span class="line"><span class="keyword">const</span> json = <span class="built_in">JSON</span>.parse(fs.readFileSync(pkPath, <span class="string">'utf8'</span>))</span><br><span class="line">json.currentApp = app.slug</span><br><span class="line">fs.writeFileSync(pkPath, <span class="built_in">JSON</span>.stringify(json, <span class="literal">null</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<h3 id="Execute-shell-command"><a href="#Execute-shell-command" class="headerlink" title="Execute shell command"></a>Execute shell command</h3><p>I use <code>shelljs</code> to execute shell commands, and <code>fs</code> to read and write. In <code>public/index.html</code> specify some placeholder and we will replace those in our script.</p>
<p>In landing app, the <code>public/index.html</code> acts as the shell when building the app, so I have a few placeholder called <code>CONSTANTS</code>, these will be replaced at generation time in my node app.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> indexHtml = fs.readFileSync(publicIndexHtmlPath, <span class="string">'utf8'</span>)</span><br><span class="line">indexHtml = indexHtml</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_TITLE'</span>, <span class="string">`<span class="subst">$&#123;app.name&#125;</span> - <span class="subst">$&#123;app.headline.title&#125;</span>`</span>)</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_META_DESCRIPTION'</span>, app.headline.text)</span><br><span class="line"></span><br><span class="line">fs.writeFileSync(publicIndexHtmlPath, indexHtml)</span><br><span class="line"></span><br><span class="line"><span class="comment">// build</span></span><br><span class="line">shell.cd(<span class="string">'projects/my_react_app'</span>)</span><br><span class="line">shell.exec(<span class="string">'npm run build'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// copy</span></span><br><span class="line">shell.exec(<span class="string">`cp -a projects/my_react_app web_server/public`</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Updated at</strong> 2020-05-14 04:25:39</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-07T03:58:48.000Z" title="2020-05-07T03:58:48.000Z">2020-05-07</time><span class="level-item">a few seconds read (About 96 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-make-white-label-React-app/">How to make white label React app</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/654">#654</a></strong></p>
<p>Use <code>shelljs</code> to execute shell commands, and <code>fs</code> to read and write. In <code>public/index.html</code> specify some placeholder and we will replace those in our script</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> indexHtml = fs.readFileSync(publicIndexHtmlPath, <span class="string">'utf8'</span>)</span><br><span class="line">indexHtml = indexHtml</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_TITLE'</span>, <span class="string">`<span class="subst">$&#123;app.name&#125;</span> - <span class="subst">$&#123;app.headline.title&#125;</span>`</span>)</span><br><span class="line">    .replace(<span class="string">'CONSTANT_HTML_META_DESCRIPTION'</span>, app.headline.text)</span><br><span class="line"></span><br><span class="line">fs.writeFileSync(publicIndexHtmlPath, indexHtml)</span><br><span class="line"></span><br><span class="line"><span class="comment">// build</span></span><br><span class="line">shell.cd(<span class="string">'projects/my_react_app'</span>)</span><br><span class="line">shell.exec(<span class="string">'npm run build'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// copy</span></span><br><span class="line">shell.exec(<span class="string">`cp -a projects/my_react_app web_server/public`</span>)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-07T03:25:40.000Z" title="2020-05-07T03:25:40.000Z">2020-05-07</time><span class="level-item">a few seconds read (About 77 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-show-lightbox-in-React/">How to show lightbox in React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/653">#653</a></strong></p>
<p>Use <a href="https://github.com/biati-digital/glightbox">https://github.com/biati-digital/glightbox</a></p>
<p>Configure css. Specify <code>class=&#39;glightbox</code> for html elements</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;css&#x2F;blueimp-gallery.min.css&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p>Install package</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install glightbox</span><br><span class="line">import GLightbox from &#39;glightbox&#39;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lbElements = features.map(<span class="function">(<span class="params">feature</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">'href'</span>: <span class="built_in">require</span>(<span class="string">`../apps/<span class="subst">$&#123;app.slug&#125;</span>/<span class="subst">$&#123;feature.image&#125;</span>`</span>),</span><br><span class="line">        <span class="string">'type'</span>: <span class="string">'image'</span>,</span><br><span class="line">        <span class="string">'title'</span>: feature.title,</span><br><span class="line">        <span class="string">'description'</span>: feature.texts[<span class="number">0</span>],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> openLb = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> lightbox = GLightbox(&#123;</span><br><span class="line">        touchNavigation: <span class="literal">true</span>,</span><br><span class="line">        loop: <span class="literal">true</span>,</span><br><span class="line">        autoplayVideos: <span class="literal">true</span>,</span><br><span class="line">        onOpen: <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;,</span><br><span class="line">        beforeSlideLoad: <span class="function">(<span class="params">slide, data</span>) =&gt;</span> &#123;&#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> myGallery = GLightbox(&#123;</span><br><span class="line">        elements: lbElements,</span><br><span class="line">        autoplayVideos: <span class="literal">false</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    myGallery.open()</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-07T03:23:51.000Z" title="2020-05-07T03:23:51.000Z">2020-05-07</time><span class="level-item">a few seconds read (About 29 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-animate-on-scroll-in-React/">How to animate on scroll in React</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/652">#652</a></strong></p>
<p>Use <a href="https://github.com/michalsnik/aos">https://github.com/michalsnik/aos</a></p>
<p>Add link to head</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;unpkg.com&#x2F;aos@next&#x2F;dist&#x2F;aos.css&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br></pre></td></tr></table></figure>

<p>Jus before closing body tag</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/aos@next/dist/aos.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    AOS.init();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Specify <code>data-aos</code></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div data-aos=<span class="string">"fade-up"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-05-07T02:09:28.000Z" title="2020-05-07T02:09:28.000Z">2020-05-07</time><span class="level-item">a few seconds read (About 68 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/blog/How-to-copy-folder-in-nodej/">How to copy folder in nodej</a></h1><div class="content"><p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/651">#651</a></strong></p>
<p>Use <code>shelljs</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install shelljs</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shell = <span class="built_in">require</span>(<span class="string">'shelljs'</span>)</span><br><span class="line">shell.exec(<span class="string">`cp -a source_path/. destination_path`</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>The -a option is an improved recursive option, that preserve all file attributes, and also preserve symlinks.</p>
</blockquote>
<blockquote>
<p>The . at end of the source path is a specific cp syntax that allow to copy all files and folders, included hidden ones.<br><strong>Updated at</strong> 2020-05-07 04:10:05</p>
</blockquote>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">Previous</a></div><div class="pagination-next"><a href="/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/22/">22</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="" src="https://avatars1.githubusercontent.com/u/2284279?s=460&amp;v=4" alt="onmyway133"></figure><p class="title is-size-4 is-block line-height-inherit">onmyway133</p><p class="is-size-6 is-block">iOS, macOS, Android, React. Serial maker. Writer. Speaker.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Oslo, Norway</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">656</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">52</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/onmyway133" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/onmyway133"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://onmyway133.com/apps" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Apps</span></span><span class="level-right"><span class="level-item tag">onmyway133.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://learntalks.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Learn Talks</span></span><span class="level-right"><span class="level-item tag">learntalks.com</span></span></a></li></ul></div></div></div><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-07T10:24:19.000Z">2020-12-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-mock-UNNotificationResponse-in-unit-tests/">How to mock UNNotificationResponse in unit tests</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-07T05:16:58.000Z">2020-12-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-support-right-click-menu-to-NSStatusItem/">How to support right click menu to NSStatusItem</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-07T05:04:21.000Z">2020-12-07</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-convert-struct-to-Core-Data-NSManagedObject/">How to convert struct to Core Data NSManagedObject</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-05T05:00:44.000Z">2020-12-05</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-format-ISO-date-string-in-Javascript/">How to format ISO date string in Javascript</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-05T04:31:35.000Z">2020-12-05</time></p><p class="title is-6"><a class="link-muted" href="/blog/How-to-declare-Error-in-Swift/">How to declare Error in Swift</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">30</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">38</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">October 2019</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">50</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">41</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">49</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/06/"><span class="level-start"><span class="level-item">June 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">36</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2017/04/"><span class="level-start"><span class="level-item">April 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/android/"><span class="tag">android</span><span class="tag is-grey-lightest">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/apple-script/"><span class="tag">apple script</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/catalyst/"><span class="tag">catalyst</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ci/"><span class="tag">ci</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cloud/"><span class="tag">cloud</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cocoapods/"><span class="tag">cocoapods</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/combine/"><span class="tag">combine</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/core-data/"><span class="tag">core data</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csharp/"><span class="tag">csharp</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dart/"><span class="tag">dart</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/design/"><span class="tag">design</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/electron/"><span class="tag">electron</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firebase/"><span class="tag">firebase</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flutter/"><span class="tag">flutter</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github/"><span class="tag">github</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/google/"><span class="tag">google</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag is-grey-lightest">165</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag is-grey-lightest">50</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kotlin/"><span class="tag">kotlin</span><span class="tag is-grey-lightest">27</span></a></div><div class="control"><a class="tags has-addons" href="/tags/layout/"><span class="tag">layout</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/life/"><span class="tag">life</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/links/"><span class="tag">links</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag is-grey-lightest">108</span></a></div><div class="control"><a class="tags has-addons" href="/tags/machine-learning/"><span class="tag">machine learning</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/maps/"><span class="tag">maps</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/networking/"><span class="tag">networking</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/objc/"><span class="tag">objc</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag is-grey-lightest">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/realm/"><span class="tag">realm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rx/"><span class="tag">rx</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/script/"><span class="tag">script</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spm/"><span class="tag">spm</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swift/"><span class="tag">swift</span><span class="tag is-grey-lightest">305</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swiftUI/"><span class="tag">swiftUI</span><span class="tag is-grey-lightest">66</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tech/"><span class="tag">tech</span><span class="tag is-grey-lightest">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/testing/"><span class="tag">testing</span><span class="tag is-grey-lightest">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tool/"><span class="tag">tool</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unity/"><span class="tag">unity</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/voip/"><span class="tag">voip</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/watchOS/"><span class="tag">watchOS</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/web/"><span class="tag">web</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/work/"><span class="tag">work</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/wwdc/"><span class="tag">wwdc</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xcode/"><span class="tag">xcode</span><span class="tag is-grey-lightest">24</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=c2r59mmt2n5k0o5dt5vv3nq4u4&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="c2r59mmt2n5k0o5dt5vv3nq4u4" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/z.png" alt="onmyway133" height="28"></a><p class="size-small"><span>&copy; 2020 Khoa Pham</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/onmyway133"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://onmyway133.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>