<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">

  <!-- PACE Progress Bar START -->
  
    <script src="https://raw.githubusercontent.com/HubSpot/pace/v1.0.2/pace.min.js"></script>
    <link rel="stylesheet" href="https://github.com/HubSpot/pace/raw/master/themes/orange/pace-theme-flash.css">
  
  

  <!-- PACE Progress Bar START -->

  
  <title>onmyway133</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta name="description" content="What you don&apos;t know is what you haven&apos;t learned">
<meta name="keywords" content="ios, android,javascript, react">
<meta property="og:type" content="website">
<meta property="og:title" content="onmyway133">
<meta property="og:url" content="https://onmyway133.github.io/page/16/index.html">
<meta property="og:site_name" content="onmyway133">
<meta property="og:description" content="What you don&apos;t know is what you haven&apos;t learned">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onmyway133">
<meta name="twitter:description" content="What you don&apos;t know is what you haven&apos;t learned">
  
    <link rel="alternate" href="/atom.xml" title="onmyway133" type="application/atom+xml">
  
  <link rel="icon" href="/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="https://cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  <link rel="stylesheet" href="/css/style.css">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/hiero.css">
  <link rel="stylesheet" href="/css/glyphs.css">
  

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/my.css">
  <!-- Google Adsense -->
  
</head>
</html>
<script>
var themeMenus = {};

  themeMenus["/"] = "Home"; 

  themeMenus["/about/"] = "About"; 

  themeMenus["/writing/"] = "writing"; 

  themeMenus["/archives"] = "Archives"; 

  themeMenus["/speaking/"] = "speaking"; 

  themeMenus["/opensource/"] = "open source"; 

  themeMenus["/projects/"] = "projects"; 

  themeMenus["/news/"] = "news"; 

  themeMenus["/gumroad/"] = "gumroad"; 

  themeMenus["/atom.xml"] = "rss"; 

</script>


  <body>


  <header id="allheader" class="site-header" role="banner">
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" title="onmyway133" rel="home"> onmyway133 </a>
            
          </h1>

          
            <div class="site-description">What you don&#39;t know is what you haven&#39;t learned</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>
            <div class="clearfix sf-menu">

              <ul id="main-nav" class="nmenu sf-js-enabled">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/about/">About</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/writing/">writing</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/speaking/">speaking</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/opensource/">open source</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/projects/">projects</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/news/">news</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/gumroad/">gumroad</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663"> <a class="" href="/atom.xml">rss</a> </li>
                    
              </ul>
            </div>
          </nav>


      </div>
  </div>
</header>


  <div id="originBgDiv" style="background: #fff; width: 100%;">

      <div style="max-height:600px; overflow: hidden;  display: flex; display: -webkit-flex; align-items: center;">
        <img id="originBg" width="100%" alt="" src="">
      </div>

  </div>

  <script>
  function setAboutIMG(){
      var imgUrls = "https://avatars1.githubusercontent.com/u/2284279?s=460&v=4".split(",");
      var random = Math.floor((Math.random() * imgUrls.length ));
      if (imgUrls[random].startsWith('http') || imgUrls[random].indexOf('://') >= 0) {
        document.getElementById("originBg").src=imgUrls[random];
      } else {
        document.getElementById("originBg").src='/' + imgUrls[random];
      }
  }
  bgDiv=document.getElementById("originBgDiv");
  if(location.pathname.match('about')){
    setAboutIMG();
    bgDiv.style.display='block';
  }else{
    bgDiv.style.display='none';
  }
  </script>



  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main">
  
    <article id="post-Ad-Hominem"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Ad-Hominem/">Ad Hominem</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Ad-Hominem/" class="article-date">
	  <time datetime="2017-09-21T06:51:11.000Z" itemprop="datePublished">September 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/76" target="_blank" rel="noopener">#76</a></strong></p>
<p>I use <a href="https://twitter.com/" target="_blank" rel="noopener">Twitter</a> a lot, mostly to follow people I like. They tweet cool things about tech and life. I learned a lot.</p>
<blockquote>
<p>Please don’t show me the evil sides of the world ~ Michael Learn To Rock - How Many Hours</p>
</blockquote>
<p>But there’s also bad side of the story. I see many retweets of people saying bad things about others, mostly in form of <a href="https://www.logicallyfallacious.com/tools/lp/Bo/LogicalFallacies/1/Ad-Hominem-Abusive" target="_blank" rel="noopener">Ad Hominem</a></p>
<blockquote>
<p>Attacking the person making the argument, rather than the argument itself, when the attack on the person is completely irrelevant to the argument the person is making.</p>
</blockquote>
<p>From <a href="http://wiki.c2.com/?AdHominem" target="_blank" rel="noopener">Ad Hominem on c2.com</a></p>
<blockquote>
<p>An argumentum ad hominem is any kind of argument that criticizes an idea by pointing something out about the people who hold the idea rather than directly addressing the merits of the idea. ‘’Ad hominem’’ is Latin for “directed toward the man (as opposed to the issue at hand)”. An alternative expression is “playing the man and not the ball”.</p>
</blockquote>
<p>Most of these people have the <a href="https://support.twitter.com/groups/31-twitter-basics/topics/111-features/articles/119135-about-verified-accounts" target="_blank" rel="noopener">Twitter verified badge</a>. They complain that they have so many followers while they themselves follow hundreds of thousands. They say bad things about others’ hair style and appearance while actively supporting equality. They argue who owns the original gif. They follow one person just to be the first to insult them.</p>
<blockquote>
<p>The blue verified badge  on Twitter lets people know that an account of public interest is authentic.</p>
</blockquote>
<blockquote>
<p>Blowing out someone else’s candle doesn’t make yours shine any brighter ~ Anonymous</p>
</blockquote>
<p>The only thing I can do is <code>I don&#39;t like this tweet</code> 😞</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Sync-and-async-code-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Sync-and-async-code-in-Swift/">Sync and async code in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Sync-and-async-code-in-Swift/" class="article-date">
	  <time datetime="2017-09-14T10:00:58.000Z" itemprop="datePublished">September 14, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/75" target="_blank" rel="noopener">#75</a></strong></p>
<p>We should use <code>DispatchQueue</code> to build thread safe code. The idea is to prevent two <code>read and write</code> from happening at the same time from 2 different threads, which cause data corruption and unexpected behaviors. Note that you should try to avoid deadlock <a href="https://stackoverflow.com/questions/15381209/how-do-i-create-a-deadlock-in-grand-central-dispatch" target="_blank" rel="noopener">https://stackoverflow.com/questions/15381209/how-do-i-create-a-deadlock-in-grand-central-dispatch</a></p>
<h2 id="All-sync"><a href="#All-sync" class="headerlink" title="All sync"></a>All sync</h2><p>Use <code>try catch</code>, together with <code>serial queue</code>. Use <code>sync</code> function to block current queue.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUser</span><span class="params">(id: String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">User</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> user: <span class="type">User!</span></span><br><span class="line">  <span class="keyword">try</span> serialQueue.sync &#123;</span><br><span class="line">    user = <span class="keyword">try</span> storage.getUser(id)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setUser</span><span class="params">(<span class="number">_</span> user: User)</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> serialQueue.sync &#123;</span><br><span class="line">    <span class="keyword">try</span> storage.setUser(user)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="All-async"><a href="#All-async" class="headerlink" title="All async"></a>All async</h2><p>Use <code>Result</code>, toget with <code>serial queue</code>. Use <code>async</code> function to return to current queue.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Result</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">case</span> value(<span class="type">T</span>)</span><br><span class="line">  <span class="keyword">case</span> error(<span class="type">Error</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUser</span><span class="params">(id: String, completion: <span class="params">(Result&lt;User&gt;)</span></span></span> - <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> serialQueue.async &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      user = <span class="keyword">try</span> storage.getUser(id)</span><br><span class="line">      completion(.value(user))</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      completion(.error(error))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setUser</span><span class="params">(<span class="number">_</span> user: User, completion: <span class="params">(Result&lt;<span class="params">()</span></span></span></span>&gt;) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> serialQueue.async &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> storage.setUser(user)</span><br><span class="line">      completion(.value(())</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      completion(.error(error))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Sync-read-async-write"><a href="#Sync-read-async-write" class="headerlink" title="Sync read, async write"></a>Sync read, async write</h2><p>Use <code>try catch</code> for read, <code>Result</code> for write, together with <code>concurrent queue</code>. Use <code>sync</code> function for read to block current thread, while using <code>async</code> function with <code>barrier</code> flag for write to return to current queue. This is good for when multiple reads is preferred when there is no write. When write with <code>barrier</code> comes into the queue, other operations must wait.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getUser</span><span class="params">(id: String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">User</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> user: <span class="type">User!</span></span><br><span class="line">  <span class="keyword">try</span> concurrentQueue.sync &#123;</span><br><span class="line">    user = <span class="keyword">try</span> storage.getUser(id)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setUser</span><span class="params">(<span class="number">_</span> user: User, completion: <span class="params">(Result&lt;<span class="params">()</span></span></span></span>&gt;) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> concurrentQueue.async(flags: .barrier) &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> storage.setUser(user)</span><br><span class="line">      completion(.value(())</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      completion(.error(error))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Testing-for-asynchrony"><a href="#Testing-for-asynchrony" class="headerlink" title="Testing for asynchrony"></a>Testing for asynchrony</h2><p>Before we could use <a href="https://developer.apple.com/documentation/dispatch/1453050-dispatch_apply" target="_blank" rel="noopener">dispatch_apply</a> to submits a block to a dispatch queue for multiple invocations. Starting with Swift, the equivalence is <a href="https://developer.apple.com/documentation/dispatch/dispatchqueue/2016088-concurrentperform" target="_blank" rel="noopener">concurrentPerform</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.concurrentPerform(iterations: <span class="number">1000</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> last = array.last ?? <span class="number">0</span></span><br><span class="line">    array.append(last + <span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://basememara.com/creating-thread-safe-arrays-in-swift/" target="_blank" rel="noopener">http://basememara.com/creating-thread-safe-arrays-in-swift/</a></li>
<li><a href="https://oleb.net/blog/2013/07/parallelize-for-loops-gcd-dispatch_apply/" target="_blank" rel="noopener">https://oleb.net/blog/2013/07/parallelize-for-loops-gcd-dispatch_apply/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-check-generic-type-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-check-generic-type-in-Swift/">How to check generic type in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-check-generic-type-in-Swift/" class="article-date">
	  <time datetime="2017-09-13T11:27:51.000Z" itemprop="datePublished">September 13, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/74" target="_blank" rel="noopener">#74</a></strong></p>
<p>When dealing with generic, you shouldn’t care about the types. But if you need, you can</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">isPrimitive</span>&lt;T&gt;<span class="params">(type: T.<span class="keyword">Type</span>)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> primitives: [<span class="type">Any</span>.<span class="type">Type</span>] = [</span><br><span class="line">    <span class="type">Bool</span>.<span class="keyword">self</span>, [<span class="type">Bool</span>].<span class="keyword">self</span>,</span><br><span class="line">    <span class="type">String</span>.<span class="keyword">self</span>, [<span class="type">String</span>].<span class="keyword">self</span>,</span><br><span class="line">    <span class="type">Int</span>.<span class="keyword">self</span>, [<span class="type">Int</span>].<span class="keyword">self</span>,</span><br><span class="line">    <span class="type">Float</span>.<span class="keyword">self</span>, [<span class="type">Float</span>].<span class="keyword">self</span>,</span><br><span class="line">    <span class="type">Double</span>.<span class="keyword">self</span>, [<span class="type">Double</span>].<span class="keyword">self</span></span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> primitives.<span class="built_in">contains</span>(<span class="keyword">where</span>: &#123; $<span class="number">0</span>.<span class="keyword">self</span> == type.<span class="keyword">self</span> &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-Given-When-Then-in-Swift-tests"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-Given-When-Then-in-Swift-tests/">How to use Given When Then in Swift tests</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-Given-When-Then-in-Swift-tests/" class="article-date">
	  <time datetime="2017-09-13T08:58:16.000Z" itemprop="datePublished">September 13, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/73" target="_blank" rel="noopener">#73</a></strong></p>
<h3 id="Spec"><a href="#Spec" class="headerlink" title="Spec"></a>Spec</h3><p>Using <code>spec</code> testing framework like <a href="https://github.com/Quick/Quick" target="_blank" rel="noopener">Quick</a> is nice, which enables <code>BDD</code> style.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"the 'Documentation' directory"</span>) &#123;</span><br><span class="line">  it(<span class="string">"has everything you need to get started"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> sections = <span class="type">Directory</span>(<span class="string">"Documentation"</span>).sections</span><br><span class="line">    expect(sections).to(contain(<span class="string">"Organized Tests with Quick Examples and Example Groups"</span>))</span><br><span class="line">    expect(sections).to(contain(<span class="string">"Installing Quick"</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  context(<span class="string">"if it doesn't have what you're looking for"</span>) &#123;</span><br><span class="line">    it(<span class="string">"needs to be updated"</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> you = <span class="type">You</span>(awesome: <span class="literal">true</span>)</span><br><span class="line">      expect&#123;you.submittedAnIssue&#125;.toEventually(beTruthy())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>But in case you don’t want additional frameworks, and want to live closer to Apple SDKs as much as possible, here are few tips.</p>
<h3 id="Naming"><a href="#Naming" class="headerlink" title="Naming"></a>Naming</h3><p>This is from the book that I really like <a href="http://artofunittesting.com/" target="_blank" rel="noopener">The Art of Unit Testing</a>. If you don’t mind the underscore, you can follow <a href="http://osherove.com/blog/2005/4/3/naming-standards-for-unit-tests.html" target="_blank" rel="noopener">UnitOfWork_StateUnderTest_ExpectedBehavior</a> structure</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">func testSum_NegativeNumberAs1stParam_ExceptionThrown()</span><br><span class="line">func testSum_NegativeNumberAs2ndParam_ExceptionThrown()</span><br><span class="line">func testSum_simpleValues_Calculated()</span><br></pre></td></tr></table></figure>

<h3 id="Given-When-Then"><a href="#Given-When-Then" class="headerlink" title="Given When Then"></a>Given When Then</h3><p>This is from BDD, and practised a lot in <a href="https://github.com/cucumber/cucumber/wiki/Given-When-Then" target="_blank" rel="noopener">Cucumber</a>. You can read more on <a href="https://martinfowler.com/bliki/GivenWhenThen.html" target="_blank" rel="noopener">https://martinfowler.com/bliki/GivenWhenThen.html</a>.</p>
<p>First, add some more extensions to <code>XCTestCase</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> XCTest</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">XCTestCase</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">given</span><span class="params">(<span class="number">_</span> description: String, closure: <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">Void</span>) <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> closure()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">when</span><span class="params">(<span class="number">_</span> description: String, closure: <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">Void</span>) <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> closure()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">then</span><span class="params">(<span class="number">_</span> description: String, closure: <span class="params">()</span></span></span> <span class="keyword">throws</span> -&gt; <span class="type">Void</span>) <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> closure()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then, in order to test, just follow <code>given when then</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testRemoveObject</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> given(<span class="string">"set to storage"</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> storage.setObject(testObject, forKey: key)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> when(<span class="string">"remove object from storage"</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> storage.removeObject(forKey: key)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> then(<span class="string">"there is no object in memory"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> memoryObject = <span class="keyword">try</span>? storage.memoryCache.object(forKey: key) <span class="keyword">as</span> <span class="type">User</span></span><br><span class="line">    <span class="type">XCTAssertNil</span>(memoryObject)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> then(<span class="string">"there is no object on disk"</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> diskObject = <span class="keyword">try</span>? storage.diskCache.object(forKey: key) <span class="keyword">as</span> <span class="type">User</span></span><br><span class="line">    <span class="type">XCTAssertNil</span>(diskObject)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>I find this more interesting than comments. All are code and descriptive. It can also be developed further to throw the <code>description</code> text.</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/testing/">testing</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Understanding-Instance-property-vs-parameter-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Understanding-Instance-property-vs-parameter-in-Swift/">Understanding Instance property vs parameter in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Understanding-Instance-property-vs-parameter-in-Swift/" class="article-date">
	  <time datetime="2017-09-06T12:06:58.000Z" itemprop="datePublished">September 6, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/72" target="_blank" rel="noopener">#72</a></strong></p>
<p>The other day I was refactor my code. I have</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MainController</span>: <span class="title">TabBarViewDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">buttonDidPress</span> <span class="title">index</span>: <span class="title">Int</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> initialIndex = tabBarView.selectedIndex</span><br><span class="line">    <span class="keyword">let</span> wholeAppContentView = updateWholeAppContentView()</span><br><span class="line">    view.addSubview(wholeAppContentView)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The delegate method does not look right, as it’s hard to tell between required delegate method, or just instance method. Also it lacks a subject. I like this post <a href="https://mattgemmell.com/api-design/" target="_blank" rel="noopener">API Design</a>, you can read section <code>Rule 19: Always say who’s talking</code></p>
<blockquote>
<p>This is a simple rule, and an equally simple mistake to make. In your delegate methods, always pass the sender as a parameter. Always. Even for singletons. Even for things you cannot conceive would ever be used more than once simultaneously. No exceptions.</p>
</blockquote>
<p>So I refactor the delegate, and conform to it.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MainController</span>: <span class="title">TabBarViewDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tabBarView</span><span class="params">(<span class="number">_</span> view: TabBarView, buttonDidPress index: Int)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> initialIndex = tabBarView.selectedIndex</span><br><span class="line">    <span class="keyword">let</span> wholeAppContentView = updateWholeAppContentView()</span><br><span class="line">    view.addSubview(wholeAppContentView) <span class="comment">// This is the culprit ⚠️</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Even with just 1 line change in <code>MainController.swift</code>, the whole UI breaks, as all the views were added to the tab bar. Strange 😡 .</p>
<p>It didn’t take long until I remember that <code>parameter</code> takes precedence over <code>instance property</code> if they have same name. So in this case, the compiler, without warning, assume you’re dealing with <code>view</code> from <code>TabBarView</code> ⚠️ </p>
<p>That’s why you often use <code>self</code> to disambiguate. </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">User</span>: <span class="title">Codable</span>, <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> firstName: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> lastName: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(firstName: <span class="type">String</span>, lastName: <span class="type">String</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.firstName = firstName</span><br><span class="line">    <span class="keyword">self</span>.lastName = lastName</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Back to our code. The workaround is to specify <code>self</code> to specify <code>view</code> of <code>MainController</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.view.addSubview(wholeAppContentView)</span><br></pre></td></tr></table></figure>

<p>Well, you may say, who should add view again in case of tab bar changes 😬  This is a bad example, but the lesson is  learned 😇 </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-push-to-GitHub-gist"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-push-to-GitHub-gist/">How to push to GitHub gist</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-push-to-GitHub-gist/" class="article-date">
	  <time datetime="2017-09-04T06:54:10.000Z" itemprop="datePublished">September 4, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/71" target="_blank" rel="noopener">#71</a></strong></p>
<h3 id="Creating-a-new-gist"><a href="#Creating-a-new-gist" class="headerlink" title="Creating a new gist"></a>Creating a new gist</h3><ul>
<li>Go to <a href="https://gist.github.com/" target="_blank" rel="noopener">https://gist.github.com/</a> and create a new gist</li>
<li>Note that you need to include <code>filename</code> + <code>extension</code> to enable automatic language markup</li>
<li>Click <code>Add file</code> to add more files</li>
</ul>
<h3 id="Cloning-the-gist"><a href="#Cloning-the-gist" class="headerlink" title="Cloning the gist"></a>Cloning the gist</h3><ul>
<li>If you’ve enabled <code>2 factor authentication</code>, you need to use <code>personal acccess token</code> with <code>https</code>, or use <code>ssh</code>. </li>
</ul>
<blockquote>
<p>If you have enabled two-factor authentication, or if you are accessing an organization that uses SAML single sign-on, you must provide a personal access token instead of entering your password for HTTPS Git.</p>
<ul>
<li>You should enable <code>2 factor authentication</code>. Read more <a href="https://help.github.com/articles/https-cloning-errors/#provide-access-token-if-2fa-enabled" target="_blank" rel="noopener">https://help.github.com/articles/https-cloning-errors/#provide-access-token-if-2fa-enabled</a></li>
<li>For example with my gist <a href="https://gist.github.com/onmyway133/c486939f82fc4d3a8ed4be21538fdd32" target="_blank" rel="noopener">https://gist.github.com/onmyway133/c486939f82fc4d3a8ed4be21538fdd32</a> the <code>ssh url</code> is <code>git@gist.github.com:c486939f82fc4d3a8ed4be21538fdd32.git</code></li>
<li>Run git commands as normal</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@gist.github.com:c486939f82fc4d3a8ed4be21538fdd32.git</span><br><span class="line">git clone</span><br></pre></td></tr></table></figure>

<ul>
<li>You have branch <code>master</code> by default</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<h3 id="Ignoring-directories"><a href="#Ignoring-directories" class="headerlink" title="Ignoring directories"></a>Ignoring directories</h3><blockquote>
<p>remote: Gist does not support directories.</p>
</blockquote>
<ul>
<li>In my cases I’m using node, so I need to ignore <code>node_modules</code> directory</li>
<li>Also need to untrack if necessary </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached -r .</span><br><span class="line">git add .</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-observe-object-deinit-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-observe-object-deinit-in-Swift/">How to observe object deinit in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-observe-object-deinit-in-Swift/" class="article-date">
	  <time datetime="2017-08-29T09:59:54.000Z" itemprop="datePublished">August 29, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/70" target="_blank" rel="noopener">#70</a></strong></p>
<ul>
<li>Today I was browsing through  <a href="https://github.com/zendesk/Suas-iOS" target="_blank" rel="noopener">Suas-iOS</a> and the <code>subscription</code> links to life cycle of another object</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subscription.linkLifeCycleTo(object: <span class="keyword">self</span>)</span><br></pre></td></tr></table></figure>

<p>It observes the <code>deinit</code> of another job, interesting approach 👍 , take a look in <a href="https://github.com/zendesk/Suas-iOS/blob/master/Sources/StoreDeinitCallback.swift" target="_blank" rel="noopener">https://github.com/zendesk/Suas-iOS/blob/master/Sources/StoreDeinitCallback.swift</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deinitCallbackKey = <span class="string">"DEINITCALLBACK_SUAS"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: Registartion</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Suas</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">onObjectDeinit</span><span class="params">(forObject object: NSObject,</span></span></span><br><span class="line"><span class="function"><span class="params">                             callbackId: String,</span></span></span><br><span class="line"><span class="function"><span class="params">                             callback: @escaping <span class="params">()</span></span></span> -&gt; ()) &#123;</span><br><span class="line">    <span class="keyword">let</span> rem = deinitCallback(forObject: object)</span><br><span class="line">    rem.callbacks.append(callback)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">fileprivate</span> <span class="function"><span class="keyword">func</span> <span class="title">deinitCallback</span><span class="params">(forObject object: NSObject)</span></span> -&gt; <span class="type">DeinitCallback</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> deinitCallback = objc_getAssociatedObject(object, &amp;deinitCallbackKey) <span class="keyword">as</span>? <span class="type">DeinitCallback</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> deinitCallback</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> rem = <span class="type">DeinitCallback</span>()</span><br><span class="line">      objc_setAssociatedObject(object, &amp;deinitCallbackKey, rem, .<span class="type">OBJC_ASSOCIATION_RETAIN_NONATOMIC</span>)</span><br><span class="line">      <span class="keyword">return</span> rem</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@objc</span> <span class="keyword">fileprivate</span> <span class="class"><span class="keyword">class</span> <span class="title">DeinitCallback</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> callbacks: [() -&gt; ()] = []</span><br><span class="line"></span><br><span class="line">  <span class="keyword">deinit</span> &#123;</span><br><span class="line">    callbacks.forEach(&#123; $<span class="number">0</span>() &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-deal-with-NODE_MODULE_VERSION-in-electron"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-deal-with-NODE_MODULE_VERSION-in-electron/">How to deal with NODE_MODULE_VERSION in electron</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-deal-with-NODE_MODULE_VERSION-in-electron/" class="article-date">
	  <time datetime="2017-08-28T11:00:49.000Z" itemprop="datePublished">August 28, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/69" target="_blank" rel="noopener">#69</a></strong></p>
<h3 id="NODE-MODULE-VERSION"><a href="#NODE-MODULE-VERSION" class="headerlink" title="NODE_MODULE_VERSION"></a>NODE_MODULE_VERSION</h3><p>Today I was trying to install <a href="https://github.com/lovell/sharp" target="_blank" rel="noopener">sharp</a> with <code>yarn add sharp</code> to work in my electron app, but I get the following error</p>
<blockquote>
<p>Uncaught Error: The module ‘/Users/khoa/MyElectronApp/node_modules/sharp/build/Release/sharp.node’<br>was compiled against a different Node.js version using<br>NODE_MODULE_VERSION 57. This version of Node.js requires<br>NODE_MODULE_VERSION 54. Please try re-compiling or re-installing<br>the module</p>
</blockquote>
<h3 id="Native-node-module"><a href="#Native-node-module" class="headerlink" title="Native node module"></a>Native node module</h3><p>Searching a bit, it was because <code>sharp</code> is a <a href="https://nodejs.org/api/addons.html" target="_blank" rel="noopener">native node module</a> which uses <a href="https://github.com/jcupitt/libvips" target="_blank" rel="noopener">libvips</a> under the hood</p>
<blockquote>
<p>Node.js Addons are dynamically-linked shared objects, written in C++, that can be loaded into Node.js using the require() function, and used just as if they were an ordinary Node.js module. They are used primarily to provide an interface between JavaScript running in Node.js and C/C++ libraries.</p>
</blockquote>
<p>More on how to build native node module can be found here <a href="https://blog.risingstack.com/writing-native-node-js-modules/" target="_blank" rel="noopener">https://blog.risingstack.com/writing-native-node-js-modules/</a></p>
<h3 id="Node-version"><a href="#Node-version" class="headerlink" title="Node version"></a>Node version</h3><p>I’m using <a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">nvm</a> to manage node version, and <code>nvm list</code> shows <code>8.4.0</code> as the latest node version I’m using. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">v6.10.1</span><br><span class="line">v7.8.0</span><br><span class="line">v7.9.0</span><br><span class="line">v8.0.0</span><br><span class="line">-&gt; v8.4.0</span><br><span class="line">system</span><br></pre></td></tr></table></figure>

<p>Searching on <a href="https://nodejs.org/en/download/releases/" target="_blank" rel="noopener">Node releases</a>  reveals that Node 8.4.0 has <code>NODE_MODULE_VERSION</code> of 57, so that is the node version npm uses to compile <code>sharp</code></p>
<p>However, I can’t seem to find the <code>NODE_MODULE_VERSION</code> 54 that <code>sharp</code> is using. I tried node <code>8.0.0</code> which is believed to have <code>NODE_MODULE_VERSION</code> 54 but it didn’t work</p>
<h3 id="Electron-version"><a href="#Electron-version" class="headerlink" title="Electron version"></a>Electron version</h3><p>As the time of this post, <code>electron</code> is at version <code>7.9.0</code>, you can check here <a href="https://github.com/electron/electron/blob/master/.node-version" target="_blank" rel="noopener">https://github.com/electron/electron/blob/master/.node-version</a> or by running <code>process.versions</code> in  Javascript console</p>
<h3 id="Using-electron-rebuild"><a href="#Using-electron-rebuild" class="headerlink" title="Using electron-rebuild"></a>Using electron-rebuild</h3><p>So after I read this <a href="https://electron.atom.io/docs/tutorial/using-native-node-modules/" target="_blank" rel="noopener">Using Native Node Modules</a>, I install <code>electron-rebuilder</code> to recompile <code>sharp</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add electron-rebuild --dev</span><br><span class="line">yarn add sharp</span><br><span class="line">./node_modules/.bin/electron-rebuild</span><br></pre></td></tr></table></figure>

<p>It works now 🎉 </p>
<h3 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h3><ul>
<li><a href="https://blog.risingstack.com/writing-native-node-js-modules/" target="_blank" rel="noopener">https://blog.risingstack.com/writing-native-node-js-modules/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Norsk"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Norsk/">Norsk</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Norsk/" class="article-date">
	  <time datetime="2017-08-21T19:56:08.000Z" itemprop="datePublished">August 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/68" target="_blank" rel="noopener">#68</a></strong></p>
<h2 id="Ordbok"><a href="#Ordbok" class="headerlink" title="Ordbok"></a>Ordbok</h2><ul>
<li><a href="http://lexin.udir.no/?mode=main-page&sub-mode=search&dict=nbo-maxi&ui-lang=NBO" target="_blank" rel="noopener">lexin</a></li>
</ul>
<h2 id="Bok"><a href="#Bok" class="headerlink" title="Bok"></a>Bok</h2><ul>
<li><a href="https://mernorsk.portfolio.no/" target="_blank" rel="noopener">https://mernorsk.portfolio.no/</a></li>
<li><a href="https://norskna.portfolio.no/" target="_blank" rel="noopener">https://norskna.portfolio.no/</a></li>
<li><a href="http://praktisknorsk.cappelendamm.no/" target="_blank" rel="noopener">http://praktisknorsk.cappelendamm.no/</a></li>
<li><a href="https://steinpastein.cappelendamm.no/" target="_blank" rel="noopener">https://steinpastein.cappelendamm.no/</a></li>
<li><a href="http://ord.cappelendamm.no/" target="_blank" rel="noopener">http://ord.cappelendamm.no/</a></li>
<li><a href="http://www.herborvi.cappelendamm.no/" target="_blank" rel="noopener">http://www.herborvi.cappelendamm.no/</a></li>
<li><a href="https://klartdet.portfolio.no/" target="_blank" rel="noopener">https://klartdet.portfolio.no/</a></li>
<li><a href="http://jobbisikte.cappelendamm.no/" target="_blank" rel="noopener">http://jobbisikte.cappelendamm.no/</a></li>
</ul>
<h2 id="Informasjon"><a href="#Informasjon" class="headerlink" title="Informasjon"></a>Informasjon</h2><ul>
<li><a href="https://www.kompetansenorge.no/" target="_blank" rel="noopener">https://www.kompetansenorge.no/</a></li>
</ul>
<h2 id="Kurs"><a href="#Kurs" class="headerlink" title="Kurs"></a>Kurs</h2><ul>
<li><a href="https://www.ntnu.edu/now/8/grammar" target="_blank" rel="noopener">Norwegian on the web</a></li>
<li><a href="https://www.ntnu.edu/now2" target="_blank" rel="noopener">Norwegian on the web 2</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLScRewPs3_dz5hB1VvEbHmKV0rLcjM25e" target="_blank" rel="noopener">Norsk i bruk</a></li>
<li><a href="https://www.youtube.com/channel/UCbrUYR892qBNQyY3DEqfTBg" target="_blank" rel="noopener">Norsklærer Karense</a></li>
</ul>
<h2 id="Lesning"><a href="#Lesning" class="headerlink" title="Lesning"></a>Lesning</h2><ul>
<li><a href="http://www.klartale.no/" target="_blank" rel="noopener">http://www.klartale.no/</a></li>
<li><a href="http://grammatikk.com/" target="_blank" rel="noopener">http://grammatikk.com/</a></li>
<li><a href="http://www.nyinorge.no/no/" target="_blank" rel="noopener">http://www.nyinorge.no/no/</a></li>
<li><a href="http://www.samfunnskunnskap.no/?lang=no" target="_blank" rel="noopener">http://www.samfunnskunnskap.no/?lang=no</a></li>
<li><a href="http://www.norgeshistorie.no/" target="_blank" rel="noopener">http://www.norgeshistorie.no/</a></li>
</ul>
<h2 id="Prove"><a href="#Prove" class="headerlink" title="Prøve"></a>Prøve</h2><ul>
<li><a href="https://www.kompetansenorge.no/norskprove/" target="_blank" rel="noopener">https://www.kompetansenorge.no/norskprove/</a></li>
<li><a href="https://enovate.no/voxdemo/norsk/" target="_blank" rel="noopener">https://enovate.no/voxdemo/norsk/</a> 🚀 </li>
<li><a href="https://udeoslovo.pameldingssystem.no/samfo-100" target="_blank" rel="noopener">https://udeoslovo.pameldingssystem.no/samfo-100</a></li>
</ul>
<h2 id="Bilder"><a href="#Bilder" class="headerlink" title="Bilder"></a>Bilder</h2><ul>
<li><a href="http://clu.uni.no/bildetema-html5/bildetema.html?version=norwegian&languages=eng,nob,nno&language=nob&prev_language=nob&page=6&title=Bildetema%20html5-versjon&language_selector=simple&subpage=1&prev_page=overview" target="_blank" rel="noopener">Bilder tema</a></li>
</ul>
<h2 id="Lytting"><a href="#Lytting" class="headerlink" title="Lytting"></a>Lytting</h2><ul>
<li><a href="https://radio.nrk.no/" target="_blank" rel="noopener">https://radio.nrk.no/</a> 🚀 </li>
<li><a href="http://www.klartale.no/klartale-podcast" target="_blank" rel="noopener">http://www.klartale.no/klartale-podcast</a></li>
<li><a href="https://shifter.no/kategori/podcast/" target="_blank" rel="noopener">https://shifter.no/kategori/podcast/</a></li>
</ul>
<h2 id="Se-pa"><a href="#Se-pa" class="headerlink" title="Se på"></a>Se på</h2><ul>
<li><a href="http://kunnskapsfilm.no/series/" target="_blank" rel="noopener">http://kunnskapsfilm.no/series/</a></li>
<li><a href="https://tv.nrk.no/serie/folkeopplysningen/KMTE50009315/sesong-3/episode-5" target="_blank" rel="noopener">https://tv.nrk.no/serie/folkeopplysningen/KMTE50009315/sesong-3/episode-5</a></li>
<li><a href="http://tv.nrksuper.no/" target="_blank" rel="noopener">NRK Super</a></li>
<li><a href="https://www.nrk.no/skole/" target="_blank" rel="noopener">NRK Skole</a> 🚀 🚀 </li>
<li><a href="http://tekstlab.uio.no/igin/" target="_blank" rel="noopener">http://tekstlab.uio.no/igin/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-support-copy-paste-in-electron"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-support-copy-paste-in-electron/">How to support copy paste in electron</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-support-copy-paste-in-electron/" class="article-date">
	  <time datetime="2017-08-21T10:14:39.000Z" itemprop="datePublished">August 21, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/67" target="_blank" rel="noopener">#67</a></strong></p>
<p>After running <code>electron-packager</code>, the app does not accept copy, paste anymore. This is because the release build does not have menu with key binding to the clipboard by default. We can solve this by manually declaring the menu</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;app&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>)</span><br><span class="line"><span class="keyword">const</span> Menu = <span class="built_in">require</span>(<span class="string">'electron'</span>).Menu</span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'ready'</span>, () =&gt; &#123;</span><br><span class="line">  createWindow()</span><br><span class="line">  createMenu()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createMenu</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> application = &#123;</span><br><span class="line">    label: <span class="string">"Application"</span>,</span><br><span class="line">    submenu: [</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"About Application"</span>,</span><br><span class="line">        selector: <span class="string">"orderFrontStandardAboutPanel:"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        type: <span class="string">"separator"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Quit"</span>,</span><br><span class="line">        accelerator: <span class="string">"Command+Q"</span>,</span><br><span class="line">        click: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          app.quit()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> edit = &#123;</span><br><span class="line">    label: <span class="string">"Edit"</span>,</span><br><span class="line">    submenu: [</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Undo"</span>,</span><br><span class="line">        accelerator: <span class="string">"CmdOrCtrl+Z"</span>,</span><br><span class="line">        selector: <span class="string">"undo:"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Redo"</span>,</span><br><span class="line">        accelerator: <span class="string">"Shift+CmdOrCtrl+Z"</span>,</span><br><span class="line">        selector: <span class="string">"redo:"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        type: <span class="string">"separator"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Cut"</span>,</span><br><span class="line">        accelerator: <span class="string">"CmdOrCtrl+X"</span>,</span><br><span class="line">        selector: <span class="string">"cut:"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Copy"</span>,</span><br><span class="line">        accelerator: <span class="string">"CmdOrCtrl+C"</span>,</span><br><span class="line">        selector: <span class="string">"copy:"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Paste"</span>,</span><br><span class="line">        accelerator: <span class="string">"CmdOrCtrl+V"</span>,</span><br><span class="line">        selector: <span class="string">"paste:"</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        label: <span class="string">"Select All"</span>,</span><br><span class="line">        accelerator: <span class="string">"CmdOrCtrl+A"</span>,</span><br><span class="line">        selector: <span class="string">"selectAll:"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> template = [</span><br><span class="line">    application,</span><br><span class="line">    edit</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">  Menu.setApplicationMenu(Menu.buildFromTemplate(template))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://pracucci.com/atom-electron-enable-copy-and-paste.html" target="_blank" rel="noopener">Electron - Enable copy and paste</a></li>
<li><a href="https://github.com/electron/electron/issues/2591" target="_blank" rel="noopener">Paste into input field doesn’t work after packaging up app</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-change-app-icon-in-electron"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-change-app-icon-in-electron/">How to change app icon in electron</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-change-app-icon-in-electron/" class="article-date">
	  <time datetime="2017-08-15T05:03:41.000Z" itemprop="datePublished">August 15, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/66" target="_blank" rel="noopener">#66</a></strong></p>
<h3 id="Generate-icns"><a href="#Generate-icns" class="headerlink" title="Generate icns"></a>Generate icns</h3><ul>
<li>Generate <code>.iconset</code></li>
<li>Run <code>iconutil -c icns &quot;Icon.iconset&quot;</code>. Note that icon names must be first letter lowsercased, and use <code>_</code> instead of <code>-</code></li>
</ul>
<p><img src="https://user-images.githubusercontent.com/2284279/29305228-da1a8560-8197-11e7-8826-6a278157abf2.png" alt="icns"></p>
<h3 id="Use-icns"><a href="#Use-icns" class="headerlink" title="Use icns"></a>Use icns</h3><ul>
<li>In <code>main.js</code>, specify <code>icon</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">win = <span class="keyword">new</span> BrowserWindow(&#123;</span><br><span class="line">  width: <span class="number">800</span>, </span><br><span class="line">  height: <span class="number">600</span>,</span><br><span class="line">  icon: __dirname +  <span class="string">'/Icon/Icon.icns'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>You can also use helper url methods</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> iconUrl = url.format(&#123;</span><br><span class="line">  pathname: path.join(__dirname, <span class="string">'Icon/Icon.icns'</span>),</span><br><span class="line">  protocol: <span class="string">'file:'</span>,</span><br><span class="line">  slashes: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="If-app-icon-is-not-updated"><a href="#If-app-icon-is-not-updated" class="headerlink" title="If app icon is not updated"></a>If app icon is not updated</h3><ul>
<li>I get a problem that electron always shows default app icon. I tried using <code>png</code>, <code>NativeImage</code>, different icon sizes but still the problem. When I use <code>electron-packager</code> to make release build, the icon shows correctly, so it must be because of Electron caching or somehow 😠 </li>
<li>Go to <code>node_modules -&gt; electron -&gt; dist</code>, right click on <code>Electron</code>, choose <code>View Info</code></li>
<li>Drag another <code>icns</code> into the icon on the top left</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/2284279/29305340-83c8d058-8198-11e7-8057-742f904e2c1c.png" alt="info"></p>
<h3 id="Release-with-electron-packager"><a href="#Release-with-electron-packager" class="headerlink" title="Release with electron-packager"></a>Release with <code>electron-packager</code></h3><ul>
<li><code>icon</code> must be specified with <code>__dirname</code> (we already did) for <code>electron-packager</code> to pick up correct icons</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Another-layer-of-abstraction"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Another-layer-of-abstraction/">Another layer of abstraction</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Another-layer-of-abstraction/" class="article-date">
	  <time datetime="2017-08-09T11:57:51.000Z" itemprop="datePublished">August 9, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/65" target="_blank" rel="noopener">#65</a></strong></p>
<p><a href="https://sandofsky.com/blog/third-party-libraries.html" target="_blank" rel="noopener">https://sandofsky.com/blog/third-party-libraries.html</a></p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-do-implement-notification-in-iOS-with-Firebase"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-do-implement-notification-in-iOS-with-Firebase/">How to do implement notification in iOS with Firebase</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-do-implement-notification-in-iOS-with-Firebase/" class="article-date">
	  <time datetime="2017-08-09T06:29:51.000Z" itemprop="datePublished">August 9, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/64" target="_blank" rel="noopener">#64</a></strong></p>
<p>Note: This applies to Firebase 4.0.4</p>
<h2 id="Preparing-push-notification-certificate"><a href="#Preparing-push-notification-certificate" class="headerlink" title="Preparing push notification certificate"></a>Preparing push notification certificate</h2><p>Go to <a href="https://developer.apple.com/account/ios/certificate/distribution/create" target="_blank" rel="noopener">Member Center</a> -&gt; <code>Certificates</code> -&gt; <code>Production</code></p>
<h3 id="Certificate"><a href="#Certificate" class="headerlink" title="Certificate"></a>Certificate</h3><p>You can now use 1 certificate for both sandbox and production environment<br><img src="https://user-images.githubusercontent.com/2284279/29111626-5617e09c-7ceb-11e7-9f56-c1f9ceab3cd1.png" alt="push"></p>
<h3 id="Auth-Key"><a href="#Auth-Key" class="headerlink" title="Auth Key"></a>Auth Key</h3><ul>
<li>If you like to use <a href="https://developer.apple.com/account/ios/authkey/create" target="_blank" rel="noopener">Auth Key</a>, read <a href="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CommunicatingwithAPNs.html#//apple_ref/doc/uid/TP40008194-CH11-SW3" target="_blank" rel="noopener">Provider Authentication Tokens</a></li>
</ul>
<h2 id="Configure-push-notification"><a href="#Configure-push-notification" class="headerlink" title="Configure push notification"></a>Configure push notification</h2><ul>
<li>Go to <a href="https://console.firebase.google.com/" target="_blank" rel="noopener">Firebase Console</a> -&gt; <code>Settings</code> -&gt; <code>Project Settings</code> -&gt; <code>Cloud Messaging</code> -&gt; <code>iOS app configuration</code><ul>
<li>If you use certificate, use just 1 <code>Apple Push Notification service SSL</code> for both fields</li>
<li>If you use Authenticate Key, fill in <code>APNS auth key</code></li>
</ul>
</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/2284279/29111784-f0dfcbe4-7ceb-11e7-8aff-db1a50ea3ee5.png" alt="firebase"></p>
<h2 id="Adding-pod"><a href="#Adding-pod" class="headerlink" title="Adding pod"></a>Adding pod</h2><p>In your <code>Podfile</code>, declare</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="string">'Firebase/Core'</span></span><br><span class="line">pod <span class="string">'Firebase/Messaging'</span></span><br></pre></td></tr></table></figure>

<h2 id="Disabling-app-delegate-swizzling"><a href="#Disabling-app-delegate-swizzling" class="headerlink" title="Disabling app delegate swizzling"></a>Disabling app delegate swizzling</h2><ul>
<li>Read <a href="https://firebase.google.com/docs/cloud-messaging/ios/client" target="_blank" rel="noopener">Method swizzling in Firebase Cloud Messaging</a></li>
<li>You should say NO to swizzling. Do this in your <code>Info.plist</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>FirebaseAppDelegateProxyEnabled<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">false</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>Read more on <code>Messaging.messaging().apnsToken</code></p>
<blockquote>
<p>This property is used to set the APNS Token received by the application delegate.<br>FIRMessaging uses method swizzling to ensure the APNS token is set automatically. However, if you have disabled swizzling by setting <code>FirebaseAppDelegateProxyEnabled</code> to <code>NO</code> in your app’s Info.plist, you should manually set the APNS token in your application delegate’s -application:didRegisterForRemoteNotificationsWithDeviceToken: method.<br>If you would like to set the type of the APNS token, rather than relying on automatic detection, see: -setAPNSToken:type:.</p>
</blockquote>
<h2 id="Configuring-Firebase"><a href="#Configuring-Firebase" class="headerlink" title="Configuring Firebase"></a>Configuring Firebase</h2><p>You can and should configure Firebase in code</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Firebase</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> options = <span class="type">FirebaseOptions</span>(googleAppID: <span class="string">""</span>, gcmSenderID: <span class="string">""</span>)</span><br><span class="line">options.bundleID = <span class="string">""</span></span><br><span class="line">options.apiKey = <span class="string">""</span></span><br><span class="line">options.projectID = <span class="string">""</span></span><br><span class="line">options.clientID = <span class="string">""</span></span><br><span class="line"><span class="type">FirebaseApp</span>.configure(options: options)</span><br></pre></td></tr></table></figure>

<h2 id="Handling-device-token"><a href="#Handling-device-token" class="headerlink" title="Handling device token"></a>Handling device token</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Firebase</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data)</span></span> &#123;</span><br><span class="line">  <span class="type">Messaging</span>.messaging().apnsToken = deviceToken</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Getting-FCM-token"><a href="#Getting-FCM-token" class="headerlink" title="Getting FCM token"></a>Getting FCM token</h2><h3 id="Retrieving-FCM-token"><a href="#Retrieving-FCM-token" class="headerlink" title="Retrieving FCM token"></a>Retrieving FCM token</h3><p>Read <a href="https://firebase.google.com/docs/cloud-messaging/ios/first-message" target="_blank" rel="noopener">Access the registration token</a></p>
<blockquote>
<p>By default, the FCM SDK generates a registration token for the client app instance on initial startup of your app. Similar to the APNs device token, this token allows you to target notification messages to this particular instance of the app.</p>
</blockquote>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Messaging</span>.messaging().fcmToken</span><br></pre></td></tr></table></figure>

<h3 id="Observing-for-FCM-token-change"><a href="#Observing-for-FCM-token-change" class="headerlink" title="Observing for FCM token change"></a>Observing for FCM token change</h3><p>Read <a href="https://firebase.google.com/docs/cloud-messaging/ios/first-message#access_the_registration_token" target="_blank" rel="noopener">Monitor token generation</a></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Messaging</span>.messaging().delegate = <span class="keyword">self</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - MessagingDelegate</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">messaging</span><span class="params">(<span class="number">_</span> messaging: Messaging, didRefreshRegistrationToken fcmToken: String)</span></span> &#123;</span><br><span class="line">  <span class="built_in">print</span>(fcmToken)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-use-JSON-Codable-in-Swift-4"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-use-JSON-Codable-in-Swift-4/">How to use JSON Codable in Swift 4</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-use-JSON-Codable-in-Swift-4/" class="article-date">
	  <time datetime="2017-08-06T11:56:28.000Z" itemprop="datePublished">August 6, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/63" target="_blank" rel="noopener">#63</a></strong></p>
<p><code>Codable</code> in Swift 4 changes the game. It deprecates lots of existing JSON libraries.</p>
<h2 id="Generic-model"><a href="#Generic-model" class="headerlink" title="Generic model"></a>Generic model</h2><p>API responses is usually in form of an object container with a key. Then it will be either nested array or object. We can deal with it by introducing a <code>data holder</code>. Take a look <a href="https://github.com/onmyway133/PhotoFeed/blob/finish/PhotoFeed/Models/DataHolder.swift" target="_blank" rel="noopener">DataHolder</a></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"data"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"comment_id"</span>: <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"comment_id"</span>: <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ListHolder</span>&lt;<span class="title">T</span>: <span class="title">Codable</span>&gt;: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> list = <span class="string">"data"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> list: [<span class="type">T</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">OneHolder</span>&lt;<span class="title">T</span>: <span class="title">Codable</span>&gt;: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> one = <span class="string">"data"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> one: <span class="type">T</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>then with <code>Alamofire</code>, we can just parse to data holder</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">loadComments</span><span class="params">(mediaId: String, completion: @escaping <span class="params">([Comment])</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  request(<span class="string">"https://api.instagram.com/v1/media/\(mediaId)/comments"</span>,</span><br><span class="line">    parameters: parameters)</span><br><span class="line">  .responseData(completionHandler: &#123; (response) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> data = response.result.value &#123;</span><br><span class="line">      <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> holder = <span class="keyword">try</span> <span class="type">JSONDecoder</span>().decode(<span class="type">ListHolder</span>&lt;<span class="type">Comment</span>&gt;.<span class="keyword">self</span>, from: data)</span><br><span class="line">        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">          completion(holder.list)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-more"><a href="#Read-more" class="headerlink" title="Read more"></a>Read more</h2><ul>
<li><a href="http://benscheirman.com/2017/06/ultimate-guide-to-json-parsing-with-swift-4/" target="_blank" rel="noopener">http://benscheirman.com/2017/06/ultimate-guide-to-json-parsing-with-swift-4/</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Learning-flexbox"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Learning-flexbox/">Learning flexbox</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Learning-flexbox/" class="article-date">
	  <time datetime="2017-08-04T09:03:55.000Z" itemprop="datePublished">August 4, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/62" target="_blank" rel="noopener">#62</a></strong></p>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><ul>
<li>body height <a href="https://www.kirupa.com/html5/make_body_take_up_full_browser_height.htm" target="_blank" rel="noopener">https://www.kirupa.com/html5/make_body_take_up_full_browser_height.htm</a></li>
</ul>
<h2 id="Flexbox"><a href="#Flexbox" class="headerlink" title="Flexbox"></a>Flexbox</h2><ul>
<li>Properties of flex <a href="https://codepen.io/enxaneta/full/adLPwv" target="_blank" rel="noopener">https://codepen.io/enxaneta/full/adLPwv</a></li>
<li>Visual guide to flexbox <a href="https://scotch.io/tutorials/a-visual-guide-to-css3-flexbox-properties" target="_blank" rel="noopener">https://scotch.io/tutorials/a-visual-guide-to-css3-flexbox-properties</a></li>
<li>align-items vs align-content <a href="https://stackoverflow.com/questions/27539262/whats-the-difference-between-align-content-and-align-items" target="_blank" rel="noopener">https://stackoverflow.com/questions/27539262/whats-the-difference-between-align-content-and-align-items</a></li>
<li>align-items vs justify-content <a href="https://stackoverflow.com/questions/35049262/difference-between-justify-content-vs-align-items" target="_blank" rel="noopener">https://stackoverflow.com/questions/35049262/difference-between-justify-content-vs-align-items</a></li>
<li>multiple line <a href="https://stackoverflow.com/questions/41789278/first-child-full-width-in-flexbox" target="_blank" rel="noopener">https://stackoverflow.com/questions/41789278/first-child-full-width-in-flexbox</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-When-to-use-hamburger-menu-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/When-to-use-hamburger-menu-in-iOS/">When to use hamburger menu in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/When-to-use-hamburger-menu-in-iOS/" class="article-date">
	  <time datetime="2017-07-31T10:10:33.000Z" itemprop="datePublished">July 31, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/61" target="_blank" rel="noopener">#61</a></strong></p>
<p>You can read everywhere that hamburger is mostly not recommended. Every navigation structure has their use cases, and for hamburger, I find these posts to have their points</p>
<ul>
<li>As a secondary navigation <a href="http://babich.biz/hamburger-good-ux/" target="_blank" rel="noopener">http://babich.biz/hamburger-good-ux/</a></li>
<li>When it does not interfere with the existing navigation <a href="http://www.ios-coding.com/blog/2015/11/01/maintaining-viewdeck/" target="_blank" rel="noopener">http://www.ios-coding.com/blog/2015/11/01/maintaining-viewdeck/</a></li>
<li>Slack app <a href="https://slack.com/downloads/ios" target="_blank" rel="noopener">https://slack.com/downloads/ios</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-deal-with-windows-1252-encoding-in-Node"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-deal-with-windows-1252-encoding-in-Node/">How to deal with windows-1252 encoding in Node</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-deal-with-windows-1252-encoding-in-Node/" class="article-date">
	  <time datetime="2017-07-08T20:18:42.000Z" itemprop="datePublished">July 8, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/60" target="_blank" rel="noopener">#60</a></strong></p>
<p>Today I use <a href="https://github.com/bitinn/node-fetch" target="_blank" rel="noopener">node-fetch</a> and <a href="https://github.com/cheeriojs/cheerio" target="_blank" rel="noopener">cheerio</a> to fetch a webpage. It looks good in Chrome and Sublime Text when it displays <a href="https://www.w3schools.com/html/html_entities.asp" target="_blank" rel="noopener">html entities</a> like <code>&amp;#7901</code></p>
<p>However, it does not render correctly in iTerm, Terminal and Visual Studio Code. It just shows <a href="http://www.fileformat.info/info/unicode/char/0fffd/index.htm" target="_blank" rel="noopener">fffd</a></p>
<p>I think the problem is because of my code, so I change to <a href="https://github.com/request/request" target="_blank" rel="noopener">request</a> and try to play with different options in cheerio but still the problem.</p>
<p>It didn’t take me long to figure it out that the format of the html is <code>windows-1252</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=windows-1252"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>So I need to use <a href="https://github.com/mathiasbynens/windows-1252" target="_blank" rel="noopener">windows-1252</a>, <a href="https://github.com/ForbesLindesay/legacy-encoding" target="_blank" rel="noopener">legacy-encoding</a>, <a href="https://github.com/ashtuchkin/iconv-lite" target="_blank" rel="noopener">iconv-lite</a></p>
<p>FYI</p>
<ul>
<li><a href="https://stackoverflow.com/questions/31834790/node-js-how-to-http-get-and-decode-encode-response-in-custom-format" target="_blank" rel="noopener">https://stackoverflow.com/questions/31834790/node-js-how-to-http-get-and-decode-encode-response-in-custom-format</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Pixel-and-point"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Pixel-and-point/">Pixel and point</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Pixel-and-point/" class="article-date">
	  <time datetime="2017-06-16T09:13:15.000Z" itemprop="datePublished">June 16, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/59" target="_blank" rel="noopener">#59</a></strong></p>
<p>TL;DR: Don’t use <code>nativeScale</code> and <code>nativeBounds</code>, unless you’re doing some very low level stuff</p>
<h3 id="What-is-point-and-pixel"><a href="#What-is-point-and-pixel" class="headerlink" title="What is point and pixel"></a>What is point and pixel</h3><p>From <a href="https://developer.apple.com/library/content/documentation/2DDrawing/Conceptual/DrawingPrintingiOS/GraphicsDrawingOverview/GraphicsDrawingOverview.html" target="_blank" rel="noopener">https://developer.apple.com/library/content/documentation/2DDrawing/Conceptual/DrawingPrintingiOS/GraphicsDrawingOverview/GraphicsDrawingOverview.html</a></p>
<blockquote>
<p>In iOS there is a distinction between the coordinates you specify in your drawing code and the pixels of the underlying device</p>
</blockquote>
<blockquote>
<p>The purpose of using points (and the logical coordinate system) is to provide a consistent size of output that is device independent. For most purposes, the actual size of a point is irrelevant. The goal of points is to provide a relatively consistent scale that you can use in your code to specify the size and position of views and rendered content</p>
</blockquote>
<blockquote>
<p>On a standard-resolution screen, the scale factor is typically 1.0. On a high-resolution screen, the scale factor is typically 2.0</p>
</blockquote>
<h3 id="How-about-scale-and-nativeScale"><a href="#How-about-scale-and-nativeScale" class="headerlink" title="How about scale and nativeScale"></a>How about <code>scale</code> and <code>nativeScale</code></h3><p>From <a href="https://developer.apple.com/documentation/uikit/uiscreen" target="_blank" rel="noopener">https://developer.apple.com/documentation/uikit/uiscreen</a></p>
<ul>
<li>var bounds: CGRect: The bounding rectangle of the screen, measured in <strong>points</strong>.</li>
<li>var nativeBounds: CGRect: The bounding rectangle of the physical screen, measured in <strong>pixels</strong>.</li>
<li>var scale: CGFloat: The natural scale factor associated with the <strong>screen</strong>.</li>
<li>var nativeScale: CGFloat: The native scale factor for the <strong>physical screen</strong>.</li>
</ul>
<h3 id="The-scale-factor-and-display-mode"><a href="#The-scale-factor-and-display-mode" class="headerlink" title="The scale factor and display mode"></a>The scale factor and display mode</h3><p>See this for a whole list of devices and their scale factors <a href="https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions" target="_blank" rel="noopener">https://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions</a></p>
<p>The iPhone 6 and 6+ introduced <strong>display mode</strong> <a href="https://www.cnet.com/how-to/explaining-display-zoom-on-iphone-6-and-6-plus/" target="_blank" rel="noopener">https://www.cnet.com/how-to/explaining-display-zoom-on-iphone-6-and-6-plus/</a></p>
<p>You can see that currently the iPhone 6+, 6s+, 7+ phones have scale factor of 2.88 in zoomed mode, and 2.6 in standard mode</p>
<p>You can also see that in zoomed mode, iPhone 6 has the same <strong>logical size</strong> as the iPhone 5</p>
<h3 id="Simulator-vs-device"><a href="#Simulator-vs-device" class="headerlink" title="Simulator vs device"></a>Simulator vs device</h3><p>This is to show you the differences in <code>nativeScale</code> in simulators and devices in <strong>zoomed mode</strong>, hence differences in <code>nativeBounds</code>.</p>
<p>iPhone 6+ simulator</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(lldb) po <span class="type">UIScreen</span>.main.scale</span><br><span class="line"><span class="number">3.0</span></span><br><span class="line"></span><br><span class="line">(lldb) po <span class="type">UIScreen</span>.main.bounds</span><br><span class="line">▿ (<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">414.0</span>, <span class="number">736.0</span>)</span><br><span class="line">  ▿ origin : (<span class="number">0.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    - x : <span class="number">0.0</span></span><br><span class="line">    - y : <span class="number">0.0</span></span><br><span class="line">  ▿ size : (<span class="number">414.0</span>, <span class="number">736.0</span>)</span><br><span class="line">    - width : <span class="number">414.0</span></span><br><span class="line">    - height : <span class="number">736.0</span></span><br><span class="line"></span><br><span class="line">(lldb) po <span class="type">UIScreen</span>.main.nativeScale</span><br><span class="line"><span class="number">3.0</span></span><br><span class="line"></span><br><span class="line">(lldb) po <span class="type">UIScreen</span>.main.nativeBounds</span><br><span class="line">▿ (<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1242.0</span>, <span class="number">2208.0</span>)</span><br><span class="line">  ▿ origin : (<span class="number">0.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    - x : <span class="number">0.0</span></span><br><span class="line">    - y : <span class="number">0.0</span></span><br><span class="line">  ▿ size : (<span class="number">1242.0</span>, <span class="number">2208.0</span>)</span><br><span class="line">    - width : <span class="number">1242.0</span></span><br><span class="line">    - height : <span class="number">2208.0</span></span><br></pre></td></tr></table></figure>

<p>iPhone 6+ device</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(lldb) po <span class="type">UIScreen</span>.main.scale</span><br><span class="line"><span class="number">3.0</span></span><br><span class="line"></span><br><span class="line">(lldb) po <span class="type">UIScreen</span>.main.bounds</span><br><span class="line">▿ (<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">375.0</span>, <span class="number">667.0</span>)</span><br><span class="line">  ▿ origin : (<span class="number">0.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    - x : <span class="number">0.0</span></span><br><span class="line">    - y : <span class="number">0.0</span></span><br><span class="line">  ▿ size : (<span class="number">375.0</span>, <span class="number">667.0</span>)</span><br><span class="line">    - width : <span class="number">375.0</span></span><br><span class="line">    - height : <span class="number">667.0</span></span><br><span class="line"></span><br><span class="line">(lldb) po <span class="type">UIScreen</span>.main.nativeScale</span><br><span class="line"><span class="number">2.88</span></span><br><span class="line"></span><br><span class="line">(lldb) po <span class="type">UIScreen</span>.main.nativeBounds</span><br><span class="line">▿ (<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">1080.0</span>, <span class="number">1920.0</span>)</span><br><span class="line">  ▿ origin : (<span class="number">0.0</span>, <span class="number">0.0</span>)</span><br><span class="line">    - x : <span class="number">0.0</span></span><br><span class="line">    - y : <span class="number">0.0</span></span><br><span class="line">  ▿ size : (<span class="number">1080.0</span>, <span class="number">1920.0</span>)</span><br><span class="line">    - width : <span class="number">1080.0</span></span><br><span class="line">    - height : <span class="number">1920.0</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Optional-of-optional-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Optional-of-optional-in-Swift/">Optional of optional in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Optional-of-optional-in-Swift/" class="article-date">
	  <time datetime="2017-06-14T04:07:31.000Z" itemprop="datePublished">June 14, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/58" target="_blank" rel="noopener">#58</a></strong></p>
<p>Do you know that an optional can itself contain an optional, that contains another optional? In that case, we need to unwrap multiple times</p>
<p><img src="https://user-images.githubusercontent.com/2284279/27117791-83128f50-50d8-11e7-93dd-604ed704e890.png" alt="optionals"></p>
<p>You mostly see it when you try to access <code>window</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> window = <span class="type">UIApplication</span>.shared.delegate?.window <span class="comment">// UIWindow??</span></span><br></pre></td></tr></table></figure>

<p>It is because <code>delegate</code> can be nil, and its <code>window</code> can be nil too.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window??.backgroundColor = .yellow</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Package-node.js-application"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Package-node.js-application/">Package node.js application</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Package-node.js-application/" class="article-date">
	  <time datetime="2017-06-13T08:36:39.000Z" itemprop="datePublished">June 13, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/57" target="_blank" rel="noopener">#57</a></strong></p>
<p>I like <code>node.js</code> because it has many cool packages. I wish the same goes for macOS. Fortunately, the below solutions provide a way to package <code>node.js</code> modules and use them inside macOS applications. It can be slow, but you save time by using existing <code>node.js</code> modules. Let’s give it a try. </p>
<ul>
<li><a href="https://github.com/zeit/pkg" target="_blank" rel="noopener">pkg</a> Package your Node.js project into an executable 🚀 </li>
<li><a href="https://github.com/nexe/nexe" target="_blank" rel="noopener">nexe</a> create a single executable out of your node.js apps</li>
<li><a href="https://github.com/igorklopov/enclose" target="_blank" rel="noopener">enclose js</a> Compile your Node.js project into an executable <a href="http://enclosejs.com" target="_blank" rel="noopener">http://enclosejs.com</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node/">node</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Favorite-WWDC-2017-sessions"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Favorite-WWDC-2017-sessions/">Favorite WWDC 2017 sessions</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Favorite-WWDC-2017-sessions/" class="article-date">
	  <time datetime="2017-06-10T09:41:21.000Z" itemprop="datePublished">June 10, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/56" target="_blank" rel="noopener">#56</a></strong></p>
<ul>
<li>Source <a href="https://developer.apple.com/videos/wwdc2017/" target="_blank" rel="noopener">WWDC 2017</a></li>
</ul>
<ol>
<li><a href="https://developer.apple.com/videos/play/wwdc2017/703/" target="_blank" rel="noopener">Introducing Core ML</a></li>
</ol>
<ul>
<li>Core ML<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1572/1572_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="2">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/602/" target="_blank" rel="noopener">Introducing ARKit: Augmented Reality for iOS</a></li>
</ol>
<ul>
<li>ARKit<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1662/1662_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="3">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/402/" target="_blank" rel="noopener">What’s New in Swift</a></li>
</ol>
<ul>
<li>String</li>
<li>Generic</li>
<li>Codable<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1673/1673_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="4">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/230/" target="_blank" rel="noopener">Advanced Animations with UIKit</a></li>
</ol>
<ul>
<li>Multiple animation</li>
<li>Interactive animation<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1557/1557_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="5">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/208/" target="_blank" rel="noopener">Natural Language Processing and your Apps</a></li>
</ol>
<ul>
<li>NSLinguisticTagger<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1543/1543_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="6">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/201/" target="_blank" rel="noopener">What’s New in Cocoa Touch</a></li>
</ol>
<ul>
<li>Large title</li>
<li>Drag and drop</li>
<li>File management</li>
<li>Safe area<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1548/1548_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="7">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/212/" target="_blank" rel="noopener">What’s New in Foundation</a></li>
</ol>
<ul>
<li>KeyPath</li>
<li>Observe</li>
<li>Codable<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1620/1620_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="8">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/404/" target="_blank" rel="noopener">Debugging with Xcode 9</a></li>
</ol>
<ul>
<li>Wireless debugging</li>
<li>View controller debugging<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1681/1681_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="9">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/710/" target="_blank" rel="noopener">Core ML in depth</a></li>
</ol>
<ul>
<li>Model</li>
<li>Core ML tools<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1573/1573_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="10">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/506/" target="_blank" rel="noopener">Vision Framework: Building on Core ML</a></li>
</ol>
<ul>
<li>Detection</li>
<li>Track<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1618/1618_wide_250x141_2x.jpg" alt></li>
</ul>
<ol start="11">
<li><a href="https://developer.apple.com/videos/play/wwdc2017/409/" target="_blank" rel="noopener">What’s New in Testing</a></li>
</ol>
<ul>
<li>Parallel testing</li>
<li>Wait</li>
<li>Screenshot</li>
<li>Multiple app scenario<br><img src="https://devimages-cdn.apple.com/wwdc-services/images/7/1677/1677_wide_250x141_2x.jpg" alt></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wwdc/">wwdc</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-implement-a-tracker-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-implement-a-tracker-in-Swift/">How to implement a tracker in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-implement-a-tracker-in-Swift/" class="article-date">
	  <time datetime="2017-06-10T09:13:13.000Z" itemprop="datePublished">June 10, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/55" target="_blank" rel="noopener">#55</a></strong></p>
<p>I’m trying to implement a tracker, so the idea is that it can inject <code>subscription</code> upon method calls. It is best suit for logging, analytics, and it leverages <code>RxCocoa</code></p>
<h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">track(<span class="type">ListController</span>.<span class="keyword">self</span>) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">""</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">track(<span class="type">ListController</span>.<span class="keyword">self</span>, selector: #selector(<span class="type">ListController</span>.hello)) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">""</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">track(<span class="type">DetailController</span>.<span class="keyword">self</span>) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">""</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="The-code"><a href="#The-code" class="headerlink" title="The code"></a>The code</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> RxSwift</span><br><span class="line"><span class="keyword">import</span> RxCocoa</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mapping: [<span class="type">String</span>: [<span class="type">Item</span>]] = [:]</span><br><span class="line"><span class="keyword">var</span> hasSwizzled = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> bag = <span class="type">DisposeBag</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">track</span>&lt;T: UIViewController&gt;<span class="params">(<span class="number">_</span> type: T.<span class="keyword">Type</span>, selector: Selector? = <span class="literal">nil</span>, block: @escaping <span class="params">(T)</span></span></span> -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> typeName = <span class="type">NSStringFromClass</span>(type)</span><br><span class="line">  <span class="keyword">if</span> !hasSwizzled &#123;</span><br><span class="line">    <span class="keyword">let</span> original = #selector(<span class="type">UIViewController</span>.viewDidLoad)</span><br><span class="line">    <span class="keyword">let</span> swizled = #selector(<span class="type">UIViewController</span>.trackers_viewDidLoad)</span><br><span class="line">    swizzle(kClass: <span class="type">UIViewController</span>.<span class="keyword">self</span>, originalSelector: original, swizzledSelector: swizled)</span><br><span class="line">    hasSwizzled = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> selector = selector ?? #selector(<span class="type">UIViewController</span>.viewDidAppear(<span class="number">_</span>:))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> item = <span class="type">Item</span>(selector: selector, block: &#123; (controller) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> controller = controller <span class="keyword">as</span>? <span class="type">T</span> &#123;</span><br><span class="line">      block(controller)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">var</span> items = mapping[typeName] &#123;</span><br><span class="line">    items.append(item)</span><br><span class="line">    mapping[typeName] = items</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    mapping[typeName] = [item]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> selector: <span class="type">Selector</span></span><br><span class="line">  <span class="keyword">let</span> block: (<span class="type">UIViewController</span>) -&gt; <span class="type">Void</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">init</span>(selector: <span class="type">Selector</span>, block: @escaping (<span class="type">UIViewController</span>) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.selector = selector</span><br><span class="line">    <span class="keyword">self</span>.block = block</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">trackers_viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    trackers_viewDidLoad()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> typeName = <span class="type">NSStringFromClass</span>(type(of: <span class="keyword">self</span>))</span><br><span class="line">    <span class="keyword">let</span> items = mapping[typeName]</span><br><span class="line">    items?.forEach(&#123; (item) <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">self</span></span><br><span class="line">        .rx</span><br><span class="line">        .sentMessage(item.selector)</span><br><span class="line">        .subscribe(onNext: &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">          item.block(<span class="keyword">self</span>)</span><br><span class="line">        &#125;, onCompleted: &#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">"completed"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        .disposed(by: bag)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swizzle</span><span class="params">(kClass: AnyClass, originalSelector: Selector, swizzledSelector: Selector)</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> originalMethod = class_getInstanceMethod(kClass, originalSelector)</span><br><span class="line">  <span class="keyword">let</span> swizzledMethod = class_getInstanceMethod(kClass, swizzledSelector)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> didAddMethod = class_addMethod(kClass, originalSelector, method_getImplementation(swizzledMethod), method_getTypeEncoding(swizzledMethod))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> didAddMethod &#123;</span><br><span class="line">    class_replaceMethod(kClass, swizzledSelector, method_getImplementation(originalMethod), method_getTypeEncoding(originalMethod))</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    method_exchangeImplementations(originalMethod, swizzledMethod)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-change-year-in-Date-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-change-year-in-Date-in-Swift/">How to change year in Date in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-change-year-in-Date-in-Swift/" class="article-date">
	  <time datetime="2017-06-09T08:53:47.000Z" itemprop="datePublished">June 9, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/54" target="_blank" rel="noopener">#54</a></strong></p>
<p>Today I’m trying to change the year of a <code>Date</code> object to 2000 in Swift.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> date = <span class="type">Date</span>()</span><br></pre></td></tr></table></figure>

<p>Firstly, I tried with <code>date(bySetting:)</code> but it does not work with past year. It simply returns nil</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Calendar</span>.current.date(bySetting: .year, value: <span class="number">2000</span>, of: date)</span><br></pre></td></tr></table></figure>

<p>Secondly, I tried with <code>dateComponents</code>. The <code>component.year</code> has changed, but it <code>calendar</code> still returns the original date, very strange !!. No matter what timezone and calendar I use, it still has this problem</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> component = calendar.dateComponents(<span class="keyword">in</span>: <span class="type">TimeZone</span>.current, from: base)</span><br><span class="line">component.year = year</span><br><span class="line"><span class="type">Calendar</span>.current.date(from: component)</span><br></pre></td></tr></table></figure>

<p>Finally, I tried to be more explicit, and it works 🎉 </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> component = calendar.dateComponents([.year, .month, .day, .hour, .minute, .second], from: base)</span><br><span class="line">component.year = year</span><br><span class="line"><span class="type">Calendar</span>.current.date(from: component)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-WWDC-changelog"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/WWDC-changelog/">WWDC changelog</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/WWDC-changelog/" class="article-date">
	  <time datetime="2017-06-08T19:50:07.000Z" itemprop="datePublished">June 8, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/53" target="_blank" rel="noopener">#53</a></strong></p>
<p>Every WWDC, Apple introduces new frameworks and workflows. There are many awesome things we overlook or haven’t had the chance to use. Some frameworks are first introduced on macOS, but I list in the first WWDC it was introduced</p>
<blockquote>
<p>It’s something only Apple can do</p>
</blockquote>
<h2 id="General"><a href="#General" class="headerlink" title="General"></a>General</h2><ul>
<li><a href="https://developer.apple.com/wwdc" target="_blank" rel="noopener">WWDC</a></li>
<li><a href="https://developer.apple.com/documentation" target="_blank" rel="noopener">Apple Developer Documentation</a> </li>
<li><a href="https://en.wikipedia.org/wiki/Apple_Worldwide_Developers_Conference" target="_blank" rel="noopener">Apple Worldwide Developers Conference</a></li>
<li><a href="http://asciiwwdc.com/" target="_blank" rel="noopener">ASCII WWDC</a> Searchable full-text transcripts of WWDC sessions</li>
<li><a href="https://www.git-tower.com/blog/history-of-ios/" target="_blank" rel="noopener">An Illustrated History of iOS</a></li>
<li><a href="https://www.git-tower.com/blog/history-of-macos/" target="_blank" rel="noopener">An Illustrated History of macOS</a></li>
</ul>
<h2 id="Interesting"><a href="#Interesting" class="headerlink" title="Interesting"></a>Interesting</h2><ul>
<li><a href="https://developer.apple.com/documentation/foundation/nslinguistictagger" target="_blank" rel="noopener">NSLinguisticTagger</a><blockquote>
<p>Analyze natural language to tag part of speech and lexical class, identify proper names, perform lemmatization, and determine the language and script (orthography) of text.</p>
</blockquote>
</li>
</ul>
<h2 id="WWDC-…"><a href="#WWDC-…" class="headerlink" title="WWDC …"></a>WWDC …</h2><ul>
<li><a href="https://developer.apple.com/documentation/coreimage" target="_blank" rel="noopener">Core Image</a><blockquote>
<p>Use built-in or custom filters to process still and video images.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/coremotion" target="_blank" rel="noopener">Core Motion</a><blockquote>
<p>Process accelerometer, gyroscope, pedometer, and environment-related events.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/accelerate" target="_blank" rel="noopener">Accelerate</a><blockquote>
<p>Make large-scale mathematical computations and image calculations, optimized for high performance.</p>
</blockquote>
</li>
</ul>
<h2 id="WWDC-2013"><a href="#WWDC-2013" class="headerlink" title="WWDC 2013"></a>WWDC 2013</h2><ul>
<li>iOS 7, macOS Mavericks 10.9</li>
<li><a href="https://developer.apple.com/documentation/multipeerconnectivity" target="_blank" rel="noopener">MultipeerConnectivity</a><blockquote>
<p>Support peer-to-peer connectivity and the discovery of nearby devices.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/spritekit" target="_blank" rel="noopener">SpriteKit</a><blockquote>
<p>Create 2D sprite-based games using an optimized animation system, physics simulation, and event-handling support.</p>
</blockquote>
</li>
<li><a href="https://www.apple.com/researchkit/" target="_blank" rel="noopener">ResearchKit</a> <blockquote>
<p>ResearchKit makes it easier to enroll participants and conduct studies</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/uikit/animation_and_haptics/uikit_dynamics" target="_blank" rel="noopener">UIKit Dynamics</a><blockquote>
<p>Apply physics-based animations to your views.</p>
</blockquote>
</li>
</ul>
<h2 id="WWDC-2014"><a href="#WWDC-2014" class="headerlink" title="WWDC 2014"></a>WWDC 2014</h2><ul>
<li>iOS 8, macOS Yosemite 10.10</li>
<li><a href="https://developer.apple.com/documentation/photos" target="_blank" rel="noopener">Photos</a><blockquote>
<p>Work with image and video assets managed by the Photos app, including those from iCloud Photo Library and Live Photos. Fetch and cache full-sized assets or thumbnails asynchronously, revise content, and sync revisions to multiple devices.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/metal" target="_blank" rel="noopener">Metal</a><blockquote>
<p>Render advanced 3D graphics and perform data-parallel computations using the GPU.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/scenekit" target="_blank" rel="noopener">SceneKit</a><blockquote>
<p>Create 3D games and add 3D content to apps using high-level scene descriptions. Easily add animations, physics simulation, particle effects, and realistic physically based rendering.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/healthkit" target="_blank" rel="noopener">HealthKit</a><blockquote>
<p>Share health and fitness data with other apps, while maintaining the user’s privacy and control over their data.</p>
</blockquote>
</li>
</ul>
<h2 id="WWDC-2015"><a href="#WWDC-2015" class="headerlink" title="WWDC 2015"></a>WWDC 2015</h2><ul>
<li>iOS 9, macOS El Capitan 10.11, watchOS 2</li>
<li><a href="https://developer.apple.com/documentation/watchkit" target="_blank" rel="noopener">WatchKit</a> <blockquote>
<p>Construct and manage your app’s user interface for watchOS. Respond to events generated by interface objects, gestures, and the system.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/gameplaykit" target="_blank" rel="noopener">GameplayKit</a><blockquote>
<p>Architect and organize your game logic. Incorporate common gameplay behaviors such as random number generation, artificial intelligence, pathfinding, and agent behavior.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/contacts" target="_blank" rel="noopener">Contacts</a><blockquote>
<p>Access the user’s contacts and format and localize contact information.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/corespotlight" target="_blank" rel="noopener">Core Spotlight</a><blockquote>
<p>Index the content in apps that handle persistent user data, such as documents and photos, and let users deep-link to it from Spotlight and Safari search results. Add, update, and delete searchable app content.</p>
</blockquote>
</li>
</ul>
<h2 id="WWDC-2016"><a href="#WWDC-2016" class="headerlink" title="WWDC 2016"></a>WWDC 2016</h2><ul>
<li>iOS 10, macOS Sierra 10.12, watchOS 3</li>
<li><a href="https://developer.apple.com/documentation/homekit" target="_blank" rel="noopener">HomeKit</a><blockquote>
<p>Communicate with, configure, and control home automation accessories, including complex camera-type accessories.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/replaykit" target="_blank" rel="noopener">ReplayKit</a><blockquote>
<p>Record or stream video from the screen, and audio from the app and microphone</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/sirikit" target="_blank" rel="noopener">SiriKit</a><blockquote>
<p>Handle user requests for your app’s services that originate from Siri or Maps.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/usernotificationsui" target="_blank" rel="noopener">UserNotificationsUI</a><blockquote>
<p>Customize the interface used to display local and remote notifications.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/speech" target="_blank" rel="noopener">Speech</a><blockquote>
<p>With the user’s permission, get recognition of live and prerecorded speech, and receive transcriptions, alternative interpretations, and confidence levels</p>
</blockquote>
</li>
</ul>
<h2 id="WWDC-2017"><a href="#WWDC-2017" class="headerlink" title="WWDC 2017"></a>WWDC 2017</h2><ul>
<li>iOS 11, macOS High Sierra 10.13, watchOS 4</li>
<li><a href="https://developer.apple.com/documentation/arkit" target="_blank" rel="noopener">ARKit</a> 🚀 <blockquote>
<p>Integrate iOS device camera and motion features to produce augmented reality experiences in your app or game.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/vision" target="_blank" rel="noopener">Vision</a>  🚀 <blockquote>
<p>Apply high-performance image analysis and computer vision techniques to identify faces, detect features, and classify scenes in images and video.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/coreml" target="_blank" rel="noopener">Core ML</a> 🚀 <blockquote>
<p>Integrate machine learning models into your app.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/musickit/" target="_blank" rel="noopener">MusicKit</a><blockquote>
<p>MusicKit on iOS lets users play Apple Music and their local music library natively from your apps and games.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/documentation/pdfkit" target="_blank" rel="noopener">PDFKit</a><blockquote>
<p>Display and manipulate PDF documents in your applications.</p>
</blockquote>
</li>
<li><a href="https://developer.apple.com/ios/drag-and-drop/" target="_blank" rel="noopener">Drag and Drop</a><blockquote>
<p>Bring drag and drop to your app by using interaction APIs with your views.</p>
</blockquote>
</li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wwdc/">wwdc</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-test-for-viewDidLoad-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-test-for-viewDidLoad-in-iOS/">How to test for viewDidLoad in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-test-for-viewDidLoad-in-iOS/" class="article-date">
	  <time datetime="2017-06-07T09:58:15.000Z" itemprop="datePublished">June 7, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/52" target="_blank" rel="noopener">#52</a></strong></p>
<p>Suppose we have the following view controller</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    view.backgroundColor = .white</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Get-to-know-viewDidLoad"><a href="#Get-to-know-viewDidLoad" class="headerlink" title="Get to know viewDidLoad"></a>Get to know <code>viewDidLoad</code></h3><p>We know that <code>viewDidLoad</code> is called when view is created the first time. So in the the Unit Test, if you use <code>viewDidLoad</code> to trigger, you will fall into a trap</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testSetup</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> controller = <span class="type">ListController</span>()</span><br><span class="line">  controller.viewDidLoad()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Why-is-viewDidLoad-called-twice"><a href="#Why-is-viewDidLoad-called-twice" class="headerlink" title="Why is viewDidLoad called twice?"></a>Why is <code>viewDidLoad</code> called twice?</h3><ul>
<li>It is called once in your test</li>
<li>And in your <code>viewDidLoad</code> method, you access <code>view</code>, which is created the first time, hence it will trigger <code>viewDidLoad</code> again</li>
</ul>
<h3 id="The-correct-way"><a href="#The-correct-way" class="headerlink" title="The correct way"></a>The correct way</h3><p>The best practice is not to trigger events yourself, but do something to make event happen. In Unit Test, we just access <code>view</code> to trigger <code>viewDidLoad</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">testSetup</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> controller = <span class="type">ListController</span>()</span><br><span class="line">  <span class="keyword">let</span> <span class="number">_</span> = controller.view</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-initialize-Enums-With-Optionals-in-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-initialize-Enums-With-Optionals-in-Swift/">How to initialize Enums With Optionals in Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-initialize-Enums-With-Optionals-in-Swift/" class="article-date">
	  <time datetime="2017-06-02T11:07:40.000Z" itemprop="datePublished">June 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/49" target="_blank" rel="noopener">#49</a></strong></p>
<p>Today someone showed me <a href="https://medium.com/@_Easy_E/initializing-enums-with-optionals-in-swift-bf246ce20e4c" target="_blank" rel="noopener">https://medium.com/@_Easy_E/initializing-enums-with-optionals-in-swift-bf246ce20e4c</a> which tries to init enum with optional value.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Planet</span>: <span class="title">String</span> </span>&#123;</span><br><span class="line">  <span class="keyword">case</span> mercury</span><br><span class="line">  <span class="keyword">case</span> venus</span><br><span class="line">  <span class="keyword">case</span> earth</span><br><span class="line">  <span class="keyword">case</span> mars</span><br><span class="line">  <span class="keyword">case</span> jupiter</span><br><span class="line">  <span class="keyword">case</span> saturn</span><br><span class="line">  <span class="keyword">case</span> uranus</span><br><span class="line">  <span class="keyword">case</span> neptune</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">RawRepresentable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">init</span>?(optionalValue: <span class="type">RawValue?</span>) &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> value = optionalValue <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">nil</span> &#125;</span><br><span class="line">    <span class="keyword">self</span>.<span class="keyword">init</span>(rawValue: value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name: <span class="type">String?</span> = <span class="string">"venus"</span></span><br><span class="line"><span class="keyword">let</span> planet = <span class="type">Planet</span>(optionalValue: name)</span><br></pre></td></tr></table></figure>

<p>One interesting fact about optional, is that it is a monad, so it has <code>map</code> and <code>flatMap</code>. Since <code>enum</code> <code>init(rawValue:)</code> returns an optional, we need to use <code>flatMap</code>. It looks like this</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name: <span class="type">String?</span> = <span class="string">"venus"</span></span><br><span class="line"><span class="keyword">let</span> planet = name.flatMap(&#123; <span class="type">Planet</span>(rawValue: $<span class="number">0</span>) &#125;)</span><br></pre></td></tr></table></figure>

<p>🎉 </p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-run-UI-Test-with-system-alert-in-iOS"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-run-UI-Test-with-system-alert-in-iOS/">How to run UI Test with system alert in iOS</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-run-UI-Test-with-system-alert-in-iOS/" class="article-date">
	  <time datetime="2017-06-02T10:59:14.000Z" itemprop="datePublished">June 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/48" target="_blank" rel="noopener">#48</a></strong></p>
<p>Continue my post <a href="https://github.com/onmyway133/blog/issues/45" target="_blank" rel="noopener">https://github.com/onmyway133/blog/issues/45</a>. When you work with features, like map view, you mostly need permissions, and in UITests you need to test for system alerts.</p>
<h3 id="Add-interruption-monitor"><a href="#Add-interruption-monitor" class="headerlink" title="Add interruption monitor"></a>Add interruption monitor</h3><p>This is the code. Note that you need to call <code>app.tap()</code> to interact with the app again, in order for interruption monitor to work</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">addUIInterruptionMonitor(withDescription: <span class="string">"Location permission"</span>, handler: &#123; alert <span class="keyword">in</span></span><br><span class="line">  alert.buttons[<span class="string">"Allow"</span>].tap()</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.tap()</span><br></pre></td></tr></table></figure>

<p>Note that you don’t always need to handle the returned value of <code>addUIInterruptionMonitor</code></p>
<h3 id="Only-tap-when-needed"><a href="#Only-tap-when-needed" class="headerlink" title="Only tap when needed"></a>Only tap when needed</h3><p>One problem with this approach is that when there is no system alert (you already touched to allow before), then <code>app.tap()</code> will tap on your main screen. In my app which uses map view, it will tap on some pins, which will present another screen, which is not correct.</p>
<p>Since <code>app.alerts</code> does not work, my 2nd attempt is to check for <code>app.windows.count</code>. Unfortunately, it always shows 5 windows whether alert is showing or not. I know 1 is for main window, 1 is for status bar, the other 3 windows I have no idea.</p>
<p>The 3rd attempt is to check that underlying elements (behind alert) can’t be touched, which is to use <code>isHittable</code>. This property does not work, it always returns <code>true</code></p>
<h3 id="Check-the-content"><a href="#Check-the-content" class="headerlink" title="Check the content"></a>Check the content</h3><p>This uses the assumption that we only tests for when user hits <code>Allow</code> button. So only if alert is answered with <code>Allow</code>, then we have permission to display our content. For my map view, I check that there are some pins on the map. See <a href="https://github.com/onmyway133/blog/issues/45" target="_blank" rel="noopener">https://github.com/onmyway133/blog/issues/45</a> on how to mock location and identify the pins</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if app.otherElements.matching(identifier: &quot;myPin&quot;).count == 0 &#123;</span><br><span class="line">  app.tap()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="When-there-is-no-permission"><a href="#When-there-is-no-permission" class="headerlink" title="When there is no permission"></a>When there is no permission</h3><p>So how can we test that user has denied your request? In my map view, if user does not allow location permission, I show a popup asking user to go to Settings and change it, otherwise, they can’t interact with the map.</p>
<p>I don’t know how to toggle location in <code>Privacy</code> in <code>Settings</code>, maybe <code>XCUISiriService</code> can help. But 1 thing we can do is to mock the application</p>
<p>Before you launch the app in <code>UITests</code>, add some arguments</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.launchArguments.append(&quot;--UITests-mockNoLocationPermission&quot;)</span><br></pre></td></tr></table></figure>

<p>and in the app, we need to check for this <code>arguments</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkLocationPermission</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> <span class="type">CommandLine</span>.arguments.<span class="built_in">contains</span>(<span class="string">"--UITests-mockNoLocationPermission"</span>) &#123;</span><br><span class="line">    showNoLocationPopupAndAskUserToEnableInSettings()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>That’s it. In <code>UITests</code>, we can test whether that <code>no location permission popup</code> appears or not</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-How-to-master-Auto-Layout-Visual-Format-Language"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/How-to-master-Auto-Layout-Visual-Format-Language/">How to master Auto Layout Visual Format Language</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/How-to-master-Auto-Layout-Visual-Format-Language/" class="article-date">
	  <time datetime="2017-06-02T10:17:14.000Z" itemprop="datePublished">June 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/47" target="_blank" rel="noopener">#47</a></strong></p>
<p>No, you don’t</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/layout/">layout</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Links-for-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Links-for-Swift/">Links for Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Links-for-Swift/" class="article-date">
	  <time datetime="2017-06-02T05:15:46.000Z" itemprop="datePublished">June 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/46" target="_blank" rel="noopener">#46</a></strong></p>
<p>Hi, here are some materials I found that are useful for learning Swift and iOS</p>
<ul>
<li><a href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" target="_blank" rel="noopener">App Development with Swift</a></li>
<li><a href="https://www.hackingwithswift.com/read" target="_blank" rel="noopener">Hacking with Swift</a></li>
<li><a href="https://swifteducation.github.io/teaching_app_development_with_swift/" target="_blank" rel="noopener">Teaching App Development with Swift</a></li>
<li><a href="http://guides.codepath.com/ios" target="_blank" rel="noopener">CodePath iOS Guides</a></li>
<li><a href="https://github.com/nettlep/learn-swift" target="_blank" rel="noopener">learn-swift</a></li>
<li><a href="https://developer.apple.com/library/content/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html" target="_blank" rel="noopener">About iOS App Architecture</a></li>
<li><a href="https://developer.apple.com/library/content/referencelibrary/GettingStarted/DevelopiOSAppsSwift/index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" target="_blank" rel="noopener">Start Developing iOS Apps (Swift)</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
  <span class="ico-tags"></span>
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/swift/">swift</a></li></ul>

      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  
    <article id="post-Getting-started-with-Swift"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/blog/Getting-started-with-Swift/">Getting started with Swift</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	Posted on <a href="/blog/Getting-started-with-Swift/" class="article-date">
	  <time datetime="2017-06-02T05:15:46.000Z" itemprop="datePublished">June 2, 2017</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Issue <a href="https://github.com/onmyway133/blog/issues/46" target="_blank" rel="noopener">#46</a></strong></p>
<p>Hi, here are some materials I found that are useful for learning Swift and iOS</p>
<ul>
<li><a href="https://itunes.apple.com/us/book/app-development-with-swift/id1219117996?mt=11" target="_blank" rel="noopener">App Development with Swift</a></li>
<li><a href="https://www.hackingwithswift.com/read" target="_blank" rel="noopener">Hacking with Swift</a></li>
<li><a href="https://swifteducation.github.io/teaching_app_development_with_swift/" target="_blank" rel="noopener">Teaching App Development with Swift</a></li>
<li><a href="http://guides.codepath.com/ios" target="_blank" rel="noopener">CodePath iOS Guides</a></li>
<li><a href="https://github.com/nettlep/learn-swift" target="_blank" rel="noopener">learn-swift</a></li>
<li><a href="https://developer.apple.com/library/content/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Introduction/Introduction.html" target="_blank" rel="noopener">About iOS App Architecture</a></li>
<li><a href="https://developer.apple.com/library/content/referencelibrary/GettingStarted/DevelopiOSAppsSwift/index.html#//apple_ref/doc/uid/TP40015214-CH2-SW1" target="_blank" rel="noopener">Start Developing iOS Apps (Swift)</a></li>
</ul>

      
    </div>
    <footer class="entry-meta entry-footer">
      
      
      
            
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

    

  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/15/">Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/17/">Next</a>
  </nav>

</section>
          <aside id="sidebar">
  
    <div class="widget-wrap" style="margin: 20px 0;">
	<div id="search-form-wrap">

    <form class="search-form">
        <label style="width: 75%;">
            <span class="screen-reader-text">Search for:</span>
            <input type="search" class="search-field" style="height: 42px;" placeholder=" Search…" value="" name="s" title="Search for:">
        </label>
        <input type="submit" class="search-form-submit" value="Search">
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Ohayou</h3>
    <div class="widget widget_athemes_social_icons">

    	<ul class="clearfix widget-social-icons">   
    	
          
     			  <li><a href="https://github.com/onmyway133" title="Github"><i class="fa fa-github" aria-hidden="true"></i></a></li> 
          
   		
          
     			  <li><a href="https://twitter.com/onmyway133" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li> 
          
   		
          
            <li><a href="mailto:onmyway133@gmail.com?subject=Hello&body=World" title="email"><i class="fa fa-envelope" aria-hidden="true"></i></a></li> 
          
   		
   		</ul>


   		<!--
   		<ul class="clearfix widget-social-icons">   		
   		<li class="widget-si-twitter"><a href="http://twitter.com" title="Twitter"><i class="ico-twitter"></i></a></li> 
		<li class="widget-si-facebook"><a href="http://facebook.com" title="Facebook"><i class="ico-facebook"></i></a></li>
			<li class="widget-si-gplus"><a href="http://plus.google.com" title="Google+"><i class="ico-gplus"></i></a></li>
			<li class="widget-si-pinterest"><a href="http://pinterest.com" title="Pinterest"><i class="ico-pinterest"></i></a></li>
			<li class="widget-si-flickr"><a href="http://flickr.com" title="Flickr"><i class="ico-flickr"></i></a></li>
			<li class="widget-si-instagram"><a href="http://instagram.com" title="Instagram"><i class="ico-instagram"></i></a></li>
		</ul> -->

    </div>
  </div>


  
    
  <div class="widget_athemes_tabs">
    <ul id="widget-tab" class="clearfix widget-tab-nav">
      <li class="active"><a>Recent Posts</a></li>
    </ul>
    <div class="widget">
      <ul>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-use-Applications-folder-in-macOS/">How to use Applications folder in macOS</a></h6>
              <span>January 8, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-fix-library-not-found-with-SPM-and-CocoaPods-in-Xcode/">How to fix library not found with SPM and CocoaPods in  Xcode</a></h6>
              <span>January 8, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-rotation-in-same-direction-in-iOS/">How to make rotation in same direction in iOS</a></h6>
              <span>January 6, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-get-updated-safeAreaInsets-in-iOS/">How to get updated safeAreaInsets in iOS</a></h6>
              <span>January 6, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-disable-implicit-decoration-view-animation-in-UICollectionView/">How to disable implicit decoration view animation in UICollectionView</a></h6>
              <span>January 6, 2020</span>
            </div>

          </li>
        
          <li class="clearfix">

            
              <div class="widget-entry-summary" style="margin: 0;">
            

              <h6 style="margin: 0;"><a href="/blog/How-to-make-simple-tracker-via-swizzling-in-Swift/">How to make simple tracker via swizzling in Swift</a></h6>
              <span>January 4, 2020</span>
            </div>

          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/android/" style="font-size: 17.65px;">android</a> <a href="/tags/apple-script/" style="font-size: 11.18px;">apple script</a> <a href="/tags/catalyst/" style="font-size: 10px;">catalyst</a> <a href="/tags/ci/" style="font-size: 11.18px;">ci</a> <a href="/tags/cloud/" style="font-size: 10.59px;">cloud</a> <a href="/tags/cocoapods/" style="font-size: 11.76px;">cocoapods</a> <a href="/tags/combine/" style="font-size: 11.76px;">combine</a> <a href="/tags/csharp/" style="font-size: 10px;">csharp</a> <a href="/tags/css/" style="font-size: 10.59px;">css</a> <a href="/tags/dart/" style="font-size: 11.76px;">dart</a> <a href="/tags/database/" style="font-size: 10.59px;">database</a> <a href="/tags/design/" style="font-size: 10.59px;">design</a> <a href="/tags/electron/" style="font-size: 11.76px;">electron</a> <a href="/tags/firebase/" style="font-size: 11.76px;">firebase</a> <a href="/tags/flutter/" style="font-size: 11.76px;">flutter</a> <a href="/tags/git/" style="font-size: 11.18px;">git</a> <a href="/tags/github/" style="font-size: 12.35px;">github</a> <a href="/tags/go/" style="font-size: 10.59px;">go</a> <a href="/tags/google/" style="font-size: 10px;">google</a> <a href="/tags/iOS/" style="font-size: 19.41px;">iOS</a> <a href="/tags/javascript/" style="font-size: 18.24px;">javascript</a> <a href="/tags/kotlin/" style="font-size: 17.06px;">kotlin</a> <a href="/tags/layout/" style="font-size: 11.76px;">layout</a> <a href="/tags/life/" style="font-size: 14.12px;">life</a> <a href="/tags/links/" style="font-size: 14.12px;">links</a> <a href="/tags/macOS/" style="font-size: 18.82px;">macOS</a> <a href="/tags/machine-learning/" style="font-size: 10.59px;">machine learning</a> <a href="/tags/maps/" style="font-size: 11.76px;">maps</a> <a href="/tags/networking/" style="font-size: 10px;">networking</a> <a href="/tags/node/" style="font-size: 13.53px;">node</a> <a href="/tags/objc/" style="font-size: 10.59px;">objc</a> <a href="/tags/react/" style="font-size: 11.18px;">react</a> <a href="/tags/react-native/" style="font-size: 14.71px;">react native</a> <a href="/tags/realm/" style="font-size: 10px;">realm</a> <a href="/tags/rx/" style="font-size: 11.18px;">rx</a> <a href="/tags/script/" style="font-size: 10.59px;">script</a> <a href="/tags/spm/" style="font-size: 11.76px;">spm</a> <a href="/tags/swift/" style="font-size: 20px;">swift</a> <a href="/tags/swiftUI/" style="font-size: 16.47px;">swiftUI</a> <a href="/tags/tech/" style="font-size: 15.29px;">tech</a> <a href="/tags/terminal/" style="font-size: 14.12px;">terminal</a> <a href="/tags/testing/" style="font-size: 12.94px;">testing</a> <a href="/tags/tool/" style="font-size: 10px;">tool</a> <a href="/tags/unity/" style="font-size: 10px;">unity</a> <a href="/tags/voip/" style="font-size: 11.76px;">voip</a> <a href="/tags/watchOS/" style="font-size: 14.12px;">watchOS</a> <a href="/tags/web/" style="font-size: 10.59px;">web</a> <a href="/tags/wwdc/" style="font-size: 10.59px;">wwdc</a> <a href="/tags/xcode/" style="font-size: 15.88px;">xcode</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>

    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">36</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">38</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">49</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">50</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">42</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">40</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">47</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">27</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">24</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">35</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">6</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">35</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apple-script/">apple script</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/catalyst/">catalyst</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci/">ci</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/">cloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocoapods/">cocoapods</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/combine/">combine</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/csharp/">csharp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dart/">dart</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/">design</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/electron/">electron</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firebase/">firebase</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter/">flutter</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a><span class="tag-list-count">149</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">37</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kotlin/">kotlin</a><span class="tag-list-count">25</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/layout/">layout</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/links/">links</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/macOS/">macOS</a><span class="tag-list-count">70</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/machine-learning/">machine learning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maps/">maps</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/networking/">networking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/objc/">objc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/realm/">realm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rx/">rx</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/script/">script</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spm/">spm</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swift/">swift</a><span class="tag-list-count">212</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/swiftUI/">swiftUI</a><span class="tag-list-count">23</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tech/">tech</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/terminal/">terminal</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testing/">testing</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/">tool</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity/">unity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/voip/">voip</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/watchOS/">watchOS</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wwdc/">wwdc</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xcode/">xcode</a><span class="tag-list-count">19</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2020 onmyway133 All Rights Reserved.
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hiero" target="_blank">hiero</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var contentdiv = document.getElementById("content");

    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
</script>

<!-- Custome JS -->
<script src="/js/my.js"></script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/about/" class="mobile-nav-link">About</a>
  
    <a href="/writing/" class="mobile-nav-link">Writing</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/speaking/" class="mobile-nav-link">Speaking</a>
  
    <a href="/opensource/" class="mobile-nav-link">Open Source</a>
  
    <a href="/projects/" class="mobile-nav-link">Projects</a>
  
    <a href="/news/" class="mobile-nav-link">News</a>
  
    <a href="/gumroad/" class="mobile-nav-link">Gumroad</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>


<script src="/js/scripts.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-40119591-5', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->












  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
